{"version":3,"sources":["wwwroot/js/components.min.js"],"names":["Comment","React","createClass","displayName","rawMarkup","marked","this","props","text","sanitize","__html","render","replies","children","map","reply","createElement","author","Author","key","ID","Text","Replies","className","dangerouslySetInnerHTML","CommentBox","loadCommentsFromServer","$","ajax","url","dataType","data","range","cache","success","setState","bind","error","xhr","status","err","console","toString","getInitialState","componentDidMount","setInterval","polInterval","CommentList","state","CommentForm","commentNodes","comment","Image","src","ThumbnailUrl","ImageBox","loadImagesFromServer","imagesUrl","method","ImageList","commentsUrl","images","imageNodes","image"],"mappings":"AAAA,YAEA,IAAIA,SAAUC,MAAMC,aAChBC,YAAa,UAEbC,UAAW,QAASA,KAChB,GAAIA,GAAYC,OAAOC,KAAKC,MAAMC,MAAQC,UAAU,GACpD,QAASC,OAAQN,IAErBO,OAAQ,WACJ,GAAIC,GAAUN,KAAKC,MAAMM,SAASC,IAAI,SAAUC,GAC5C,MAAOd,OAAMe,cAAchB,SACvBiB,OAAQF,EAAMG,OACdC,IAAKJ,EAAMK,GACXZ,KAAMO,EAAMM,KACZT,QAASG,EAAMO,WAEvB,OAAOrB,OAAMe,cACT,OACEO,UAAW,WACbtB,MAAMe,cACF,MACEO,UAAW,iBACbjB,KAAKC,MAAMU,QAEfhB,MAAMe,cAAc,QAAUQ,wBAAyBlB,KAAKF,cAC5DQ,MAMRa,WAAaxB,MAAMC,aACnBC,YAAa,aAEbuB,uBAAwB,WACpBC,EAAEC,MACEC,IAAKvB,KAAKC,MAAMsB,IAChBC,SAAU,OACVC,KAAMzB,KAAKC,MAAMyB,MACjBC,OAAO,EACPC,QAAS,SAAUH,GACfzB,KAAK6B,UAAWJ,KAAMA,KACxBK,KAAK9B,MACP+B,MAAO,SAAUC,EAAKC,EAAQC,GAC1BC,QAAQJ,MAAM/B,KAAKC,MAAMsB,IAAKU,EAAQC,EAAIE,aAC5CN,KAAK9B,SAGfqC,gBAAiB,WACb,OAASZ,UAEba,kBAAmB,WACftC,KAAKoB,yBACLmB,YAAYvC,KAAKoB,yBAA0BpB,KAAKC,MAAMuC,cAE1DnC,OAAQ,WACJ,MAAOV,OAAMe,cACT,OACEO,UAAW,cACbtB,MAAMe,cACF,KACA,KACA,YAEJf,MAAMe,cAAc+B,aAAehB,KAAMzB,KAAK0C,MAAMjB,OACpD9B,MAAMe,cAAciC,YAAa,UAMzCA,YAAchD,MAAMC,aACtBC,YAAa,cAEbQ,OAAQ,WACN,MAAOV,OAAMe,cACX,OACEO,UAAW,eACb,wCAOFwB,YAAc9C,MAAMC,aACpBC,YAAa,cAEbQ,OAAQ,WAGJ,GAAIuC,GAAe5C,KAAKC,MAAMwB,KAAKjB,IAAI,SAAUqC,GAC7C,MAAOlD,OAAMe,cAAchB,SAAWiB,OAAQkC,EAAQjC,OAAQC,IAAKgC,EAAQ/B,GAAIR,QAASuC,EAAQ7B,QAASd,KAAM2C,EAAQ9B,QAI3H,OAAOpB,OAAMe,cACT,OACEO,UAAW,eACb2B,MAMRE,MAAQnD,MAAMC,aACdC,YAAa,QAEbQ,OAAQ,WACJ,MAAOV,OAAMe,cACT,MACA,KACAf,MAAMe,cAAc,OAASqC,IAAK/C,KAAKC,MAAMwB,KAAKuB,mBAQ1DC,SAAWtD,MAAMC,aACjBC,YAAa,WAEbqD,qBAAsB,WAClB7B,EAAEC,MACEC,IAAKvB,KAAKC,MAAMkD,YAChBC,OAAQ,MACR5B,SAAU,OACVG,OAAO,EACPC,QAAS,SAAUH,GACfzB,KAAK6B,UAAWJ,KAAMA,KACxBK,KAAK9B,MACP+B,MAAO,SAAUC,EAAKC,EAAQC,GAC1BC,QAAQJ,MAAM/B,KAAKC,MAAMkD,UAAWlB,EAAQC,EAAIE,aAClDN,KAAK9B,SAGfqC,gBAAiB,WACb,OAASZ,UAEba,kBAAmB,WACftC,KAAKkD,wBAET7C,OAAQ,WACJ,MAEIV,OAAMe,cACF,OACEO,UAAW,OACbtB,MAAMe,cAAc2C,WAAaC,YAAaA,YAAaC,OAAQvD,KAAK0C,MAAMjB,WAO1F4B,UAAY1D,MAAMC,aAClBC,YAAa,YAEbQ,OAAQ,WACJ,GAAImD,GAAaxD,KAAKC,MAAMsD,OAAO/C,IAAI,SAAUiD,GAC7C,MAAO9D,OAAMe,cAAcoC,OAASrB,KAAMgC,EAAOH,YAAatD,KAAKC,MAAMqD,eAE7E,OAAO3D,OAAMe,cACT,OACEO,UAAW,OACbuC","file":"components.min.js","sourcesContent":["\"use strict\";\n\nvar Comment = React.createClass({\n    displayName: \"Comment\",\n\n    rawMarkup: function rawMarkup() {\n        var rawMarkup = marked(this.props.text, { sanitize: true });\n        return { __html: rawMarkup };\n    },\n    render: function render() {\n        var replies = this.props.children.map(function (reply) {\n            return React.createElement(Comment, {\n                author: reply.Author,\n                key: reply.ID,\n                text: reply.Text,\n                replies: reply.Replies });\n        });\n        return React.createElement(\n            \"div\",\n            { className: \"comment\" },\n            React.createElement(\n                \"h2\",\n                { className: \"commentAuthor\" },\n                this.props.author\n            ),\n            React.createElement(\"span\", { dangerouslySetInnerHTML: this.rawMarkup() }),\n            replies\n        );\n    }\n});\n\"use strict\";\n\nvar CommentBox = React.createClass({\n    displayName: \"CommentBox\",\n\n    loadCommentsFromServer: function loadCommentsFromServer() {\n        $.ajax({\n            url: this.props.url,\n            dataType: 'json',\n            data: this.props.range,\n            cache: false,\n            success: function (data) {\n                this.setState({ data: data });\n            }.bind(this),\n            error: function (xhr, status, err) {\n                console.error(this.props.url, status, err.toString());\n            }.bind(this)\n        });\n    },\n    getInitialState: function getInitialState() {\n        return { data: [] };\n    },\n    componentDidMount: function componentDidMount() {\n        this.loadCommentsFromServer();\n        setInterval(this.loadCommentsFromServer(), this.props.polInterval);\n    },\n    render: function render() {\n        return React.createElement(\n            \"div\",\n            { className: \"commentBox\" },\n            React.createElement(\n                \"h1\",\n                null,\n                \"Comments\"\n            ),\n            React.createElement(CommentList, { data: this.state.data }),\n            React.createElement(CommentForm, null)\n        );\n    }\n});\n\"use strict\";\n\nvar CommentForm = React.createClass({\n  displayName: \"CommentForm\",\n\n  render: function render() {\n    return React.createElement(\n      \"div\",\n      { className: \"commentForm\" },\n      \"Hello, world! I am a CommentForm.\"\n    );\n  }\n});\n\"use strict\";\n\n/// <reference path=\"Comment.js\" />\nvar CommentList = React.createClass({\n    displayName: \"CommentList\",\n\n    render: function render() {\n\n        // Transform the data into react components of comment\n        var commentNodes = this.props.data.map(function (comment) {\n            return React.createElement(Comment, { author: comment.Author, key: comment.ID, replies: comment.Replies, text: comment.Text });\n        });\n\n        // return the components with an ordinary html wrapper\n        return React.createElement(\n            \"div\",\n            { className: \"commentList\" },\n            commentNodes\n        );\n    }\n});\n\"use strict\";\n\nvar Image = React.createClass({\n    displayName: \"Image\",\n\n    render: function render() {\n        return React.createElement(\n            \"div\",\n            null,\n            React.createElement(\"img\", { src: this.props.data.ThumbnailUrl })\n        );\n    }\n});\n'use strict';\n\n// Images: GET /api/userimage/getall&username={username}\n// Comment: GET /api/imagecomment?imageId={id}\nvar ImageBox = React.createClass({\n    displayName: 'ImageBox',\n\n    loadImagesFromServer: function loadImagesFromServer() {\n        $.ajax({\n            url: this.props.imagesUrl(),\n            method: 'GET',\n            dataType: 'json',\n            cache: false,\n            success: function (data) {\n                this.setState({ data: data });\n            }.bind(this),\n            error: function (xhr, status, err) {\n                console.error(this.props.imagesUrl, status, err.toString());\n            }.bind(this)\n        });\n    },\n    getInitialState: function getInitialState() {\n        return { data: [] };\n    },\n    componentDidMount: function componentDidMount() {\n        this.loadImagesFromServer();\n    },\n    render: function render() {\n        return(\n            // Pass the data to ImageList component\n            React.createElement(\n                'div',\n                { className: 'row' },\n                React.createElement(ImageList, { commentsUrl: commentsUrl, images: this.state.data })\n            )\n        );\n    }\n});\n\"use strict\";\n\nvar ImageList = React.createClass({\n    displayName: \"ImageList\",\n\n    render: function render() {\n        var imageNodes = this.props.images.map(function (image) {\n            return React.createElement(Image, { data: image, commentsUrl: this.props.commentsUrl });\n        });\n        return React.createElement(\n            \"div\",\n            { className: \"row\" },\n            imageNodes\n        );\n    }\n});"]}