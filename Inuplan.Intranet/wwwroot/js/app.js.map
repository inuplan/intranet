{"version":3,"sources":["webpack:///./src/actions/users.ts","webpack:///./src/components/comments/CommentProfile.tsx","webpack:///./src/components/pagination/Pagination.tsx","webpack:///./src/components/texteditor/TextEditor.tsx","webpack:///./src/actions/error.ts","webpack:///./src/actions/forum.ts","webpack:///./src/actions/whatsnew.ts","webpack:///./src/components/breadcrumbs/Breadcrumb.tsx","webpack:///./src/components/whatsnew/WhatsNewTooltip.tsx","webpack:///./src/utilities/normalize.ts","webpack:///./src/components/containers/ForumPost.tsx","webpack:///./src/store/store.ts","webpack:///./src/utilities/utils.ts","webpack:///./src/components/comments/Comment.tsx","webpack:///./src/components/comments/CommentControls.tsx","webpack:///./src/components/comments/CommentList.tsx","webpack:///./src/components/containers/UsedSpace.tsx","webpack:///./src/components/forum/ForumForm.tsx","webpack:///./src/components/images/ImageUpload.tsx","webpack:///./src/components/containers/About.tsx","webpack:///./src/components/containers/ForumComments.tsx","webpack:///./src/components/containers/ForumList.tsx","webpack:///./src/components/containers/Home.tsx","webpack:///./src/components/containers/ImageComments.tsx","webpack:///./src/components/containers/SelectedImage.tsx","webpack:///./src/components/containers/SingleImageComment.tsx","webpack:///./src/components/containers/UserImages.tsx","webpack:///./src/components/containers/Users.tsx","webpack:///./src/components/shells/Forum.tsx","webpack:///./src/components/shells/Main.tsx","webpack:///./src/utilities/onstartup.ts","webpack:///./src/actions/status.ts","webpack:///./src/components/comments/CommentDeleted.tsx","webpack:///./src/components/comments/CommentForm.tsx","webpack:///./src/components/containers/Error.tsx","webpack:///./src/components/containers/WhatsNew.tsx","webpack:///./src/components/forum/ForumTitle.tsx","webpack:///./src/components/images/Image.tsx","webpack:///./src/components/images/ImageList.tsx","webpack:///./src/components/loading/Spinner.tsx","webpack:///./src/components/texteditor/StyleButton.tsx","webpack:///./src/components/texteditor/ToolbarBlock.tsx","webpack:///./src/components/users/User.tsx","webpack:///./src/components/users/UserList.tsx","webpack:///./src/components/whatsnew/WhatsNewForumPost.tsx","webpack:///./src/components/whatsnew/WhatsNewItemComment.tsx","webpack:///./src/components/whatsnew/WhatsNewItemImage.tsx","webpack:///./src/components/whatsnew/WhatsNewList.tsx","webpack:///./src/components/wrappers/Links.tsx","webpack:///./src/reducers/commentsInfo.ts","webpack:///./src/reducers/errorInfo.ts","webpack:///./src/reducers/forumInfo.ts","webpack:///./src/reducers/imagesInfo.ts","webpack:///./src/reducers/root.ts","webpack:///./src/reducers/statusInfo.ts","webpack:///./src/reducers/usersInfo.ts","webpack:///./src/reducers/whatsNewInfo.ts","webpack:///./src/app.tsx","webpack:///./src/actions/comments.ts","webpack:///./src/actions/images.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAG0C;AAC4B;AAG9B;AAKjC,IAAM,OAAO,GAAiB,UAAC,IAAI;IACtC,MAAM,CAAC;QACH,IAAI,EAAE,EAAmB;QACzB,OAAO,EAAE,IAAI;KAChB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,gBAAgB,GAAmB,UAAC,EAAE;IAC/C,MAAM,CAAC;QACH,IAAI,EAAE,EAA8B;QACpC,OAAO,EAAE,EAAE;KACd,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,aAAa,GAAmC,UAAC,KAAK;IAC/D,MAAM,CAAC;QACH,IAAI,EAAE,EAAyB;QAC/B,OAAO,EAAE,KAAK;KACjB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,gBAAgB,GAAG,UAAC,QAAgB;IAC7C,MAAM,CAAC,UAAC,QAAuB;QAC3B,QAAQ,CAAC,oFAAY,EAAE,CAAC,CAAC;QACzB,IAAI,GAAG,GAAM,OAAO,CAAC,IAAI,CAAC,KAAK,kBAAa,QAAU,CAAC;QACvD,IAAM,OAAO,GAAG,gGAAe,CAAO,QAAQ,CAAC,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,EAAE,EAAR,CAAQ,CAAC,CAAC;QAE/D,MAAM,CAAC,8CAAK,CAAC,GAAG,EAAE,iEAAO,CAAC;aACrB,IAAI,CAAC,OAAO,CAAC;aACb,IAAI,CAAC,cAAI;YACN,QAAQ,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;YACpC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;IACX,CAAC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,SAAS,GAAG,UAAC,QAAgB;IACtC,MAAM,CAAC,UAAC,QAAQ;QACZ,QAAQ,CAAC,oFAAY,EAAE,CAAC,CAAC;QACzB,IAAI,GAAG,GAAM,OAAO,CAAC,IAAI,CAAC,KAAK,kBAAa,QAAU,CAAC;QACvD,IAAM,OAAO,GAAG,gGAAe,CAAO,QAAQ,CAAC,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,EAAE,EAAR,CAAQ,CAAC,CAAC;QAE/D,MAAM,CAAC,8CAAK,CAAC,GAAG,EAAE,iEAAO,CAAC;aACrB,IAAI,CAAC,OAAO,CAAC;aACb,IAAI,CAAC,cAAI,IAAM,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpD,CAAC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,UAAU,GAAG;IACtB,MAAM,CAAC,UAAC,QAAQ;QACZ,QAAQ,CAAC,oFAAY,EAAE,CAAC,CAAC;QACzB,IAAM,OAAO,GAAG,gGAAe,CAAS,QAAQ,CAAC,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,EAAE,EAAR,CAAQ,CAAC,CAAC;QACjE,MAAM,CAAC,8CAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,iEAAO,CAAC;aACpC,IAAI,CAAC,OAAO,CAAC;aACb,IAAI,CAAC,eAAK;YACP,IAAM,MAAM,GAAG,UAAC,IAAU,IAAK,WAAI,CAAC,EAAE,EAAP,CAAO,CAAC;YACvC,IAAM,QAAQ,GAAG,UAAC,IAAU,IAAK,WAAI,EAAJ,CAAI,CAAC;YACtC,IAAM,GAAG,GAAG,uFAAM,CAAC,KAAK,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;YAC5C,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC;AACN,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;ACzE6B;AACgB;AAE/C;IAAoC,kCAAyB;IAA7D;;IASA,CAAC;IARG,+BAAM,GAAN;QACI,MAAM,CAAE,qDAAC,sDAAK,CAAC,IAAI,IAAC,SAAS,EAAC,iBAAiB;YACnC,qDAAC,sDAAK,IAAC,GAAG,EAAC,yBAAyB,EAC7B,KAAK,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,EACxC,SAAS,EAAC,cAAc,GAAE;YAChC,IAAI,CAAC,KAAK,CAAC,QAAQ,CACX,CAAC;IAC1B,CAAC;IACL,qBAAC;AAAD,CAAC,CATmC,gDAAe,GASlD;;;;;;;;;;;;;;;;;;;;;;;;ACZ8B;AAC8B;AAS7D;IAAgC,8BAAgC;IAAhE;;IAeA,CAAC;IAdG,2BAAM,GAAN;QACU,mBAAmD,EAAjD,0BAAU,EAAE,cAAI,EAAE,0BAAU,EAAE,cAAI,CAAgB;QAC1D,IAAM,IAAI,GAAG,UAAU,GAAG,CAAC,CAAC;QAC5B,IAAM,GAAG,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC;QAC9C,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAE1C,MAAM,CAAE,qDAAC,2DAAY,IACT,IAAI,QAAC,IAAI,QAAC,QAAQ,QAAC,aAAa,QAChC,KAAK,EAAE,UAAU,EACjB,UAAU,EAAE,CAAC,EACb,UAAU,EAAE,IAAI,EAChB,QAAQ,EAAE,UAAiB,GAC7B,CAAC;IACf,CAAC;IACL,iBAAC;AAAD,CAAC,CAf+B,gDAAe,GAe9C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzB8B;AAC2B;AAEZ;AACe;AACF;AAE3D,mBAAO,CAAC,GAAyB,CAAC,CAAC;AAYnC;IAAgC,8BAAiD;IAC7E,oBAAY,KAAsB;QAAlC,YACI,kBAAM,KAAK,CAAC,SAgBf;QAdG,IAAM,WAAW,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,qDAAW,CAAC,iBAAiB,CAAC,kGAAiB,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,GAAG,qDAAW,CAAC,WAAW,EAAE,CAAC;QAC3I,KAAI,CAAC,KAAK,GAAG;YACT,QAAQ,EAAE,KAAK;YACf,WAAW,EAAE,WAAW;SAC3B,CAAC;QAEF,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACvC,KAAI,CAAC,MAAM,GAAG,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACrC,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACzC,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACvC,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACvC,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAE/C,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IACrD,CAAC;IAED,4BAAO,GAAP;QACY,wCAAW,CAAgB;QACnC,IAAM,QAAQ,GAAG,gGAAe,CAAC,WAAW,CAAC,iBAAiB,EAAE,CAAC,CAAC;QAClE,MAAM,CAAC,QAAQ,CAAC;IACpB,CAAC;IAED,4BAAO,GAAP,UAAQ,QAAgB;QACpB,IAAM,WAAW,GAAG,OAAO,CAAC,QAAQ,CAAC,GAAG,qDAAW,CAAC,iBAAiB,CAAC,kGAAiB,CAAC,QAAQ,CAAC,CAAC,GAAG,qDAAW,CAAC,WAAW,EAAE,CAAC;QAC/H,IAAI,CAAC,QAAQ,CAAC,EAAE,WAAW,eAAE,CAAC,CAAC;IACnC,CAAC;IAED,6BAAQ,GAAR,UAAS,WAAwB;QAC7B,IAAI,CAAC,QAAQ,CAAC,EAAE,WAAW,eAAE,CAAC,CAAC;IACnC,CAAC;IAED,4BAAO,GAAP,UAAQ,CAA2B;QAC/B,IAAI,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;IACtC,CAAC;IAED,2BAAM,GAAN,UAAO,CAA2B;QAC9B,IAAI,CAAC,QAAQ,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;IACvC,CAAC;IAED,iCAAY,GAAZ,UAAa,SAAqB,EAAE,KAAY;QACpC,wCAAW,CAAgB;QACnC,IAAI,WAAwB,CAAC;QAC7B,MAAM,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;YAChB,KAAK,CAAgB,EAAE,CAAC;gBACpB,WAAW,GAAG,mDAAS,CAAC,eAAe,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;gBAC5D,KAAK,CAAC;YACV,CAAC;YACD,KAAK,CAAiB,EAAE,CAAC;gBACrB,WAAW,GAAG,mDAAS,CAAC,iBAAiB,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;gBAC9D,KAAK,CAAC;YACV,CAAC;YACD,SAAS,CAAC;gBACN,WAAW,GAAG,WAAW,CAAC;gBAC1B,KAAK,CAAC;YACV,CAAC;QACL,CAAC;QAED,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;IAC/B,CAAC;IAED,gCAAW,GAAX,UAAY,CAAwB;QACxB,kCAAQ,CAAgB;QAEhC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;YACZ,IAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAgB,CAAC;YAC1C,MAAM,CAAC,KAAK,EAAE,CAAC;QACnB,CAAC;IACL,CAAC;IAED,2BAAM,GAAN;QACY,wCAAW,CAAgB;QAC7B,mBAAsC,EAApC,sBAAQ,EAAE,4BAAW,CAAgB;QAC7C,IAAM,gBAAgB,GAAQ,mDAAS,CAAC,mBAAmB,CAAC,WAAW,CAAC,CAAC;QACzE,IAAM,iBAAiB,GAAG,WAAW,CAAC,qBAAqB,EAAE,CAAC;QAC9D,IAAM,GAAG,GAAG,QAAQ,GAAG,kCAAkC,GAAG,iBAAiB,CAAC;QAC9E,IAAM,QAAQ,GAAG;YACb,MAAM,EAAE;gBACJ,OAAO,EAAE,SAAS;gBAClB,QAAQ,EAAE,KAAK;gBACf,KAAK,EAAE,SAAS;gBAChB,eAAe,EAAE,SAAS;gBAC1B,YAAY,EAAE,KAAK;aACtB;SACJ,CAAC;QACF,MAAM,CAAE;YACI,8DAAK,SAAS,EAAE,GAAG;gBACf,qDAAC,mEAAY,IACT,YAAY,EAAE,IAAI,CAAC,YAAY,EAC/B,gBAAgB,EAAE,gBAAgB,EAClC,iBAAiB,EAAE,iBAAiB,GACtC;gBAEF,8DAAK,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,SAAS,EAAC,iBAAiB;oBACvD,qDAAC,gDAAM,IACH,WAAW,EAAE,WAAW,EACxB,QAAQ,EAAE,IAAI,CAAC,QAAQ,EACvB,OAAO,EAAE,IAAI,CAAC,OAAO,EACrB,MAAM,EAAE,IAAI,CAAC,MAAM,EACnB,WAAW,EAAE,WAAW,EACxB,cAAc,EAAE,QAAQ,EACxB,GAAG,EAAC,QAAQ,GACd,CACA,CACJ;YAEN,gEAAM,CACJ,CAAC;IACnB,CAAC;IACL,iBAAC;AAAD,CAAC,CAhH+B,gDAAe,GAgH9C;;;;;;;;;;;;;;;;;AC9HM,IAAM,WAAW,GAAG,UAAC,QAAiB;IACzC,MAAM,CAAC;QACH,IAAI,EAAE,CAAwB;QAC9B,OAAO,EAAE,QAAQ;KACpB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,aAAa,GAAG,UAAC,KAAa;IACvC,MAAM,CAAC;QACH,IAAI,EAAE,CAA0B;QAChC,OAAO,EAAE,KAAK;KACjB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,eAAe,GAAG;IAC3B,MAAM,CAAC;QACH,IAAI,EAAE,CAA4B;KACrC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,iBAAiB,GAAG;IAC7B,MAAM,CAAC;QACH,IAAI,EAAE,CAA8B;KACvC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,eAAe,GAAG,UAAC,OAAe;IAC3C,MAAM,CAAC;QACH,IAAI,EAAE,CAA4B;QAClC,OAAO,EAAE,OAAO;KACnB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,QAAQ,GAAG,UAAC,KAAiB;IACtC,MAAM,CAAC,UAAC,QAAwB;QAC5B,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC;QAC5B,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC;QACrC,QAAQ,CAAC,eAAe,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;QACzC,MAAM,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,UAAU,GAAG;IACtB,MAAM,CAAC,UAAC,QAAwB;QAC5B,QAAQ,CAAC,eAAe,EAAE,CAAC,CAAC;QAC5B,QAAQ,CAAC,iBAAiB,EAAE,CAAC,CAAC;QAC9B,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC;QAC7B,MAAM,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;IAC7B,CAAC,CAAC;AACN,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrDwC;AACoB;AAGA;AAEtB;AAKjC,IAAM,cAAc,GAAG,UAAC,KAAsB;IACjD,MAAM,CAAC;QACH,IAAI,EAAE,EAAkB;QACxB,OAAO,EAAE,CAAC,KAAK,CAAC;KACnB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,eAAe,GAAG,UAAC,MAAyB;IACrD,MAAM,CAAC;QACH,IAAI,EAAE,EAAmB;QACzB,OAAO,EAAE,MAAM;KAClB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,aAAa,GAAG,UAAC,UAAkB;IAC5C,MAAM,CAAC;QACH,IAAI,EAAE,EAAyB;QAC/B,OAAO,EAAE,UAAU;KACtB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,OAAO,GAAG,UAAC,IAAY;IAChC,MAAM,CAAC;QACH,IAAI,EAAE,EAAkB;QACxB,OAAO,EAAE,IAAI;KAChB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,OAAO,GAAG,UAAC,IAAY;IAChC,MAAM,CAAC;QACH,IAAI,EAAE,EAAkB;QACxB,OAAO,EAAE,IAAI;KAChB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,OAAO,GAAG,UAAC,IAAY;IAChC,MAAM,CAAC;QACH,IAAI,EAAE,EAAkB;QACxB,OAAO,EAAE,IAAI;KAChB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,iBAAiB,GAAG,UAAC,EAAU;IACxC,MAAM,CAAC;QACH,IAAI,EAAE,EAAuB;QAC7B,OAAO,EAAE,EAAE;KACd,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,cAAc,GAAG,UAAC,OAAe;IAC1C,MAAM,CAAC;QACH,IAAI,EAAE,EAAkB;QACxB,OAAO,EAAE,OAAO;KACnB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,QAAQ,GAAG,UAAC,MAAc,EAAE,IAAa,EAAE,EAAc;IAClE,MAAM,CAAC,UAAC,QAAQ;QACZ,QAAQ,CAAC,oFAAY,EAAE,CAAC,CAAC;QACzB,IAAM,GAAG,GAAM,OAAO,CAAC,IAAI,CAAC,SAAS,gBAAW,MAAM,cAAS,IAAM,CAAC;QACtE,IAAM,GAAG,GAAiB,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,iEAAO,EAAE;YACjD,MAAM,EAAE,KAAK;SAChB,CAAC,CAAC;QACH,IAAM,OAAO,GAAG,gGAAe,CAAC,QAAQ,CAAC,CAAC,WAAC,IAAI,WAAI,EAAJ,CAAI,CAAC,CAAC;QACrD,MAAM,CAAC,8CAAK,CAAC,GAAG,EAAE,GAAG,CAAC;aACjB,IAAI,CAAC,OAAO,CAAC;aACb,IAAI,CAAC,EAAE,CAAC,CAAC;IAClB,CAAC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,YAAY,GAAG,UAAC,IAAQ,EAAE,IAAS;IAAnB,+BAAQ;IAAE,gCAAS;IAC5C,MAAM,CAAC,UAAC,QAAQ;QACZ,QAAQ,CAAC,oFAAY,EAAE,CAAC,CAAC;QACzB,IAAM,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC;QACtC,IAAM,GAAG,GAAM,KAAK,cAAS,IAAI,cAAS,IAAM,CAAC;QACjD,IAAM,OAAO,GAAG,gGAAe,CAAiC,QAAQ,CAAC,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,EAAE,EAAR,CAAQ,CAAC,CAAC;QACzF,MAAM,CAAC,8CAAK,CAAC,GAAG,EAAE,iEAAO,CAAC;aACrB,IAAI,CAAC,OAAO,CAAC;aACb,IAAI,CAAC,cAAI;YAEN,IAAM,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC;YAC1C,IAAM,WAAW,GAAG,eAAe,CAAC,GAAG,CAAC,kFAAoB,CAAC,CAAC;YAG9D,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;YACxB,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;YACxB,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACzC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YAGpC,QAAQ,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;IACX,CAAC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,SAAS,GAAG,UAAC,EAAU,EAAE,EAAe;IACjD,MAAM,CAAC,UAAC,QAAQ;QACZ,QAAQ,CAAC,oFAAY,EAAE,CAAC,CAAC;QACzB,IAAM,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC;QACrC,IAAM,GAAG,GAAM,KAAK,YAAO,EAAI,CAAC;QAChC,IAAM,OAAO,GAAG,gGAAe,CAAgC,QAAQ,CAAC,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,EAAE,EAAR,CAAQ,CAAC,CAAC;QACxF,MAAM,CAAC,8CAAK,CAAC,GAAG,EAAE,iEAAO,CAAC;aACrB,IAAI,CAAC,OAAO,CAAC;aACb,IAAI,CAAC,cAAI;YACN,IAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC;YAC1B,IAAM,KAAK,GAAG,yGAAoB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAEhD,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC;YAChC,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC;YAClC,QAAQ,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QAC/C,CAAC,CAAC;aACD,IAAI,CAAC,EAAE,CAAC,CAAC;IAClB,CAAC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,UAAU,GAAG,UAAC,IAAuC,EAAE,EAAc;IAC9E,MAAM,CAAC,UAAC,QAAQ;QACZ,QAAQ,CAAC,oFAAY,EAAE,CAAC,CAAC;QACzB,IAAM,GAAG,GAAG,KAAG,OAAO,CAAC,IAAI,CAAC,SAAW,CAAC;QACxC,IAAM,OAAO,GAAG,IAAI,OAAO,EAAE,CAAC;QAC9B,OAAO,CAAC,MAAM,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;QACnD,IAAM,OAAO,GAAG,gGAAe,CAAC,QAAQ,CAAC,CAAC,WAAC,IAAI,WAAI,EAAJ,CAAI,CAAC,CAAC;QAErD,IAAM,GAAG,GAAgB,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,iEAAO,EAAE;YAChD,MAAM,EAAE,KAAK;YACb,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;YAC1B,OAAO,EAAE,OAAO;SACnB,CAAC,CAAC;QAEH,MAAM,CAAC,8CAAK,CAAC,GAAG,EAAE,GAAG,CAAC;aACjB,IAAI,CAAC,OAAO,CAAC;aACb,IAAI,CAAC,EAAE,CAAC,CAAC;IAClB,CAAC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,UAAU,GAAG,UAAC,EAAU,EAAE,EAAc;IACjD,MAAM,CAAC,UAAC,QAAQ;QACZ,QAAQ,CAAC,oFAAY,EAAE,CAAC,CAAC;QACzB,IAAM,GAAG,GAAM,OAAO,CAAC,IAAI,CAAC,SAAS,YAAO,EAAI,CAAC;QACjD,IAAM,GAAG,GAAgB,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,iEAAO,EAAE;YAChD,MAAM,EAAE,QAAQ;SACnB,CAAC,CAAC;QAEH,IAAM,OAAO,GAAG,gGAAe,CAAC,QAAQ,CAAC,CAAC,WAAC,IAAI,WAAI,EAAJ,CAAI,CAAC,CAAC;QACrD,MAAM,CAAC,8CAAK,CAAC,GAAG,EAAE,GAAG,CAAC;aACjB,IAAI,CAAC,OAAO,CAAC;aACb,IAAI,CAAC,EAAE,CAAC,CAAC;IAClB,CAAC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,UAAU,GAAG,UAAC,IAAgD,EAAE,EAAc;IACvF,MAAM,CAAC,UAAC,QAAQ;QACZ,QAAQ,CAAC,oFAAY,EAAE,CAAC,CAAC;QACzB,IAAM,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC;QACnC,IAAM,OAAO,GAAG,IAAI,OAAO,EAAE,CAAC;QAC9B,OAAO,CAAC,MAAM,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;QACnD,IAAM,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,iEAAO,EAAE;YACnC,MAAM,EAAE,MAAM;YACd,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;YAC1B,OAAO,EAAE,OAAO;SACnB,CAAC,CAAC;QAEH,IAAM,OAAO,GAAG,gGAAe,CAAC,QAAQ,CAAC,CAAC,WAAC,IAAI,WAAI,EAAJ,CAAI,CAAC,CAAC;QAErD,MAAM,CAAC,8CAAK,CAAC,GAAG,EAAE,GAAG,CAAC;aACjB,IAAI,CAAC,OAAO,CAAC;aACb,IAAI,CAAC,EAAE,CAAC,CAAC;IAClB,CAAC,CAAC;AACN,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;ACnL4D;AACQ;AAI5B;AAEC;AACH;AAEjC,IAAM,SAAS,GAAG,UAAC,MAAuB;IAC7C,MAAM,CAAC;QACH,IAAI,EAAE,CAAqB;QAC3B,OAAO,EAAE,MAAM;KAClB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,OAAO,GAAG,UAAC,IAAY;IAChC,MAAM,CAAC;QACH,IAAI,EAAE,CAA6B;QACnC,OAAO,EAAE,IAAI;KAChB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,OAAO,GAAG,UAAC,IAAY;IAChC,MAAM,CAAC;QACH,IAAI,EAAE,CAA6B;QACnC,OAAO,EAAE,IAAI;KAChB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,OAAO,GAAG,UAAC,IAAY;IAChC,MAAM,CAAC;QACH,IAAI,EAAE,CAA6B;QACnC,OAAO,EAAE,IAAI;KAChB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,aAAa,GAAG,UAAC,UAAkB;IAC5C,MAAM,CAAC;QACH,IAAI,EAAE,CAAoC;QAC1C,OAAO,EAAE,UAAU;KACtB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,eAAe,GAAG,UAAC,IAAY,EAAE,IAAY;IACtD,MAAM,CAAC,UAAS,QAAwB;QACpC,QAAQ,CAAC,oFAAY,EAAE,CAAC,CAAC;QACzB,IAAM,GAAG,GAAM,OAAO,CAAC,IAAI,CAAC,QAAQ,cAAS,IAAI,cAAS,IAAM,CAAC;QACjE,IAAM,OAAO,GAAG,gGAAe,CAA6C,QAAQ,CAAC,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,EAAE,EAAR,CAAQ,CAAC,CAAC;QACrG,MAAM,CAAC,8CAAK,CAAC,GAAG,EAAE,iEAAO,CAAC;aACrB,IAAI,CAAC,OAAO,CAAC;aACb,IAAI,CAAC,cAAI;YACN,IAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;YAChC,KAAK,CAAC,OAAO,CAAC,cAAI;gBACd,IAAM,MAAM,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC/C,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oBACT,QAAQ,CAAC,sFAAO,CAAC,MAAM,CAAC,CAAC,CAAC;gBAC9B,CAAC;YACL,CAAC,CAAC,CAAC;YAGH,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;YACxB,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;YACxB,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YACpC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YAEzC,IAAM,UAAU,GAAG,KAAK,CAAC,GAAG,CAAC,6EAAS,CAAC,CAAC;YACxC,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC;IACV,CAAC,CAAC;AACN,CAAC,CAAC;AAEF,IAAM,SAAS,GAAG,UAAC,IAAkB,EAAE,IAA0F;IAC7H,IAAI,MAAM,GAAc,IAAI,CAAC;IAC7B,EAAE,CAAC,CAAC,IAAI,KAAK,CAAsB,CAAC,CAAC,CAAC;QAClC,MAAM,GAAmC,IAAK,CAAC,MAAM,CAAC,MAAM,CAAC;IACjE,CAAC;IAAC,IAAI,CAAC,CAAC;QACJ,MAAM,GAAuB,IAAK,CAAC,MAAM,CAAC;IAC9C,CAAC;IACD,MAAM,CAAC,MAAM,CAAC;AAClB,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;AClF6B;AACK;AAGpC;IAAgC,8BAA2B;IAA3D;;IAMA,CAAC;IALG,2BAAM,GAAN;QACI,MAAM,CAAE,6DAAI,SAAS,EAAC,YAAY,IACrB,IAAI,CAAC,KAAK,CAAC,QAAQ,CACnB,CAAC;IAClB,CAAC;IACL,iBAAC;AAAD,CAAC,CAN+B,gDAAe,GAM9C;;AAED,WAAiB,UAAU;IACvB;QAA0B,wBAAgD;QAA1E;;QAaA,CAAC;QAZG,qBAAM,GAAN;YACU,mBAA6B,EAA3B,cAAI,EAAE,kBAAM,CAAgB;YACpC,EAAE,CAAC,CAAC,MAAM,CAAC;gBAAC,MAAM,CAAC,6DAAI,SAAS,EAAC,QAAQ,IACpC,IAAI,CAAC,KAAK,CAAC,QAAQ,CACnB,CAAC;YAEN,MAAM,CAAC;gBACH,qDAAC,kDAAI,IAAC,EAAE,EAAE,IAAI,IACT,IAAI,CAAC,KAAK,CAAC,QAAQ,CACjB,CACN,CAAC;QACV,CAAC;QACL,WAAC;IAAD,CAAC,CAbyB,gDAAe,GAaxC;IAbY,eAAI,OAahB;AACL,CAAC,EAfgB,UAAU,KAAV,UAAU,QAe1B;;;;;;;;;;;;;;;;;;;;;;;AC3B8B;AAC2B;AAM1D;IAAqC,mCAAgC;IAArE;;IAWA,CAAC;IAVG,qCAAW,GAAX,UAAY,GAAW;QACnB,MAAM,CAAE,qDAAC,wDAAO,IAAC,EAAE,EAAC,SAAS,IAAE,GAAG,CAAW,CAAC;IAClD,CAAC;IAED,gCAAM,GAAN;QACU,mBAAkC,EAAhC,oBAAO,EAAE,sBAAQ,CAAgB;QACzC,MAAM,CAAE,qDAAC,+DAAc,IAAC,SAAS,EAAC,MAAM,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAC9D,QAAQ,CACI,CAAC;IAC9B,CAAC;IACL,sBAAC;AAAD,CAAC,CAXoC,gDAAe,GAWnD;;;;;;;;;;;;;;AChBM,IAAM,eAAe,GAAG,UAAC,MAA6B;IACzD,IAAI,IAAI,GAAG,IAAI,CAAC;IAChB,IAAI,QAAQ,GAAG,CAAC,CAAC,CAAC;IAClB,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,KAAK,CAAkB,CAAC,CAAC,CAAC;QAErC,IAAM,KAAK,GAAsB,MAAM,CAAC,IAAI,CAAC;QAC7C,IAAI,GAAuB;YACvB,SAAS,EAAE,KAAK,CAAC,SAAS;YAC1B,QAAQ,EAAE,KAAK,CAAC,QAAQ;YACxB,OAAO,EAAE,KAAK,CAAC,OAAO;YACtB,WAAW,EAAE,KAAK,CAAC,WAAW;YAC9B,UAAU,EAAE,KAAK,CAAC,UAAU;YAC5B,YAAY,EAAE,KAAK,CAAC,YAAY;YAChC,QAAQ,EAAE,KAAK,CAAC,QAAQ;YACxB,WAAW,EAAE,KAAK,CAAC,WAAW;SACjC,CAAC;QACF,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC;IAC/B,CAAC;IACD,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,KAAK,CAAoB,CAAC,CAAC,CAAC;QAE5C,IAAM,OAAO,GAAqC,MAAM,CAAC,IAAI,CAAC;QAC9D,IAAI,GAAG;YACH,EAAE,EAAE,OAAO,CAAC,EAAE;YACd,IAAI,EAAE,OAAO,CAAC,IAAI;YAClB,OAAO,EAAE,OAAO,CAAC,OAAO;YACxB,eAAe,EAAE,OAAO,CAAC,eAAe;YACxC,QAAQ,EAAE,OAAO,CAAC,QAAQ;SAC7B,CAAC;QACF,QAAQ,GAAG,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC;IACjC,CAAC;IACD,IAAI,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,KAAK,CAAsB,CAAC,CAAC,CAAC;QAC9C,IAAM,IAAI,GAAkC,MAAM,CAAC,IAAI,CAAC;QACxD,IAAI,GAAG;YACH,EAAE,EAAE,IAAI,CAAC,QAAQ;YACjB,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK;YACxB,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM;YAC1B,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY;SACzC,CAAC;QACF,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC;IACrC,CAAC;IAED,MAAM,CAAC;QACH,EAAE,EAAE,MAAM,CAAC,EAAE;QACb,IAAI,EAAE,MAAM,CAAC,IAAI;QACjB,IAAI,EAAE,IAAI;QACV,EAAE,EAAE,MAAM,CAAC,EAAE;QACb,QAAQ,EAAE,QAAQ;KACrB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,cAAc,GAAG,UAAC,GAAsB;IACjD,MAAM,CAAC;QACH,OAAO,EAAE,GAAG,CAAC,OAAO;QACpB,QAAQ,EAAE,GAAG,CAAC,QAAQ;QACtB,SAAS,EAAE,GAAG,CAAC,SAAS;QACxB,WAAW,EAAE,GAAG,CAAC,WAAW;QAC5B,UAAU,EAAE,GAAG,CAAC,UAAU;QAC1B,YAAY,EAAE,GAAG,CAAC,YAAY;QAC9B,YAAY,EAAE,GAAG,CAAC,YAAY;QAC9B,QAAQ,EAAE,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC;QAChC,WAAW,EAAE,GAAG,CAAC,WAAW;KAC/B,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,oBAAoB,GAAG,UAAC,KAAkC;IACnE,IAAM,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,cAAI,IAAI,WAAI,CAAC,EAAE,EAAP,CAAO,CAAC,CAAC;IACrD,IAAM,aAAa,GAAG,KAAK,CAAC,aAAa,GAAG,gBAAgB,CAAC,KAAK,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC;IACzF,MAAM,CAAC;QACH,EAAE,EAAE,KAAK,CAAC,EAAE;QACZ,WAAW,EAAE,KAAK,CAAC,WAAW;QAC9B,MAAM,EAAE,KAAK,CAAC,MAAM;QACpB,SAAS,EAAE,KAAK,CAAC,SAAS;QAC1B,QAAQ,EAAE,KAAK,CAAC,MAAM,CAAC,EAAE;QACzB,OAAO,EAAE,KAAK,CAAC,OAAO;QACtB,UAAU,EAAE,KAAK,CAAC,UAAU;QAC5B,KAAK,EAAE,KAAK,CAAC,KAAK;QAClB,YAAY,EAAE,KAAK,CAAC,YAAY;QAChC,aAAa,EAAE,aAAa;QAC5B,YAAY,EAAE,KAAK,CAAC,YAAY;QAChC,QAAQ,EAAE,QAAQ;KACrB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,gBAAgB,GAAG,UAAC,OAAyB;IACtD,IAAI,CAAC,GAAG,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,GAAG,EAAE,CAAC;IAC/C,IAAM,OAAO,GAAG,CAAC,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;IACxC,IAAM,QAAQ,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC;IAC5D,MAAM,CAAC;QACH,SAAS,EAAE,OAAO,CAAC,EAAE;QACrB,QAAQ,EAAE,QAAQ;QAClB,OAAO,EAAE,OAAO,CAAC,OAAO;QACxB,QAAQ,EAAE,OAAO,CAAC,QAAQ;QAC1B,IAAI,EAAE,OAAO,CAAC,IAAI;QAClB,OAAO,EAAE,OAAO;QAChB,MAAM,EAAE,OAAO,CAAC,MAAM;KACzB,CAAC;AACN,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnG6B;AACgB;AACa;AACyC;AACzD;AACqB;AACiB;AACxB;AACV;AAoBhD,IAAM,eAAe,GAAG,UAAC,KAAW;IAChC,IAAM,QAAQ,GAAG,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,cAAc,CAAC;IAC3D,IAAM,KAAK,GAAG,uEAAI,CAAC,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,MAAM,EAAE,UAAC,KAAK,IAAK,YAAK,CAAC,EAAE,KAAK,QAAQ,EAArB,CAAqB,CAAC,CAAC;IACxF,MAAM,CAAC;QACH,QAAQ,EAAE,QAAQ;QAClB,KAAK,EAAE,KAAK;QACZ,IAAI,EAAE,KAAK,CAAC,SAAS,CAAC,WAAW;QACjC,OAAO,EAAE,UAAC,EAAE,IAAK,YAAK,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,EAAzB,CAAyB;QAC1C,OAAO,EAAE,UAAC,EAAE,IAAK,YAAK,CAAC,SAAS,CAAC,aAAa,KAAK,EAAE,EAApC,CAAoC;QACrD,OAAO,EAAE,KAAK,GAAG,2EAAQ,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC,GAAG,KAAK;KACnF,CAAC;AACN,CAAC,CAAC;AAEF,IAAM,kBAAkB,GAAG,UAAC,QAAuB;IAC/C,MAAM,CAAC;QACH,MAAM,EAAE,UAAC,IAAuC,EAAE,EAAc;YAC5D,QAAQ,CAAC,yFAAU,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;QACnC,CAAC;QACD,OAAO,EAAE,UAAC,EAAU;YAChB,QAAQ,CAAC,wFAAS,CAAC,EAAE,CAAC,CAAC;iBACtB,IAAI,CAAC,cAAM,eAAQ,CAAC,gGAAiB,CAAC,EAAE,CAAC,CAAC,EAA/B,CAA+B,CAAC,CAAC;QACjD,CAAC;QACD,UAAU,EAAE,UAAC,EAAU,EAAE,EAAc;YACnC,QAAQ,CAAC,yFAAU,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;QACjC,CAAC;QACD,QAAQ,EAAE,UAAC,MAAc,EAAE,IAAa,EAAE,EAAc;YACpD,QAAQ,CAAC,uFAAQ,CAAC,MAAM,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;QACzC,CAAC;KACJ,CAAC;AACN,CAAC,CAAC;AAaF;IAAiC,sCAAoG;IACjI,4BAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SASf;QARG,KAAI,CAAC,KAAK,GAAG;YACT,IAAI,EAAE,KAAK;SACd,CAAC;QAEF,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC7C,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACzC,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACjD,KAAI,CAAC,cAAc,GAAG,KAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IACzD,CAAC;IAED,sDAAyB,GAAzB,UAA0B,SAAc;QACpC,IAAM,QAAQ,GAAG,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC1C,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC;YAAC,MAAM,CAAC;QAEtB,IAAM,KAAK,GAAG,SAAS,CAAC,KAAwB,CAAC;QAEjD,IAAI,CAAC,QAAQ,CAAC;YACV,KAAK,EAAE;gBACH,QAAQ,EAAE,KAAK,CAAC,EAAE;gBAClB,KAAK,EAAE,KAAK,CAAC,KAAK;gBAClB,IAAI,EAAE,SAAS,CAAC,IAAI;gBACpB,MAAM,EAAE,KAAK,CAAC,MAAM;gBACpB,WAAW,EAAE,KAAK,CAAC,WAAW;aACjC;SACJ,CAAC,CAAC;QAEH,QAAQ,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC;IAC3C,CAAC;IAED,yCAAY,GAAZ;QACU,mBAA0C,EAAxC,kBAAM,EAAE,0BAAU,EAAE,gBAAK,CAAgB;QACjD,IAAM,EAAE,GAAG;YACP,IAAM,UAAU,GAAG,QAAQ,CAAC;YAC5B,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC5B,CAAC,CAAC;QAEF,UAAU,CAAC,KAAK,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IAC7B,CAAC;IAED,uCAAU,GAAV;QACI,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;QAC7B,IAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC;IACnC,CAAC;IAED,qCAAQ,GAAR,UAAS,IAAuC;QACtC,mBAAuC,EAArC,kBAAM,EAAE,oBAAO,EAAE,gBAAK,CAAgB;QAC9C,IAAM,EAAE,GAAG;YACP,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QACtB,CAAC,CAAC;QAEF,MAAM,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;IACrB,CAAC;IAED,2CAAc,GAAd,UAAe,MAAe;QACpB,mBAAyC,EAAvC,oBAAO,EAAE,sBAAQ,EAAE,gBAAK,CAAgB;QAChD,IAAM,EAAE,GAAG;YACP,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;QACtB,CAAC,CAAC;QAEF,QAAQ,CAAC,KAAK,CAAC,EAAE,EAAE,MAAM,EAAE,EAAE,CAAC,CAAC;IACnC,CAAC;IAED,kCAAK,GAAL;QACI,IAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;IACnC,CAAC;IAED,mCAAM,GAAN;QACU,mBAAiE,EAA/D,oBAAO,EAAE,sBAAQ,EAAE,gBAAK,EAAE,cAAI,EAAE,oBAAO,EAAE,oBAAO,CAAgB;QACxE,EAAE,CAAC,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAExC,IAAM,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QACrC,IAAM,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QACrC,IAAM,MAAM,GAAG,4FAAW,CAAC,IAAI,CAAC,CAAC;QACjC,MAAM,CAAE,qDAAC,oDAAG;YACA,qDAAC,WAAW,IAAC,EAAE,EAAE,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,CAAC,KAAK,EAAE,SAAS,EAAE,KAAK,CAAC,SAAS,EAAE,UAAU,EAAE,KAAK,CAAC,YAAY;gBAC7G,qDAAC,gBAAgB,IACb,IAAI,EAAE,IAAI,EACV,QAAQ,EAAE,IAAI,EACd,WAAW,EAAE,OAAO,EACpB,QAAQ,EAAE,IAAI,CAAC,YAAY,EAC3B,MAAM,EAAE,IAAI,CAAC,UAAU,EACvB,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAC5C,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,GAAI,CAC7C;YACd,qDAAC,SAAS,IAAC,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE;gBACzB,gEAAM;gBACL,IAAI,CAAC,KAAK,CAAC,QAAQ,CACZ;YACZ,qDAAC,mEAAS,IACN,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,EACrB,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAC5B,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAClC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,GAAI,CAC5B,CAAC;IACnB,CAAC;IACL,yBAAC;AAAD,CAAC,CAlGgC,gDAAe,GAkG/C;AAQD;IAA+B,6BAAoC;IAAnE;;IAeA,CAAC;IAdG,0BAAM,GAAN;QACU,mBAAmC,EAAjC,cAAI,EAAE,UAAE,EAAE,sBAAQ,CAAgB;QAC1C,IAAM,aAAa,GAAG,2FAAU,CAAC,IAAI,CAAC,CAAC;QACvC,MAAM,CAAE,qDAAC,oDAAG;YACA,qDAAC,oDAAG,IAAC,EAAE,EAAE,EAAE,EAAE,QAAQ,EAAE,QAAQ;gBAC3B,4DAAG,SAAS,EAAC,eAAe,EAAC,uBAAuB,EAAE,aAAa,GAAG;gBACtE,qDAAC,oDAAG;oBACA,qDAAC,oDAAG,IAAC,EAAE,EAAE,EAAE,IACN,IAAI,CAAC,KAAK,CAAC,QAAQ,CAClB,CACJ,CACJ,CACJ,CAAC;IACnB,CAAC;IACL,gBAAC;AAAD,CAAC,CAf8B,gDAAe,GAe7C;;AAWD;IAAiC,+BAAsC;IAAvE;;IAgCA,CAAC;IA/BG,sCAAgB,GAAhB,UAAiB,SAAe,EAAE,UAAgB;QAC9C,IAAM,IAAI,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;QAC/B,IAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QACxC,IAAM,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QACtC,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC;YACZ,MAAM,CAAC,aAAW,QAAQ,aAAQ,QAAU,CAAC;QAEjD,IAAM,QAAQ,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;QACpC,IAAM,YAAY,GAAG,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAChD,IAAM,YAAY,GAAG,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAC7C,MAAM,CAAC,aAAW,QAAQ,aAAQ,QAAQ,kBAAa,YAAY,aAAQ,YAAY,OAAI,CAAC;IAChG,CAAC;IAED,4BAAM,GAAN;QACU,mBAAiE,EAA/D,gBAAK,EAAE,cAAI,EAAE,wBAAS,EAAE,0BAAU,EAAE,UAAE,EAAE,sBAAQ,CAAgB;QACxE,IAAM,OAAO,GAAG,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;QAC7D,IAAM,KAAK,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC;QAC7C,MAAM,CAAE,qDAAC,oDAAG;YACA,qDAAC,oDAAG,eAAK,KAAK;gBACV;oBACI,+DAAM,SAAS,EAAC,iBAAiB,IAAE,KAAK,CAAQ;oBAAA,gEAAM;oBACtD;;wBAAmB,IAAI,CAAS,CAC/B;gBACL,gEAAO,SAAS,EAAC,cAAc;oBAAC,qDAAC,0DAAS,IAAC,KAAK,EAAC,MAAM,GAAG;;oBAAE,OAAO,CAAS;gBAC5E,qDAAC,oDAAG,QACC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAClB,CACJ,CACJ,CAAC;IAEnB,CAAC;IACL,kBAAC;AAAD,CAAC,CAhCgC,gDAAe,GAgC/C;;AAiBD;IAAsC,oCAA6D;IAC/F,0BAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SAOf;QANG,KAAI,CAAC,KAAK,GAAG;YACT,IAAI,EAAE,KAAK,CAAC,WAAW;SAC1B,CAAC;QAEF,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC7C,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IACrD,CAAC;IAED,qCAAU,GAAV;QACY,8BAAM,CAAgB;QAC9B,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;YAAC,MAAM,CAAC;QAE5B,IAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;QAC9B,MAAM,EAAE,CAAC;IACb,CAAC;IAED,uCAAY,GAAZ;QACY,kCAAQ,CAAgB;QAChC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC;YAAC,MAAM,CAAC;QAE7B,IAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;QAC/B,QAAQ,EAAE,CAAC;IACf,CAAC;IAED,iCAAM,GAAN;QACU,mBAAiD,EAA/C,sBAAQ,EAAE,cAAI,EAAE,sBAAQ,EAAE,kBAAM,CAAgB;QACxD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAEf,0BAAI,CAAgB;QAC5B,MAAM,CAAE,qDAAC,oDAAG,IAAC,EAAE,EAAE,EAAE,EAAE,SAAS,EAAC,eAAe;YAClC,qDAAC,8DAAa;gBACV,qDAAC,4DAAW;oBACR,qDAAC,gFAAa,IAAC,OAAO,EAAC,QAAQ,EAAC,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAC,OAAO,EAAC,OAAO,EAAC,aAAa,EAAC,KAAK,EAAE,QAAQ,GAAI;oBACzG,qDAAC,gFAAa,IAAC,OAAO,EAAC,SAAS,EAAC,OAAO,EAAE,MAAM,EAAE,IAAI,EAAC,QAAQ,EAAC,OAAO,EAAC,cAAc,EAAC,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,GAAI;oBACzH,qDAAC,gFAAa,IAAC,OAAO,EAAC,SAAS,EAAC,OAAO,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,EAAC,UAAU,EAAC,OAAO,EAAC,iBAAiB,EAAC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,GAAI;oBAClI,qDAAC,gFAAa,IAAC,OAAO,EAAC,SAAS,EAAC,OAAO,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,EAAC,WAAW,EAAC,OAAO,EAAC,kBAAkB,EAAC,MAAM,EAAE,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,GAAI,CAC7H,CACF,CACd,CAAC;IACnB,CAAC;IACL,uBAAC;AAAD,CAAC,CA3CqC,gDAAe,GA2CpD;;AAED,IAAM,cAAc,GAAG,2EAAO,CAAC,eAAe,EAAE,kBAAkB,CAAC,CAAC,kBAAkB,CAAC,CAAC;AACxF,IAAM,SAAS,GAAG,+EAAU,CAAC,cAAc,CAAC,CAAC;AAC7C,wDAAe,SAAS,CAAC;;;;;;;;;;;;;AC1SmC;AAC5B;AACW;AAG3C,IAAM,KAAK,GAAgB,yEAAW,CAAC,+DAAW,EAAE,6EAAe,CAAC,mDAAK,CAAC,CAAC,CAAC;AAC5E,wDAAe,KAAK,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJuB;AAEX;AACM;AAEQ;AAIxC,IAAM,MAAM,GAAG,UAAO,GAAQ,EAAE,GAAiC,EAAE,GAA4B;IAClG,IAAM,GAAG,GAAG,GAAG,CAAC,MAAM,CAAC,UAAC,GAAkB,EAAE,IAAO;QAC/C,IAAM,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC;QACpB,IAAM,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC;QACpB,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QACX,MAAM,CAAC,GAAG,CAAC;IACf,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,MAAM,CAAC,GAAG,CAAC;AACf,CAAC,CAAC;AAEK,IAAM,GAAG,GAAG,UAAI,GAAkB,EAAE,GAAW,EAAE,KAAQ;IAC5D,IAAI,EAAE,GAAkB,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;IAC/C,EAAE,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;IAChB,MAAM,CAAC,EAAE,CAAC;AACd,CAAC,CAAC;AAEK,IAAM,OAAO,GAAgB;IAChC,IAAI,EAAE,MAAM;IACZ,WAAW,EAAE,SAAS;CACzB,CAAC;AAEK,IAAM,eAAe,GAAI,UAAI,QAAwB,IAAK,iBAAC,SAAsC,IAAK,iBAAC,QAAkB;IAC5H,QAAQ,CAAC,0FAAU,EAAE,CAAC,CAAC;IACvB,EAAE,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC;QAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;IAC5C,IAAI,CAAC,CAAC;QACF,MAAM,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAAC;YACtB,KAAK,GAAG;gBACJ,QAAQ,CAAM,uFAAQ,CAAC,EAAE,KAAK,EAAE,iBAAiB,EAAE,OAAO,EAAE,iCAAiC,EAAC,CAAC,CAAC,CAAC;gBACjG,KAAK,CAAC;YACV,KAAK,GAAG;gBACJ,QAAQ,CAAM,uFAAQ,CAAC,EAAE,KAAK,EAAE,eAAe,EAAE,OAAO,EAAE,yBAAyB,EAAC,CAAC,CAAC,CAAC;gBACvF,KAAK,CAAC;YACV,KAAK,GAAG;gBACJ,QAAQ,CAAM,uFAAQ,CAAC,EAAE,KAAK,EAAE,qBAAqB,EAAE,OAAO,EAAE,oCAAoC,EAAC,CAAC,CAAC,CAAC;gBACxG,KAAK,CAAC;YACV,KAAK,GAAG;gBACJ,QAAQ,CAAM,uFAAQ,CAAC,EAAE,KAAK,EAAE,kBAAkB,EAAE,OAAO,EAAE,0CAA0C,EAAC,CAAC,CAAC,CAAC;gBAC3G,KAAK,CAAC;YACV;gBACI,QAAQ,CAAM,uFAAQ,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,uBAAuB,EAAC,CAAC,CAAC,CAAC;gBAC5E,KAAK,CAAC;QACd,CAAC;IACL,CAAC;IAED,MAAM,CAAC,IAAI,CAAC;AAChB,CAAC,EAxB4G,CAwB5G,EAxBgE,CAwBhE,CAAC;AAEK,IAAM,KAAK,GAAG,UAAI,IAAS,EAAE,IAAS,EAAE,YAAuC;IAClF,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAK/B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;QACrC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACzC,EAAE,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACpB,CAAC,EAAE,CAAC;YACR,CAAC;QACL,CAAC;IACL,CAAC;IAED,MAAM,CAAC,MAAM,CAAC;AAClB,CAAC,CAAC;AAEK,IAAM,QAAQ,GAAG,UAAC,QAAc,EAAE,MAAqB;IAArB,sCAAqB;IAC1D,IAAM,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,EAAE,CAAC;IACvC,IAAM,IAAI,GAAG,MAAM,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;IACpD,EAAE,CAAC,CAAC,IAAI,IAAI,MAAM,CAAC,CAAC,CAAC;QACjB,IAAM,IAAI,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;QAC9B,MAAM,CAAC,QAAM,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,aAAQ,IAAI,CAAC,MAAM,CAAC,MAAM,CAAG,CAAC;IACzE,CAAC;IAED,MAAM,CAAC,MAAM,GAAG,GAAG,CAAC;AACxB,CAAC,CAAC;AAEK,IAAM,UAAU,GAAG,UAAC,IAAY;IACnC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;QAAC,MAAM,CAAC,IAAI,CAAC;IACvB,IAAM,SAAS,GAAG,oCAAM,CAAC,IAAI,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CAAC;IACnD,MAAM,CAAC,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC;AACjC,CAAC,CAAC;AAEK,IAAM,QAAQ,GAAG,UAAC,IAAY,EAAE,aAAqB;IACxD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;QAAC,MAAM,CAAC,EAAE,CAAC;IACrB,IAAM,SAAS,GAAG,uDAAQ,CAAC,IAAI,CAAC,CAAC;IACjC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACpE,CAAC,CAAC;AAEK,IAAM,WAAW,GAAG,UAAC,IAAe,EAAE,IAAS;IAAT,gCAAS;IAClD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;QAAC,MAAM,CAAC,IAAI,CAAC;IACvB,MAAM,CAAI,IAAI,CAAC,SAAS,SAAI,IAAI,CAAC,QAAU,CAAC;AAChD,CAAC,CAAC;AAEK,IAAM,aAAa,GAAG,UAAC,QAAwB,EAAE,IAAqC;IACzF,IAAM,UAAU,GAAG,UAAC,CAAe,IAAK,QAAC,CAAC,OAAO,GAAG,CAAC,CAAC,OAAO,GAAG,EAAE,EAA1B,CAA0B,CAAC;IACnE,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;QACvC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;IACpD,CAAC;AACL,CAAC,CAAC;AAEK,IAAM,gBAAgB,GAAG,UAAC,OAAqB,EAAE,WAAsD,EAAE,IAAqC;IACjJ,IAAI,CAAC,OAAO,CAAC,CAAC;IACd,IAAM,QAAQ,GAAG,WAAW,CAAC,OAAO,CAAC,CAAC;IACtC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;QACvC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;IACrD,CAAC;AACL,CAAC,CAAC;AAEK,IAAM,gBAAgB,GAAG,UAAC,OAAyB;IACtD,IAAI,CAAC,GAAG,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,GAAG,EAAE,CAAC;IAC/C,IAAM,OAAO,GAAG,CAAC,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;IACxC,IAAM,QAAQ,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC;IAC5D,MAAM,CAAC;QACH,SAAS,EAAE,OAAO,CAAC,EAAE;QACrB,QAAQ,EAAE,QAAQ;QAClB,OAAO,EAAE,OAAO,CAAC,OAAO;QACxB,QAAQ,EAAE,OAAO,CAAC,QAAQ;QAC1B,IAAI,EAAE,OAAO,CAAC,IAAI;QAClB,OAAO,EAAE,OAAO;QAChB,MAAM,EAAE,OAAO,CAAC,MAAM;KACzB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,yBAAyB,GAAG,UAAC,SAAiB;IACvD,MAAM,CAAI,OAAO,CAAC,IAAI,CAAC,aAAa,mBAAc,SAAW,CAAC;AAClE,CAAC,CAAC;AAEK,IAAM,uBAAuB,GAAG,UAAC,MAAc,EAAE,IAAY,EAAE,IAAY;IAC9E,MAAM,CAAI,OAAO,CAAC,IAAI,CAAC,aAAa,gBAAW,MAAM,cAAS,IAAI,cAAS,IAAM,CAAC;AACtF,CAAC,CAAC;AAEK,IAAM,uBAAuB,GAAG,UAAC,OAAe,EAAE,IAAY,EAAE,IAAY;IAC/E,MAAM,CAAI,OAAO,CAAC,IAAI,CAAC,aAAa,iBAAY,OAAO,cAAS,IAAI,cAAS,IAAM,CAAC;AACxF,CAAC,CAAC;AAEK,IAAM,yBAAyB,GAAG,UAAC,SAAiB;IACvD,MAAM,CAAI,OAAO,CAAC,IAAI,CAAC,aAAa,mBAAc,SAAW,CAAC;AAClE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrJ6B;AACqB;AACF;AACW;AACrB;AAGxC;IAA6B,2BAA6C;IAA1E;;IAqCA,CAAC;IApCG,qBAAG,GAAH;QACY,kCAAQ,CAAgB;QAChC,MAAM,CAAC,yFAAQ,CAAC,QAAQ,CAAC,CAAC;IAC9B,CAAC;IAED,4BAAU,GAAV,UAAW,MAAe;QACtB,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QACzB,MAAM,CAAE,uEAAc,CAAC;IAC3B,CAAC;IAED,wBAAM,GAAN;QACU,mBAAgG,EAA9F,oBAAO,EAAE,wBAAS,EAAE,cAAI,EAAE,cAAI,EAAE,wBAAS,EAAE,oBAAO,EAAE,wBAAS,EAAE,sBAAQ,EAAE,kBAAM,CAAgB;QACjG,mBAAyD,EAAvD,4BAAW,EAAE,gCAAa,EAAE,8BAAY,CAAgB;QAChE,IAAM,KAAK,GAAG,EAAE,WAAW,eAAE,aAAa,iBAAE,YAAY,gBAAE,CAAC;QAC3D,IAAM,GAAG,GAAG,2FAAU,CAAC,IAAI,CAAC,CAAC;QAC7B,IAAM,UAAU,GAAG,OAAO,CAAC,GAAG,CAAC,eAAK,IAAI,gBAAS,CAAC,KAAK,CAAC,EAAhB,CAAgB,CAAC,CAAC;QAE1D,MAAM,CAAE,qDAAC,sDAAK;YACF,qDAAC,uEAAc,OAAG;YAClB,qDAAC,sDAAK,CAAC,IAAI;gBACP,6DAAI,SAAS,EAAC,eAAe;oBACzB,qEAAS,IAAI,CAAU;;oBAAC;;wBAAc,IAAI,CAAC,GAAG,EAAE;wBAAE,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAS,CACjF;gBACL,+DAAM,uBAAuB,EAAE,GAAG,GAAS;gBAC3C,qDAAC,yEAAe,aACZ,SAAS,EAAE,SAAS,EACpB,OAAO,EAAE,OAAO,EAChB,QAAQ,EAAE,QAAQ,EAClB,SAAS,EAAE,SAAS,EACpB,IAAI,EAAE,IAAI,IACN,KAAK,EACX;gBACD,UAAU,CACF,CACT,CAAC;IACrB,CAAC;IACL,cAAC;AAAD,CAAC,CArC4B,gDAAe,GAqC3C;;;;;;;;;;;;;;;;;;;;;;;;;;AC5C8B;AACyG;AAElF;AAStD;IAAmC,iCAAoD;IAAvF;;IAaA,CAAC;IAZG,8BAAM,GAAN;QACU,mBAA+D,EAA7D,oBAAO,EAAE,oBAAO,EAAE,cAAI,EAAE,oBAAO,EAAE,kBAAM,EAAE,gBAAK,CAAgB;QACtE,IAAI,UAAU,GAAG,qDAAC,wDAAO,IAAC,EAAE,EAAC,SAAS,IAAE,OAAO,CAAW,CAAC;QAE3D,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAExB,MAAM,CAAE,qDAAC,+DAAc,IAAC,SAAS,EAAC,KAAK,EAAC,OAAO,EAAE,UAAU;YAC/C,qDAAC,uDAAM,IAAC,OAAO,EAAE,OAAO,EAAE,MAAM,EAAC,QAAQ,EAAC,OAAO,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM;gBACtE,qDAAC,0DAAS,IAAC,KAAK,EAAE,IAAI,GAAI,CACrB,CACI,CAAC;IAC9B,CAAC;IACL,oBAAC;AAAD,CAAC,CAbkC,gDAAe,GAajD;;AAED;IAAqC,mCAA+E;IAChH,yBAAY,KAAsC;QAAlD,YACI,kBAAM,KAAK,CAAC,SAmBf;QAjBG,IAAM,MAAM,GAAG,kBAAkB,GAAG,KAAK,CAAC,SAAS,GAAG,GAAG,GAAG,KAAK,CAAC,SAAS,CAAC;QAC5E,IAAM,OAAO,GAAG,mBAAmB,GAAG,KAAK,CAAC,SAAS,GAAG,GAAG,GAAG,KAAK,CAAC,SAAS,CAAC;QAE9E,KAAI,CAAC,KAAK,GAAG;YACT,KAAK,EAAE,KAAK;YACZ,IAAI,EAAE,KAAK;YACX,MAAM;YACN,OAAO;SACV,CAAC;QAGF,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC7C,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAE/C,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC7C,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC/C,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IACrD,CAAC;IAED,oCAAU,GAAV;QACY,0BAAI,CAAgB;QACtB,mBAA6B,EAA3B,cAAI,EAAE,kBAAM,CAAgB;QACpC,IAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,CAAC;QAI/B,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACP,IAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAqB,CAAC;YACrD,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACzB,CAAC;IACL,CAAC;IAED,qCAAW,GAAX;QACU,mBAA+B,EAA7B,gBAAK,EAAE,oBAAO,CAAgB;QACtC,IAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC,CAAC;QAEjC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACT,IAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAqB,CAAC;YACtD,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QACvB,CAAC;IACL,CAAC;IAED,sCAAY,GAAZ;QACU,mBAAoD,EAAlD,gCAAa,EAAE,wBAAS,EAAE,wBAAS,CAAgB;QAC3D,aAAa,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;IACxC,CAAC;IAED,oCAAU,GAAV,UAAW,IAAY;QACb,mBAAkD,EAAhD,4BAAW,EAAE,wBAAS,EAAE,wBAAS,CAAgB;QAEzD,IAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;QAC/B,WAAW,CAAC,SAAS,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;IAC5C,CAAC;IAED,qCAAW,GAAX,UAAY,IAAY;QACd,mBAAmD,EAAjD,wBAAS,EAAE,wBAAS,EAAE,8BAAY,CAAgB;QAE1D,IAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,CAAC;QAChC,YAAY,CAAC,SAAS,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC;IAC7C,CAAC;IAED,gCAAM,GAAN;QACU,mBAAwC,EAAtC,sBAAQ,EAAE,oBAAO,EAAE,cAAI,CAAgB;QACzC,mBAA6C,EAA3C,cAAI,EAAE,gBAAK,EAAE,kBAAM,EAAE,oBAAO,CAAgB;QACpD,IAAM,KAAK,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;QAEhC,MAAM,CAAE,qDAAC,oDAAG;YACA,qDAAC,oDAAG,IAAC,KAAK,EAAE,EAAC,aAAa,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAC;gBACnD,qDAAC,oDAAG,IAAC,EAAE,EAAE,CAAC;oBACN,qDAAC,8DAAa;wBACV,qDAAC,4DAAW;4BAER,qDAAC,aAAa,IAAC,OAAO,EAAC,SAAS,EAAC,OAAO,EAAE,IAAI,CAAC,YAAY,EAAE,IAAI,EAAC,OAAO,EAAC,OAAO,EAAC,MAAM,EAAC,KAAK,EAAE,KAAK,GAAI;4BACzG,qDAAC,aAAa,IAAC,OAAO,EAAC,SAAS,EAAC,OAAO,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,EAAC,QAAQ,EAAC,OAAO,EAAC,OAAO,EAAC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,GAAI;4BACvH,qDAAC,aAAa,IAAC,OAAO,EAAC,SAAS,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,EAAC,UAAU,EAAC,OAAO,EAAC,MAAM,EAAC,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,GAAI,CAE/G,CACF,CACd,CACJ;YACN,qDAAC,oDAAG,IAAC,KAAK,EAAE,EAAC,aAAa,EAAE,KAAK,EAAC;gBAC9B,qDAAC,oDAAG,IAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE;oBACpB,qDAAC,gBAAgB,IACb,IAAI,EAAE,IAAI,EACV,EAAE,EAAE,MAAM,EACV,KAAK,EAAE,IAAI,EACX,MAAM,EAAE,IAAI,CAAC,UAAU,EACvB,QAAQ,EAAE,IAAI,CAAC,UAAU,EACzB,UAAU,EAAC,eAAe,EAC1B,KAAK,EAAE,KAAK,EACZ,GAAG,EAAE,MAAM,GACb,CACA,CACJ;YACN,qDAAC,oDAAG;gBACA,qDAAC,oDAAG,IAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE;oBACpB,qDAAC,gBAAgB,IACb,IAAI,EAAE,KAAK,EACX,EAAE,EAAE,OAAO,EACX,KAAK,EAAC,EAAE,EACR,MAAM,EAAE,IAAI,CAAC,WAAW,EACxB,QAAQ,EAAE,IAAI,CAAC,WAAW,EAC1B,UAAU,EAAC,MAAM,EACjB,KAAK,EAAE,IAAI,EACX,GAAG,EAAE,OAAO,GACd,CACA,CACJ,CACJ,CAAC;IACnB,CAAC;IACL,sBAAC;AAAD,CAAC,CAlHoC,gDAAe,GAkHnD;;AAED;IAA+B,oCAAuD;IAClF,0BAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SAIf;QAFG,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACvC,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IAC3C,CAAC;IAED,kCAAO,GAAP;QACU,mBAA6B,EAA3B,sBAAQ,EAAE,UAAE,CAAgB;QAEpC,IAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAe,CAAC;QAC3C,IAAM,IAAI,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC;QAC9B,QAAQ,CAAC,IAAI,CAAC,CAAC;IACnB,CAAC;IAED,kCAAO,GAAP,UAAQ,IAAY;QACT,sBAAE,CAAgB;QACzB,IAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAe,CAAC;QAC3C,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACzB,CAAC;IAED,iCAAM,GAAN;QACU,mBAA2D,EAAzD,gBAAK,EAAE,cAAI,EAAE,UAAE,EAAE,kBAAM,EAAE,0BAAU,EAAE,gBAAK,CAAgB;QAClE,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QACxB,MAAM,CAAE,qDAAC,yDAAQ,IAAC,IAAE,EAAE,IAAI;YACd,qDAAC,0DAAS,IAAC,SAAS,EAAE,EAAE;gBACpB,gEAAM;gBACN,qDAAC,8DAAa;oBACV,qDAAC,0EAAU,IACP,WAAW,EAAC,wBAAwB,EACpC,QAAQ,EAAE,KAAK,EACf,GAAG,EAAE,EAAE,GACT;oBACF,qDAAC,uDAAM,IAAC,OAAO,EAAE,MAAM,UAAc;oBACrC,qDAAC,uDAAM,IAAC,OAAO,EAAC,MAAM,EAAC,OAAO,EAAE,IAAI,CAAC,OAAO,IAAG,UAAU,CAAU,CACvD,CACR,CACL,CAAC;IACxB,CAAC;IACL,uBAAC;AAAD,CAAC,CAxC8B,gDAAe,GAwC7C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvL8B;AACmB;AACd;AACI;AAIxC;IAAiC,+BAA6C;IAC1E,qBAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SAEf;QADG,KAAI,CAAC,gBAAgB,GAAG,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IAC7D,CAAC;IAED,kCAAY,GAAZ,UAAa,QAAwB;QAArC,iBASC;QARG,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAE3B,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAC,OAAO;YACxB,IAAM,IAAI,GAAG,KAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;YAC5C,MAAM,CAAE,qDAAC,sDAAK,CAAC,QAAQ,IAAC,GAAG,EAAE,cAAc,GAAG,OAAO,CAAC,SAAS,IAClD,IAAI,CACQ,CAAC;QAC9B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,sCAAgB,GAAhB,UAAiB,OAAqB;QAClC,IAAM,GAAG,GAAG,WAAW,GAAG,OAAO,CAAC,SAAS,CAAC;QAE5C,EAAE,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC;YAChB,MAAM,CAAE,qDAAC,uEAAc,IACX,GAAG,EAAE,GAAG,EACR,SAAS,EAAE,IAAI,CAAC,gBAAgB,EAChC,OAAO,EAAE,OAAO,CAAC,OAAO,GAAI,CAAC;QAEvC,mBAA4C,EAA1C,wBAAS,EAAE,oBAAO,EAAE,oBAAO,CAAgB;QAC7C,mBAAqE,EAAnE,cAAI,EAAE,cAAI,EAAE,4BAAW,EAAE,gCAAa,EAAE,8BAAY,CAAgB;QAC5E,IAAM,QAAQ,GAAG,EAAE,IAAI,QAAE,IAAI,QAAE,WAAW,eAAE,aAAa,iBAAE,YAAY,gBAAE,CAAC;QAC1E,IAAM,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACvC,MAAM,CAAE,qDAAC,yDAAO,aACJ,GAAG,EAAE,GAAG,EACR,SAAS,EAAE,SAAS,EACpB,IAAI,EAAE,IAAI,EACV,QAAQ,EAAE,OAAO,CAAC,QAAQ,EAC1B,QAAQ,EAAE,OAAO,CAAC,QAAQ,EAC1B,IAAI,EAAE,OAAO,CAAC,IAAI,EAClB,SAAS,EAAE,IAAI,CAAC,gBAAgB,EAChC,OAAO,EAAE,OAAO,CAAC,OAAO,EACxB,MAAM,EAAE,OAAO,CAAC,MAAM,EACtB,OAAO,EAAE,OAAO,EAChB,SAAS,EAAE,OAAO,CAAC,SAAS,IACxB,QAAQ,EACd,CAAC;IACf,CAAC;IAED,4BAAM,GAAN;QACY,kCAAQ,CAAgB;QAChC,IAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QAE1C,MAAM,CAAE,qDAAC,sDAAK,CAAC,IAAI,QACN,KAAK,CACG,CAAC;IAC1B,CAAC;IACL,kBAAC;AAAD,CAAC,CAtDgC,gDAAe,GAsD/C;;;;;;;;;;;;;;;;;;;;;;;;;;AC7D8B;AACiB;AACQ;AACF;AAatD,IAAM,eAAe,GAAG,UAAC,KAAW;IAChC,MAAM,CAAC;QACH,MAAM,EAAE,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,WAAW,GAAG,IAAI,CAAC;QACvD,OAAO,EAAE,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,YAAY,GAAG,IAAI,CAAC;QACzD,MAAM,EAAE,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,YAAY,KAAK,CAAC,CAAC,CAAC;KAC3D,CAAC;AACN,CAAC,CAAC;AAEF,IAAM,kBAAkB,GAAG,UAAC,QAAwB;IAChD,MAAM,CAAC;QACH,YAAY,EAAE,UAAC,GAAW;YACtB,QAAQ,CAAC,8FAAc,CAAC,GAAG,CAAC,CAAC,CAAC;QAClC,CAAC;KACJ,CAAC;AACN,CAAC,CAAC;AAEF;IAA4B,iCAAoD;IAAhF;;IA4BA,CAAC;IA3BG,yCAAiB,GAAjB;QACY,0CAAY,CAAgB;QACpC,IAAM,GAAG,GAAM,OAAO,CAAC,IAAI,CAAC,WAAW,kBAAe,CAAC;QACvD,YAAY,CAAC,GAAG,CAAC,CAAC;IACtB,CAAC;IAED,8BAAM,GAAN;QACU,mBAAgC,EAA9B,kBAAM,EAAE,oBAAO,CAAgB;QACvC,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QAClC,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;QAC5C,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;QACpD,IAAM,WAAW,GAAG,CAAC,CAAC,IAAI,GAAG,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC;QAC3C,IAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;QACzD,IAAM,IAAI,GAAG,OAAO,CAAC,WAAW,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,IAAI,OAAO,CAAC,IAAI,CAAC,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC;QACtF,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAEvB,MAAM,CAAE,qDAAC,oDAAG;YACA,qDAAC,oDAAG;gBACA,qDAAC,4DAAW,IAAC,OAAO,EAAE,IAAI,EAAE,OAAO,EAAC,SAAS,EAAC,GAAG,EAAE,WAAW,EAAE,GAAG,EAAE,CAAC,GAAI;gBAC1E;;oBACY,IAAI,CAAC,QAAQ,EAAE;;oBAAO,YAAY,CAAC,QAAQ,EAAE;;oBAAI,gEAAM;;oBACnD,IAAI,CAAC,QAAQ,EAAE;;oBAAI,gEAAM;;oBAC7B,KAAK,CAAC,QAAQ,EAAE;0BACxB,CACF,CACJ,CAAC;IACnB,CAAC;IACL,oBAAC;AAAD,CAAC,CA5B2B,gDAAe,GA4B1C;AAED,IAAM,SAAS,GAAG,2EAAO,CAAC,eAAe,EAAE,kBAAkB,CAAC,CAAC,aAAa,CAAC,CAAC;AAC9E,wDAAe,SAAS,CAAC;;;;;;;;;;;;;;;;;;;;;;;;AC/DM;AACyF;AAElE;AAsBtD;IAA+B,6BAA+C;IAC1E,mBAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SASf;QARG,KAAI,CAAC,KAAK,GAAG;YACT,QAAQ,EAAE,CAAC,CAAC;YACZ,KAAK,EAAE,EAAE;YACT,MAAM,EAAE,KAAK;YACb,WAAW,EAAE,IAAI;SACpB,CAAC;QAEF,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IACrD,CAAC;IAED,6CAAyB,GAAzB,UAA0B,SAAc;QAC5B,yBAAI,CAAe;QAC3B,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACP,IAAI,CAAC,QAAQ,CAAC;gBACV,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,WAAW,EAAE,IAAI,CAAC,WAAW;aAChC,CAAC,CAAC;QACP,CAAC;IACL,CAAC;IAED,qCAAiB,GAAjB,UAAkB,CAAM;QACpB,IAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC;IAC7C,CAAC;IAED,iCAAa,GAAb;QACI,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC;QACvC,EAAE,CAAC,CAAC,MAAM,IAAI,CAAC,IAAI,MAAM,GAAG,GAAG,CAAC;YAAC,MAAM,CAAC,SAAS,CAAC;QAClD,EAAE,CAAC,CAAC,MAAM,IAAI,GAAG,IAAI,MAAM,IAAI,GAAG,CAAC;YAAC,MAAM,CAAC,SAAS,CAAC;QAGrD,MAAM,CAAC,OAAO,CAAC;IACnB,CAAC;IAED,kCAAc,GAAd,UAAe,KAAqB;QAEhC,IAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAoB,CAAC;QAC9C,IAAM,MAAM,GAAG;YACP,WAAW,EAAE,KAAK,CAAC,WAAW;YAC9B,MAAM,EAAE,KAAK,CAAC,MAAM;YACpB,KAAK,EAAE,KAAK,CAAC,KAAK;SACrB,CAAC;QACN,IAAM,IAAI,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC;QAC9B,MAAM,CAAC;YACH,MAAM,EAAE,MAAM;YACd,IAAI,EAAE,IAAI;YACV,QAAQ,EAAE,KAAK,CAAC,QAAQ;SAC3B,CAAC;IACN,CAAC;IAED,gCAAY,GAAZ,UAAa,CAAwB;QACjC,CAAC,CAAC,cAAc,EAAE,CAAC;QACb,mBAAgC,EAA9B,gBAAK,EAAE,sBAAQ,CAAgB;QAGvC,IAAM,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC7C,QAAQ,CAAC,IAAI,CAAC,CAAC;QACf,KAAK,EAAE,CAAC;IACZ,CAAC;IAED,gCAAY,GAAZ;QACY,8BAAM,CAAgB;QAC9B,IAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,EAAE,CAAC,MAAM,EAAE,CAAC,CAAC;IACvC,CAAC;IAED,mCAAe,GAAf;QACY,wCAAW,CAAgB;QACnC,IAAI,CAAC,QAAQ,CAAC,EAAE,WAAW,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC;IACjD,CAAC;IAED,+BAAW,GAAX;QACY,4BAAK,CAAgB;QAC7B,KAAK,EAAE,CAAC;IACZ,CAAC;IAED,0BAAM,GAAN;QACU,mBAA2B,EAAzB,cAAI,EAAE,cAAI,CAAgB;QAClC,IAAM,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;QAC5C,IAAM,QAAQ,GAAG,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC;QAChC,IAAM,KAAK,GAAI,QAAQ,GAAG,kBAAkB,GAAG,cAAc,CAAC;QAC9D,IAAM,SAAS,GAAG,QAAQ,GAAG,cAAc,GAAG,eAAe,CAAC;QAC9D,MAAM,CAAE,qDAAC,sDAAK,IAAC,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,MAAM,EAAC,IAAI;YAC/D;gBACI,qDAAC,sDAAK,CAAC,MAAM,IAAC,WAAW;oBACrB,qDAAC,sDAAK,CAAC,KAAK,QAAE,KAAK,CAAe,CACvB;gBACf,qDAAC,sDAAK,CAAC,IAAI;oBACP,qDAAC,oDAAG;wBACA,qDAAC,oDAAG,IAAC,EAAE,EAAE,EAAE;4BAEH,qDAAC,0DAAS,IAAC,SAAS,EAAC,eAAe,EAAC,eAAe,EAAE,IAAI,CAAC,aAAa,EAAE;gCACtE,qDAAC,6DAAY,qBAA0B;gCACvC,qDAAC,4DAAW,IAAC,IAAI,EAAC,MAAM,EAAC,WAAW,EAAC,yBAAyB,EAAC,QAAQ,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAC9H;4BAEZ,qDAAC,0DAAS,IAAC,SAAS,EAAC,iBAAiB;gCAClC,qDAAC,6DAAY,sBAA4B;gCACzC,qDAAC,0EAAU,IACP,QAAQ,EAAE,IAAI,EACd,WAAW,EAAC,qBAAqB,EACjC,GAAG,EAAC,QAAQ,GACd,CACM;4BAEZ,qDAAC,0DAAS,IAAC,SAAS,EAAC,gBAAgB;gCACjC,qDAAC,4DAAW;oCACR,qDAAC,uDAAM,IAAC,OAAO,EAAC,SAAS,EAAC,MAAM,EAAC,OAAO,EAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,OAAO,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC;wCAAE,qDAAC,0DAAS,IAAC,KAAK,EAAC,SAAS,GAAG;kDAAgB,CAC9I,CACN,CAEd,CACJ,CACG;gBACb,qDAAC,sDAAK,CAAC,MAAM;oBACT,qDAAC,uDAAM,IAAC,OAAO,EAAC,SAAS,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,UAAc;oBAC5E,qDAAC,uDAAM,IAAC,OAAO,EAAC,SAAS,EAAC,IAAI,EAAC,QAAQ,EAAC,OAAO,EAAE,IAAI,CAAC,YAAY,IAAG,SAAS,CAAU,CAC7E,CACZ,CACH,CAAC;IACrB,CAAC;IACL,gBAAC;AAAD,CAAC,CA5H8B,gDAAe,GA4H7C;;;;;;;;;;;;;;;;;;;;;;;;ACrJ8B;AACkC;AAYjE;IAAiC,+BAAwD;IACrF,qBAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SAYf;QAXG,KAAI,CAAC,KAAK,GAAG;YACT,OAAO,EAAE,KAAK;YACd,WAAW,EAAE,EAAE;SAClB,CAAC;QAEF,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACjD,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC7C,KAAI,CAAC,uBAAuB,GAAG,KAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACvE,KAAI,CAAC,mBAAmB,GAAG,KAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC/D,KAAI,CAAC,gBAAgB,GAAG,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACzD,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IACjD,CAAC;IAED,gCAAU,GAAV,UAAW,SAA2B;QAClC,EAAE,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YAClB,IAAI,CAAC;gBACD,SAAS,CAAC,KAAK,GAAG,EAAE,CAAC;YACzB,CAAC;YAAA,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAChB,EAAE,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;gBAClB,IAAI,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,EACrC,UAAU,GAAG,SAAS,CAAC,UAAU,EAAE,GAAG,GAAG,SAAS,CAAC,WAAW,CAAC;gBACnE,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;gBAC5B,IAAI,CAAC,KAAK,EAAE,CAAC;gBACb,UAAU,CAAC,YAAY,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;YAC5C,CAAC;QACL,CAAC;QAED,IAAI,CAAC,QAAQ,CAAC;YACV,OAAO,EAAE,KAAK;YACd,WAAW,EAAE,EAAE;SAClB,CAAC,CAAC;IACP,CAAC;IAED,8BAAQ,GAAR;QACI,IAAM,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAqB,CAAC;QACnE,MAAM,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC;IACtC,CAAC;IAED,kCAAY,GAAZ,UAAa,CAAmC;QACtC,mBAAsC,EAApC,4BAAW,EAAE,sBAAQ,CAAgB;QAC7C,CAAC,CAAC,cAAc,EAAE,CAAC;QAEnB,IAAM,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAqB,CAAC;QACvE,IAAM,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;QAE9B,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,CAAC;YAAC,MAAM,CAAC;QAC/B,IAAI,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAC9B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;YACpC,IAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YACtB,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;QAClC,CAAC;QAED,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;QACxD,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;IAC/B,CAAC;IAED,gCAAU,GAAV,UAAW,CAAyB;QAChC,IAAM,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAqB,CAAC;QACvE,IAAM,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;QAE9B,IAAM,MAAM,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;QAChC,IAAI,CAAC,QAAQ,CAAC;YACV,OAAO,EAAE,MAAM;SAClB,CAAC,CAAC;IACP,CAAC;IAED,6CAAuB,GAAvB,UAAwB,CAAM;QAC1B,IAAI,CAAC,QAAQ,CAAC;YACV,WAAW,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK;SAC9B,CAAC,CAAC;IACP,CAAC;IAED,yCAAmB,GAAnB;QACI,IAAM,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAqB,CAAC;QACvE,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;QAC3B,IAAI,CAAC,QAAQ,CAAC;YACV,OAAO,EAAE,KAAK;YACd,WAAW,EAAE,EAAE;SAClB,CAAC,CAAC;IACP,CAAC;IAED,qCAAe,GAAf;QACI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;YACtB,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;QAED,MAAM,CAAE;YACI,qDAAC,4DAAW,IAAC,EAAE,EAAC,aAAa,EAAC,IAAI,EAAC,MAAM,EAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,WAAW,EAAE,WAAW,EAAC,qBAAqB,EAAC,IAAI,EAAE,EAAE,EAAE,QAAQ,EAAE,IAAI,CAAC,uBAAuB,GAAI;;YAC/J,qDAAC,uDAAM,IAAC,OAAO,EAAC,SAAS,EAAC,OAAO,EAAE,IAAI,CAAC,mBAAmB,eAAmB,CAC3E,CAAC;IACpB,CAAC;IAED,sCAAgB,GAAhB;QACI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;YACpB,MAAM,CAAC,qDAAC,uDAAM,IAAC,OAAO,EAAC,SAAS,EAAC,QAAQ,QAAC,IAAI,EAAC,QAAQ,cAAiB,CAAC;QAE7E,MAAM,CAAE,qDAAC,uDAAM,IAAC,OAAO,EAAC,SAAS,EAAC,IAAI,EAAC,QAAQ,aAAgB,CAAC;IACpE,CAAC;IAED,4BAAM,GAAN;QACI,MAAM,CAAE,+DAAM,QAAQ,EAAE,IAAI,CAAC,YAAY,EAAE,EAAE,EAAC,aAAa,EAAC,SAAS,EAAC,aAAa,EAAC,OAAO,EAAC,qBAAqB;YACjG,8DAAK,SAAS,EAAC,YAAY;gBACvB,gEAAO,OAAO,EAAC,OAAO,EAAC,SAAS,EAAC,YAAY,EAAC,OAAO,EAAE,IAAI,CAAC,UAAU;oBAClE,qDAAC,0DAAS,IAAC,KAAK,EAAC,QAAQ,GAAG;;oBAC5B,gEAAO,IAAI,EAAC,MAAM,EAAC,EAAE,EAAC,OAAO,EAAC,IAAI,EAAC,OAAO,EAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,EAAE,QAAQ,SAAG,CAC7E;;gBACA,IAAI,CAAC,eAAe,EAAE;;gBAC7B,IAAI,CAAC,gBAAgB,EAAE,CACtB;YACT,IAAI,CAAC,KAAK,CAAC,QAAQ,CACjB,CAAC;IACpB,CAAC;IACL,kBAAC;AAAD,CAAC,CAnHgC,gDAAe,GAmH/C;;;;;;;;;;;;;;;;;;;;;;;;AChI8B;AACY;AACY;AAEvD;IAAmC,yBAA2B;IAA9D;;IAoCA,CAAC;IAnCG,iCAAiB,GAAjB;QACI,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC;IAC1B,CAAC;IAED,sBAAM,GAAN;QACI,MAAM,CAAE,qDAAC,oDAAG;YACA,qDAAC,oDAAG;gBACA,qDAAC,oDAAG,IAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;oBACnB,qDAAC,2EAAU;wBACP,qDAAC,2EAAU,CAAC,IAAI,IAAC,IAAI,EAAC,GAAG,cAEP;wBAClB,qDAAC,2EAAU,CAAC,IAAI,IAAC,MAAM,eAEL,CACT,CACX,CACJ;YACN,qDAAC,oDAAG,IAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;gBACnB;;oBAEI,gEAAM;yCAEN;gBACJ;oBACI,yEAAc;oBACd,yEAAc;oBACd,mFAAwB;oBACxB,+EAAoB;oBACpB,qFAA0B;oBAC1B,qFAA0B,CACzB,CACH,CACJ,CAAC;IACnB,CAAC;IACL,YAAC;AAAD,CAAC,CApCkC,gDAAe,GAoCjD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxC8B;AACuB;AACA;AACA;AAC0C;AACL;AAGhD;AACK;AACU;AAuB1D,IAAM,eAAe,GAAG,UAAC,KAAW;IAChC,MAAM,CAAC;QACH,QAAQ,EAAE,KAAK,CAAC,YAAY,CAAC,QAAQ;QACrC,OAAO,EAAE,UAAC,EAAU;YAChB,IAAM,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;YACvC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;gBAAC,MAAM,CAAC,EAAE,CAAC;YACrB,MAAM,CAAI,IAAI,CAAC,SAAS,SAAI,IAAI,CAAC,QAAU,CAAC;QAChD,CAAC;QACD,OAAO,EAAE,UAAC,EAAU,IAAK,YAAK,CAAC,SAAS,CAAC,aAAa,KAAK,EAAE,EAApC,CAAoC;QAC7D,MAAM,EAAE,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,cAAc;QACjD,IAAI,EAAE,KAAK,CAAC,YAAY,CAAC,IAAI;QAC7B,IAAI,EAAE,KAAK,CAAC,YAAY,CAAC,IAAI;QAC7B,IAAI,EAAE,KAAK,CAAC,YAAY,CAAC,IAAI;QAC7B,UAAU,EAAE,KAAK,CAAC,YAAY,CAAC,UAAU;KAC5C,CAAC;AACN,CAAC,CAAC;AAEF,IAAM,kBAAkB,GAAG,UAAC,QAAwB;IAChD,MAAM,CAAC;QACH,UAAU,EAAE,UAAC,SAAiB,EAAE,CAAS,EAAE,IAAY,EAAE,EAAM;YAC3D,IAAM,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC;YACvC,QAAQ,CAAC,6FAAW,CAAC,GAAG,EAAE,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;QACpD,CAAC;QACD,YAAY,EAAE,UAAC,SAAiB,EAAE,EAAM;YACpC,IAAM,GAAG,GAAG,0GAAyB,CAAC,SAAS,CAAC,CAAC;YACjD,QAAQ,CAAC,+FAAa,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC;QACrC,CAAC;QACD,WAAW,EAAE,UAAC,MAAc,EAAE,IAAY,EAAE,QAAgB,EAAE,EAAM;YAChE,IAAM,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC;YACvC,QAAQ,CAAC,6FAAW,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAC,CAAC;QAC3D,CAAC;QACD,YAAY,EAAE,UAAC,MAAc,EAAE,IAAY,EAAE,IAAY;YACrD,IAAM,GAAG,GAAG,wGAAuB,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YACxD,QAAQ,CAAC,+FAAa,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;QAC7C,CAAC;QACD,UAAU,EAAE,UAAC,MAAc,EAAE,IAAY,EAAE,EAAM;YAC7C,IAAM,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC;YACvC,QAAQ,CAAC,6FAAW,CAAC,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;QACvD,CAAC;KACJ,CAAC;AACN,CAAC,CAAC;AAEF;IAAqC,0CAAyG;IAC1I,gCAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SAMf;QALG,KAAI,CAAC,aAAa,GAAG,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACnD,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC/C,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACjD,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC/C,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IACjD,CAAC;IAED,0DAAyB,GAAzB,UAA0B,SAAc;QAC9B,mBAA2C,EAAzC,8BAAY,EAAE,kBAAM,EAAE,cAAI,CAAgB;QAC1C,wCAAI,CAA8B;QAC1C,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAAC,MAAM,CAAC;QAC1B,IAAM,SAAS,GAAG,IAAI,GAAG,CAAC,CAAC;QAC3B,IAAM,SAAS,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;QACrC,YAAY,CAAC,MAAM,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;IAC1C,CAAC;IAED,2CAAU,GAAV,UAAW,EAAU;QACX,mBAA6B,EAA3B,kBAAM,EAAE,cAAI,CAAgB;QAC5B,iCAAI,CAAuB;QACnC,EAAE,CAAC,CAAC,IAAI,KAAK,EAAE,CAAC;YAAC,MAAM,CAAC;QACxB,IAAM,GAAG,GAAG,iBAAe,MAAM,uBAAkB,EAAI,CAAC;QACxD,IAAI,CAAC,GAAG,CAAC,CAAC;IACd,CAAC;IAED,8CAAa,GAAb,UAAc,SAAiB,EAAE,MAAc;QACrC,mBAAuD,EAArD,8BAAY,EAAE,8BAAY,EAAE,cAAI,EAAE,cAAI,CAAgB;QAC9D,IAAM,EAAE,GAAG;YACP,YAAY,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QACrC,CAAC,CAAC;QAEF,YAAY,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IAChC,CAAC;IAED,4CAAW,GAAX,UAAY,SAAiB,EAAE,MAAc,EAAE,IAAY;QACjD,mBAAqD,EAAnD,0BAAU,EAAE,8BAAY,EAAE,cAAI,EAAE,cAAI,CAAgB;QAC5D,IAAM,EAAE,GAAG;YACP,YAAY,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QACrC,CAAC,CAAC;QAEF,UAAU,CAAC,SAAS,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;IAC5C,CAAC;IAED,6CAAY,GAAZ,UAAa,MAAc,EAAE,IAAY,EAAE,QAAgB;QACjD,mBAAsD,EAApD,4BAAW,EAAE,8BAAY,EAAE,cAAI,EAAE,cAAI,CAAgB;QAC7D,IAAM,EAAE,GAAG;YACP,YAAY,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QACrC,CAAC,CAAC;QAEF,WAAW,CAAC,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAC;IAC5C,CAAC;IAED,4CAAW,GAAX,UAAY,IAAY;QACd,mBAA6D,EAA3D,8BAAY,EAAE,kBAAM,EAAE,cAAI,EAAE,cAAI,EAAE,0BAAU,CAAgB;QACpE,IAAM,EAAE,GAAG;YACP,YAAY,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QACrC,CAAC,CAAC;QAEF,UAAU,CAAC,MAAM,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;IACjC,CAAC;IAED,uCAAM,GAAN;QACU,mBAAyE,EAAvE,sBAAQ,EAAE,oBAAO,EAAE,oBAAO,EAAE,0BAAU,EAAE,cAAI,EAAE,cAAI,EAAE,cAAI,CAAgB;QACxE,6BAAE,CAAuB;QACjC,IAAM,QAAQ,GAAG;YACb,IAAI;YACJ,IAAI;YACJ,aAAa,EAAE,IAAI,CAAC,aAAa;YACjC,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,YAAY,EAAE,IAAI,CAAC,YAAY;SAClC,CAAC;QACF,MAAM,CAAE,qDAAC,oDAAG,IAAC,SAAS,EAAC,qBAAqB;YAChC,6DAAI,SAAS,EAAC,wBAAwB,kBAAiB;YACvD,qDAAC,0EAAW,aACR,QAAQ,EAAE,QAAQ,EAClB,SAAS,EAAE,MAAM,CAAC,EAAE,CAAC,EACrB,OAAO,EAAE,OAAO,EAChB,OAAO,EAAE,OAAO,IACZ,QAAQ,EACd;YACF,qDAAC,0EAAU,IACP,UAAU,EAAE,UAAU,EACtB,IAAI,EAAE,IAAI,EACV,UAAU,EAAE,IAAI,CAAC,UAAU,GAC7B;YACF,qDAAC,oDAAG;gBACA,qDAAC,oDAAG,IAAC,EAAE,EAAE,EAAE;oBACP,gEAAM;oBACN,qDAAC,0EAAW,IAAC,UAAU,EAAE,IAAI,CAAC,WAAW,GAAI;oBAC7C,gEAAM,CACJ,CACJ,CACJ,CAAC;IACnB,CAAC;IACL,6BAAC;AAAD,CAAC,CAhGoC,gDAAe,GAgGnD;AAED,IAAM,2BAA2B,GAAG,2EAAO,CAAC,eAAe,EAAE,kBAAkB,CAAC,CAAC,sBAAsB,CAAC,CAAC;AACzG,IAAM,aAAa,GAAG,+EAAU,CAAC,2BAA2B,CAAC,CAAC;AAC9D,wDAAe,aAAa,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/KE;AACiC;AACf;AACD;AACe;AACT;AACP;AAsB/C,IAAM,eAAe,GAAG,UAAC,KAAW;IAChC,MAAM,CAAC;QACH,OAAO,EAAE,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,MAAM;QAC1C,IAAI,EAAE,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI;QACrC,IAAI,EAAE,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI;QACrC,IAAI,EAAE,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,IAAI;QACrC,UAAU,EAAE,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,UAAU;QACjD,SAAS,EAAE,UAAC,EAAU;YAClB,IAAM,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;YACvC,MAAM,CAAI,IAAI,CAAC,SAAS,SAAI,IAAI,CAAC,QAAU,CAAC;QAChD,CAAC;KACJ,CAAC;AACN,CAAC,CAAC;AAEF,IAAM,kBAAkB,GAAG,UAAC,QAAuB;IAC/C,MAAM,CAAC;QACH,YAAY,EAAE,UAAC,IAAY,EAAE,IAAY;YACrC,QAAQ,CAAM,2FAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;QAC5C,CAAC;QACD,UAAU,EAAE,UAAC,EAAc,EAAE,IAAgD;YACzE,QAAQ,CAAM,yFAAU,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;QACxC,CAAC;KACJ,CAAC;AACN,CAAC,CAAC;AAEF;IAAiC,sCAA+D;IAC5F,4BAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SAOf;QANG,KAAI,CAAC,KAAK,GAAG;YACT,OAAO,EAAE,KAAK;SACjB,CAAC;QAEF,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC7C,KAAI,CAAC,KAAK,GAAG,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IACvC,CAAC;IAED,8CAAiB,GAAjB;QACI,QAAQ,CAAC,KAAK,GAAG,eAAe,CAAC;IACrC,CAAC;IAED,uCAAU,GAAV,UAAW,EAAU;QACX,mBAAyC,EAAvC,8BAAY,EAAE,cAAI,EAAE,cAAI,CAAgB;QAEhD,EAAE,CAAC,CAAC,IAAI,KAAK,EAAE,CAAC;YAAC,MAAM,CAAC;QACxB,IAAM,SAAS,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC;QAClC,YAAY,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAClC,CAAC;IAED,wCAAW,GAAX;QACU,mBAAmC,EAAjC,oBAAO,EAAE,wBAAS,CAAgB;QAC1C,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,gBAAM;YACrB,IAAM,EAAE,GAAG,YAAU,MAAM,CAAC,EAAI,CAAC;YACjC,MAAM,CAAC,qDAAC,qEAAU,IACN,KAAK,EAAE,MAAM,EACb,GAAG,EAAE,EAAE,EACP,SAAS,EAAE,SAAS,GAAI,CAAC;QACzC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,mCAAM,GAAN,UAAO,IAAgD;QAC7C,mBAAqD,EAAnD,0BAAU,EAAE,8BAAY,EAAE,cAAI,EAAE,cAAI,CAAgB;QAC5D,UAAU,CAAC,cAAM,mBAAY,CAAC,IAAI,EAAE,IAAI,CAAC,EAAxB,CAAwB,EAAE,IAAI,CAAC,CAAC;IACrD,CAAC;IAED,kCAAK,GAAL;QACI,IAAI,CAAC,QAAQ,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC;IACtC,CAAC;IAED,iCAAI,GAAJ;QACI,IAAI,CAAC,QAAQ,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC;IACrC,CAAC;IAED,mCAAM,GAAN;QACU,mBAAiC,EAA/B,0BAAU,EAAE,cAAI,CAAgB;QACxC,MAAM,CAAE,qDAAC,oDAAG;YACA,qDAAC,4DAAW;gBACR,qDAAC,uDAAM,IAAC,OAAO,EAAC,SAAS,EAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,kCAAyC,CACtF;YACd,qDAAC,oDAAG,IAAC,EAAE,EAAE,EAAE;gBACP,qDAAC,oDAAG,IAAC,SAAS,EAAC,aAAa;oBACxB,qDAAC,oDAAG,IAAC,EAAE,EAAE,CAAC;wBACN,4EAAqB,CACnB;oBACN,qDAAC,oDAAG,IAAC,EAAE,EAAE,CAAC;wBACN,kFAA2B,CACzB;oBACN,qDAAC,oDAAG,IAAC,EAAE,EAAE,CAAC,EAAE,SAAS,EAAC,aAAa;wBAC/B,4EAAqB,CACnB;oBACN,qDAAC,oDAAG,IAAC,EAAE,EAAE,CAAC,EAAE,SAAS,EAAC,aAAa;wBAC/B,oFAA8B,CAC5B;oBACN,qDAAC,oDAAG,IAAC,EAAE,EAAE,CAAC,EAAE,SAAS,EAAC,aAAa;wBAC/B,yFAAkC,CAChC,CACJ;gBACL,IAAI,CAAC,WAAW,EAAE;gBACnB,qDAAC,0EAAU,IAAC,UAAU,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,IAAI,GAAG,CACxF;YACN,qDAAC,mEAAS,IACN,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,EACxB,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,EAC5B,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAClC,CACA,CAAC;IACnB,CAAC;IACL,yBAAC;AAAD,CAAC,CAjFgC,gDAAe,GAiF/C;AAED,IAAM,SAAS,GAAG,2EAAO,CAAC,eAAe,EAAE,kBAAkB,CAAC,CAAC,kBAAkB,CAAC,CAAC;AACnF,wDAAe,SAAS,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzIM;AAC2C;AAE1B;AACS;AACL;AACD;AACf;AACF;AAiBlC,IAAM,eAAe,GAAG,UAAC,KAAW;IAChC,IAAM,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;IAClE,IAAM,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;IAC5C,MAAM,CAAC;QACH,IAAI,EAAE,IAAI;QACV,IAAI,EAAE,KAAK,CAAC,YAAY,CAAC,IAAI;QAC7B,IAAI,EAAE,KAAK,CAAC,YAAY,CAAC,IAAI;KAChC,CAAC;AACN,CAAC,CAAC;AAEF,IAAM,kBAAkB,GAAG,UAAC,QAAwB;IAChD,MAAM,CAAC;QACH,WAAW,EAAE,UAAC,QAAQ,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS;YACpD,QAAQ,CAAM,2FAAW,CAAC,QAAQ,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAC,CAAC,IAAO,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACvG,CAAC;QACD,eAAe,EAAE,UAAC,IAAI,EAAE,IAAI;YACxB,QAAQ,CAAC,iGAAe,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;QAC1C,CAAC;KACJ,CAAC;AACN,CAAC,CAAC;AAEF;IAA4B,iCAA+D;IACvF,uBAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SAOf;QANG,KAAI,CAAC,KAAK,GAAG;YACT,WAAW,EAAE,IAAI;SACpB,CAAC;QAEF,KAAI,CAAC,MAAM,GAAG,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACrC,KAAI,CAAC,eAAe,GAAG,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IAC3D,CAAC;IAED,yCAAiB,GAAjB;QACI,QAAQ,CAAC,KAAK,GAAG,SAAS,CAAC;IAC/B,CAAC;IAED,8BAAM,GAAN,UAAO,QAAgB,EAAE,WAAmB,EAAE,QAAkB;QACtD,mBAAyD,EAAvD,4BAAW,EAAE,oCAAe,EAAE,cAAI,EAAE,cAAI,CAAgB;QAEhE,IAAM,SAAS,GAAG;YACd,eAAe,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAChC,CAAC,CAAC;QAEF,WAAW,CAAC,QAAQ,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,CAAC,CAAC;IAC5D,CAAC;IAED,uCAAe,GAAf;QAAA,iBAaC;QAZG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAEzC,MAAM,CAAE,qDAAC,oDAAG;YACA,qDAAC,oDAAG;gBACA,qDAAC,sDAAK,IAAC,OAAO,EAAC,SAAS,EAAC,SAAS,EAAE,cAAM,YAAI,CAAC,QAAQ,CAAC,EAAE,WAAW,EAAE,KAAK,EAAE,CAAC,EAArC,CAAqC;oBAC3E,gFAAqB;oBACrB;wBACI;;4BAAiH,gEAAM,CAAK,CAC3H,CACD,CACN,CACJ,CAAC;IACnB,CAAC;IAED,8BAAM,GAAN;QACY,0BAAI,CAAgB;QAC5B,MAAM,CAAE,qDAAC,oDAAG;YACA,qDAAC,0DAAS;gBACN;oBAAI;;wBAAgB;4BAAQ,IAAI;gCAAU,CAAO,CAAK;gBACtD,4DAAG,SAAS,EAAC,MAAM,8CAEf;gBAEJ,qDAAC,oDAAG;oBACA,qDAAC,oDAAG,IAAC,EAAE,EAAE,CAAC;wBACN,qDAAC,sDAAK,IAAC,MAAM,EAAE,kDAAkD,EAAE,OAAO,EAAC,SAAS;4BAChF,qDAAC,wEAAW,IAAC,QAAQ,EAAE,OAAO,CAAC,eAAe,EAAE,WAAW,EAAE,IAAI,CAAC,MAAM,GAAI,CACxE,CACN,CACJ,CACE;YACZ,qDAAC,qDAAI,IAAC,KAAK;gBACP,qDAAC,oDAAG;oBACA,qDAAC,oDAAG,IAAC,EAAE,EAAE,CAAC,GACJ;oBACN,qDAAC,oDAAG,IAAC,EAAE,EAAE,CAAC;wBACN,qDAAC,0DAAQ,OAAG,CACV;oBACN,qDAAC,oDAAG,IAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;wBAClB,IAAI,CAAC,eAAe,EAAE;wBACvB,4FAAiC;wBACjC,gEAAM;wBACN,0LAGI;wBACJ,qDAAC,2DAAS,OAAG,CACX,CACJ,CACH,CACL,CAAC;IACnB,CAAC;IACL,oBAAC;AAAD,CAAC,CA9E2B,gDAAe,GA8E1C;AAED,IAAM,IAAI,GAAG,2EAAO,CAAC,eAAe,EAAE,kBAAkB,CAAC,CAAC,aAAa,CAAC,CAAC;AACzE,wDAAe,IAAI,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/HW;AACiE;AACZ;AAC9B;AACN;AACM;AAEA;AAEqC;AAChD;AACe;AA6B1D,IAAM,eAAe,GAAG,UAAC,KAAW;IAChC,MAAM,CAAC;QACH,OAAO,EAAE,UAAC,EAAU,IAAK,YAAK,CAAC,SAAS,CAAC,aAAa,KAAK,EAAE,EAApC,CAAoC;QAC7D,OAAO,EAAE,KAAK,CAAC,UAAU,CAAC,eAAe;QACzC,IAAI,EAAE,KAAK,CAAC,YAAY,CAAC,IAAI;QAC7B,IAAI,EAAE,KAAK,CAAC,YAAY,CAAC,IAAI;QAC7B,IAAI,EAAE,KAAK,CAAC,YAAY,CAAC,IAAI;QAC7B,UAAU,EAAE,KAAK,CAAC,YAAY,CAAC,UAAU;QACzC,QAAQ,EAAE,KAAK,CAAC,YAAY,CAAC,QAAQ;QACrC,OAAO,EAAE,UAAC,MAAc;YACpB,IAAM,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;YACnC,8BAAS,EAAE,wBAAQ,CAAU;YACrC,MAAM,CAAI,SAAS,SAAI,QAAU,CAAC;QACtC,CAAC;QACD,KAAK,EAAE,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC;KACzD,CAAC;AACN,CAAC,CAAC;AAEF,IAAM,kBAAkB,GAAG,UAAC,QAAwB;IAChD,MAAM,CAAC;QACH,UAAU,EAAE,UAAC,OAAe,EAAE,IAAY,EAAE,EAAM;YAC9C,IAAM,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC;YACvC,QAAQ,CAAC,6FAAW,CAAC,GAAG,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;QACxD,CAAC;QACD,aAAa,EAAE,UAAC,OAAe,EAAE,IAAY,EAAE,IAAY;YACvD,IAAM,GAAG,GAAG,wGAAuB,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YACzD,QAAQ,CAAC,+FAAa,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;QAC7C,CAAC;QACD,UAAU,EAAE,UAAC,SAAiB,EAAE,CAAS,EAAE,IAAY,EAAE,EAAM;YAC3D,IAAM,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC;YACvC,QAAQ,CAAC,6FAAW,CAAC,GAAG,EAAE,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;QACpD,CAAC;QACD,YAAY,EAAE,UAAC,SAAiB,EAAE,EAAM;YACpC,IAAM,GAAG,GAAG,0GAAyB,CAAC,SAAS,CAAC,CAAC;YACjD,QAAQ,CAAC,+FAAa,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC;QACrC,CAAC;QACD,WAAW,EAAE,UAAC,OAAe,EAAE,IAAY,EAAE,QAAgB,EAAE,EAAM;YACjE,IAAM,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC;YACvC,QAAQ,CAAC,6FAAW,CAAC,GAAG,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAC,CAAC;QAC5D,CAAC;QACD,cAAc,EAAE,UAAC,OAAe,IAAK,eAAQ,CAAC,qGAAqB,CAAC,OAAO,CAAC,CAAC,EAAxC,CAAwC;QAC7E,cAAc,EAAE,UAAC,OAAe,IAAK,eAAQ,CAAC,qGAAqB,CAAC,OAAO,CAAC,CAAC,EAAxC,CAAwC;QAC7E,YAAY,EAAE,UAAC,OAAe,EAAE,IAAY,EAAE,IAAY;YACtD,IAAM,GAAG,GAAG,wGAAuB,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YACzD,QAAQ,CAAC,+FAAa,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;QAC7C,CAAC;KACJ,CAAC;AACN,CAAC,CAAC;AAEF;IAAgC,qCAAkG;IAC9H,2BAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SAMf;QALG,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC7C,KAAI,CAAC,aAAa,GAAG,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACnD,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC/C,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACjD,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IACnD,CAAC;IAED,6CAAiB,GAAjB;QACY,yCAAI,CAA+B;QAC3C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IAC3B,CAAC;IAED,uCAAW,GAAX,UAAY,IAAgB;QAAhB,+BAAgB;QAClB,mBAA6C,EAA3C,gCAAa,EAAE,oBAAO,EAAE,cAAI,CAAgB;QACpD,EAAE,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAAC,MAAM,CAAC;QAC1B,IAAM,SAAS,GAAG,IAAI,GAAG,CAAC,CAAC;QAC3B,IAAM,SAAS,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;QACrC,aAAa,CAAC,OAAO,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;IAC5C,CAAC;IAED,sCAAU,GAAV,UAAW,EAAU;QACX,mBAAqC,EAAnC,gBAAK,EAAE,oBAAO,EAAE,cAAI,CAAgB;QACpC,iCAAI,CAAuB;QACnC,IAAM,QAAQ,GAAG,KAAK,CAAC,QAAQ,CAAC;QAChC,EAAE,CAAC,CAAC,IAAI,KAAK,EAAE,CAAC;YAAC,MAAM,CAAC;QACxB,IAAM,GAAG,GAAG,MAAI,QAAQ,uBAAkB,OAAO,uBAAkB,EAAI,CAAC;QACxE,IAAI,CAAC,GAAG,CAAC,CAAC;QACV,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;IACzB,CAAC;IAED,yCAAa,GAAb,UAAc,SAAiB,EAAE,OAAe;QACtC,mBAAuE,EAArE,8BAAY,EAAE,8BAAY,EAAE,kCAAc,EAAE,cAAI,EAAE,cAAI,CAAgB;QAC9E,IAAM,EAAE,GAAG;YACP,cAAc,CAAC,OAAO,CAAC,CAAC;YACxB,YAAY,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QACtC,CAAC,CAAC;QAEF,YAAY,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IAChC,CAAC;IAED,uCAAW,GAAX,UAAY,SAAiB,EAAE,OAAe,EAAE,IAAY;QAClD,mBAAqD,EAAnD,8BAAY,EAAE,cAAI,EAAE,cAAI,EAAE,0BAAU,CAAgB;QAC5D,IAAM,EAAE,GAAG,cAAM,mBAAY,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,EAAjC,CAAiC,CAAC;QACnD,UAAU,CAAC,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;IAC7C,CAAC;IAED,wCAAY,GAAZ,UAAa,OAAe,EAAE,IAAY,EAAE,QAAgB;QAClD,mBAAsE,EAApE,8BAAY,EAAE,kCAAc,EAAE,cAAI,EAAE,cAAI,EAAE,4BAAW,CAAgB;QAC7E,IAAM,EAAE,GAAG;YACP,cAAc,CAAC,OAAO,CAAC,CAAC;YACxB,YAAY,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;QACtC,CAAC,CAAC;QAEF,WAAW,CAAC,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAC;IAC7C,CAAC;IAED,uCAAW,GAAX,UAAY,CAAwB;QAChC,CAAC,CAAC,cAAc,EAAE,CAAC;QAEb,mBAA8E,EAA5E,oBAAO,EAAE,8BAAY,EAAE,kCAAc,EAAE,cAAI,EAAE,cAAI,EAAE,0BAAU,CAAgB;QACrF,IAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAoB,CAAC;QAC9C,IAAM,EAAE,GAAG;YACP,cAAc,CAAC,OAAO,CAAC,CAAC;YACxB,YAAY,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;YAGlC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QACvB,CAAC,CAAC;QAEF,IAAM,IAAI,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC;QAC9B,UAAU,CAAC,OAAO,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;IAClC,CAAC;IAED,kCAAM,GAAN;QACU,mBAAsE,EAApE,oBAAO,EAAE,sBAAQ,EAAE,oBAAO,EAAE,oBAAO,EAAE,cAAI,EAAE,0BAAU,CAAgB;QACvE,mBAA2B,EAAzB,cAAI,EAAE,cAAI,CAAgB;QAClC,IAAM,QAAQ,GAAG;YACb,IAAI;YACJ,IAAI;YACJ,aAAa,EAAE,IAAI,CAAC,aAAa;YACjC,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,YAAY,EAAE,IAAI,CAAC,YAAY;SAClC,CAAC;QAGF,MAAM,CAAE,8DAAK,SAAS,EAAC,WAAW;YACtB,qDAAC,oDAAG;gBACA,qDAAC,oDAAG,IAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE;oBACpB,qDAAC,0EAAW,aACR,SAAS,EAAE,OAAO,EAClB,QAAQ,EAAE,QAAQ,EAClB,OAAO,EAAE,OAAO,EAChB,OAAO,EAAE,OAAO,IACZ,QAAQ,EACd,CACA,CACJ;YACN,qDAAC,oDAAG;gBACA,qDAAC,oDAAG,IAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE;oBACpB,qDAAC,0EAAU,IACP,UAAU,EAAE,UAAU,EACtB,IAAI,EAAE,IAAI,EACV,UAAU,EAAE,IAAI,CAAC,UAAU,GAC7B,CACA,CACJ;YACN,gEAAM;YACN,qDAAC,oDAAG;gBACA,qDAAC,oDAAG,IAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE;oBACpB,qDAAC,0EAAU,IACP,QAAQ,EAAC,EAAE,EACX,WAAW,EAAC,wBAAwB,EACpC,GAAG,EAAC,QAAQ,GACd;oBACF,iEAAQ,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE,SAAS,EAAC,iBAAiB,WAAc,CAC1E,CACJ,CACJ,CAAC;IACnB,CAAC;IACL,wBAAC;AAAD,CAAC,CA1H+B,gDAAe,GA0H9C;AAED,IAAM,aAAa,GAAG,2EAAO,CAAC,eAAe,EAAE,kBAAkB,CAAC,CAAC,iBAAiB,CAAC,CAAC;AACtF,IAAM,aAAa,GAAG,+EAAU,CAAC,aAAa,CAAC,CAAC;AAChD,wDAAe,aAAa,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvNE;AACsD;AAC0B;AAChE;AACC;AACU;AACuB;AAwBjF,IAAM,eAAe,GAAG,UAAC,KAAW;IAChC,IAAM,OAAO,GAAI,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC;IAC1C,IAAM,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC;IAChD,IAAM,OAAO,GAAG,CAAC,OAAO,GAAG,CAAC,IAAI,SAAS,GAAG,CAAC,IAAI,OAAO,KAAK,SAAS,CAAC,CAAC;IAExE,IAAM,QAAQ,GAAG,UAAC,EAAU,IAAK,YAAK,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE,CAAC,EAA3B,CAA2B,CAAC;IAC7D,IAAM,KAAK,GAAG,cAAM,eAAQ,CAAC,KAAK,CAAC,UAAU,CAAC,eAAe,CAAC,EAA1C,CAA0C,CAAC;IAC/D,IAAM,QAAQ,GAAG,cAAQ,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;QAAC,MAAM,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAC5E,IAAM,UAAU,GAAG,cAAQ,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;QAAC,MAAM,CAAC,KAAK,EAAE,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAChF,IAAM,SAAS,GAAG,cAAQ,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;QAAC,MAAM,CAAC,KAAK,EAAE,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAC9E,IAAM,WAAW,GAAG,cAAQ,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;QAAC,MAAM,CAAC,KAAK,EAAE,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAClF,IAAM,QAAQ,GAAG,cAAQ,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;QAAC,MAAM,CAAC,KAAK,EAAE,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,IAAI,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;IACpF,IAAM,WAAW,GAAG,cAAQ,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC;QAAC,MAAM,CAAC,KAAK,EAAE,CAAC,WAAW,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAElF,MAAM,CAAC;QACH,OAAO,EAAE,OAAO;QAChB,QAAQ,EAAE,cAAM,cAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,EAAnD,CAAmD;QACnE,QAAQ,EAAE,QAAQ,EAAE;QACpB,UAAU,EAAE,UAAU,EAAE;QACxB,SAAS,EAAE,SAAS,EAAE;QACtB,WAAW,EAAE,WAAW,EAAE;QAC1B,QAAQ,EAAE,QAAQ,EAAE;QACpB,WAAW,EAAE,WAAW,EAAE;KAC7B,CAAC;AACN,CAAC,CAAC;AAEF,IAAM,kBAAkB,GAAG,UAAC,QAAwB;IAChD,MAAM,CAAC;QACH,kBAAkB,EAAE,UAAC,EAAU;YAC3B,QAAQ,CAAC,8FAAc,CAAC,EAAE,CAAC,CAAC,CAAC;QACjC,CAAC;QACD,aAAa,EAAE;YACX,QAAQ,CAAC,8FAAc,CAAC,SAAS,CAAC,CAAC,CAAC;QACxC,CAAC;QACD,QAAQ,EAAE,UAAC,KAAiB;YACxB,QAAQ,CAAC,uFAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;QAC9B,CAAC;QACD,UAAU,EAAE,UAAC,EAAU;YACnB,QAAQ,CAAC,gGAAgB,CAAC,EAAE,CAAC,CAAC,CAAC;QACnC,CAAC;QACD,WAAW,EAAE,UAAC,EAAU,EAAE,QAAgB;YACtC,QAAQ,CAAC,2FAAW,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC,CAAC;QACxC,CAAC;QACD,aAAa,EAAE;YACX,QAAQ,CAAC,iGAAe,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7B,QAAQ,CAAC,iGAAe,CAAC,EAAE,CAAC,CAAC,CAAC;YAC9B,QAAQ,CAAC,mGAAiB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAChC,QAAQ,CAAC,kGAAgB,CAAC,EAAE,CAAC,CAAC,CAAC;QACnC,CAAC;KACJ,CAAC;AACN,CAAC,CAAC;AAEF;IAAyB,8BAA4H;IACjJ,oBAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SAKf;QAJG,KAAI,CAAC,kBAAkB,GAAG,KAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC7D,KAAI,CAAC,KAAK,GAAG,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACnC,KAAI,CAAC,kBAAkB,GAAG,KAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC7D,KAAI,CAAC,MAAM,GAAG,KAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IACzC,CAAC;IAED,0BAAK,GAAL;QACU,mBAA6C,EAA3C,gCAAa,EAAE,gCAAa,CAAgB;QAC5C,yCAAQ,CAAuB;QAC/B,iCAAI,CAAuB;QAEnC,aAAa,EAAE,CAAC;QAChB,IAAM,UAAU,GAAG,MAAI,QAAQ,aAAU,CAAC;QAC1C,aAAa,EAAE,CAAC;QAChB,IAAI,CAAC,UAAU,CAAC,CAAC;IACrB,CAAC;IAED,uCAAkB,GAAlB;QACU,mBAAgD,EAA9C,4BAAW,EAAE,0CAAkB,CAAgB;QACjD,0BAAoC,EAAlC,UAAE,EAAE,sBAAQ,CAAuB;QAE3C,WAAW,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,QAAQ,CAAC,CAAC;QAClC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B,CAAC;IAED,oCAAe,GAAf;QACY,gCAAO,CAAgB;QAC/B,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAC1B,MAAM,CAAC,qDAAC,uDAAM,IAAC,OAAO,EAAC,QAAQ,EAAC,OAAO,EAAE,IAAI,CAAC,kBAAkB,mBAAuB,CAAC;IAC5F,CAAC;IAED,2BAAM,GAAN;QACU,0BAAoC,EAAlC,UAAE,EAAE,sBAAQ,CAAuB;QACnC,iCAAI,CAAuB;QAEnC,IAAM,IAAI,GAAG,MAAI,QAAQ,uBAAkB,EAAE,cAAW,CAAC;QACzD,IAAI,CAAC,IAAI,CAAC,CAAC;IACf,CAAC;IAED,uCAAkB,GAAlB;QACI,IAAM,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAC3C,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAEvB,MAAM,CAAE,4DAAG,SAAS,EAAC,aAAa;YACtB,qDAAC,uDAAM,IAAC,OAAO,EAAE,IAAI,CAAC,MAAM;gBACxB,qDAAC,0DAAS,IAAC,KAAK,EAAC,SAAS,GAAE;wCACvB,CACT,CAAC;IACjB,CAAC;IAED,2BAAM,GAAN;QACU,mBAA8F,EAA5F,sBAAQ,EAAE,0BAAU,EAAE,wBAAS,EAAE,4BAAW,EAAE,sBAAQ,EAAE,sBAAQ,EAAE,4BAAW,CAAgB;QACrG,IAAM,IAAI,GAAG,QAAQ,EAAE,CAAC;QACxB,IAAM,IAAI,GAAG,QAAQ,GAAG,GAAG,GAAG,SAAS,CAAC;QACxC,IAAM,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;QACpC,IAAM,UAAU,GAAG,cAAc,GAAG,UAAU,CAAC,MAAM,CAAC,aAAa,CAAC,GAAG,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAE1G,MAAM,CAAE,qDAAC,sDAAK,IAAC,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,MAAM,EAAC,OAAO,EAAC,SAAS,EAAE,IAAI;YACjE,qDAAC,sDAAK,CAAC,MAAM,IAAC,WAAW;gBACrB,qDAAC,sDAAK,CAAC,KAAK;oBAAE,IAAI;oBAAC;wBAAM;;4BAAW,UAAU,CAAS,CAAO,CAAc,CACjE;YAEf,qDAAC,sDAAK,CAAC,IAAI;gBACP,4DAAG,IAAI,EAAE,WAAW,EAAE,MAAM,EAAC,QAAQ,EAAC,GAAG,EAAC,UAAU;oBAChD,qDAAC,sDAAK,IAAC,GAAG,EAAE,UAAU,EAAE,UAAU,QAAC,SAAS,EAAC,cAAc,GAAE,CAC7D;gBACJ,8DAAK,SAAS,EAAC,gCAAgC,IAC1C,WAAW,CACV,CACG;YAEb,qDAAC,sDAAK,CAAC,MAAM;gBACR,IAAI,CAAC,kBAAkB,EAAE;gBACzB,IAAI,CAAC,KAAK,CAAC,QAAQ;gBACpB,gEAAM;gBACN,qDAAC,8DAAa,IAAC,KAAK,EAAE,EAAC,KAAK,EAAE,OAAO,EAAC;oBACjC,IAAI,CAAC,eAAe,EAAE;oBACvB,qDAAC,uDAAM,IAAC,OAAO,EAAE,IAAI,CAAC,KAAK,UAAc,CAC7B,CACL,CACX,CAAC;IACrB,CAAC;IACL,iBAAC;AAAD,CAAC,CArFwB,gDAAe,GAqFvC;AAED,IAAM,kBAAkB,GAAG,2EAAO,CAAC,eAAe,EAAE,kBAAkB,CAAC,CAAC,UAAU,CAAC,CAAC;AACpF,IAAM,aAAa,GAAG,+EAAU,CAAC,kBAAkB,CAAC,CAAC;AACrD,wDAAe,aAAa,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3KE;AACe;AACE;AACU;AACmD;AACnD;AACQ;AAyBlE,IAAM,eAAe,GAAG,UAAC,KAAW;IAC1B,2BAAiD,EAA/C,sBAAQ,EAAE,kCAAc,CAAwB;IAChD,iCAAK,CAAqB;IAC5B,yBAA+C,EAA7C,oBAAO,EAAE,oCAAe,CAAsB;IAEtD,MAAM,CAAC;QACH,OAAO,EAAE,UAAC,EAAE;YACR,IAAM,MAAM,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;YACzB,MAAM,CAAI,MAAM,CAAC,SAAS,SAAI,MAAM,CAAC,QAAU,CAAC;QACpD,CAAC;QACD,SAAS,EAAE,cAAc;QACzB,OAAO,EAAE,QAAQ,CAAC,CAAC,CAAC;QACpB,OAAO,EAAE,eAAe;QACxB,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC,QAAQ;QACnC,OAAO,EAAE,UAAC,EAAE,IAAK,YAAK,CAAC,SAAS,CAAC,aAAa,KAAK,EAAE,EAApC,CAAoC;QACrD,IAAI,EAAE,KAAK,CAAC,YAAY,CAAC,IAAI;QAC7B,IAAI,EAAE,KAAK,CAAC,YAAY,CAAC,IAAI;KAChC,CAAC;AACN,CAAC,CAAC;AAEF,IAAM,kBAAkB,GAAG,UAAC,QAAwB;IAChD,MAAM,CAAC;QACH,UAAU,EAAE,UAAC,SAAiB,EAAE,CAAS,EAAE,IAAY,EAAE,EAAM;YAC3D,IAAM,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC;YACvC,QAAQ,CAAM,6FAAW,CAAC,GAAG,EAAE,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC;QACzD,CAAC;QACD,YAAY,EAAE,UAAC,SAAS,EAAE,EAAE;YACxB,IAAM,GAAG,GAAG,0GAAyB,CAAC,SAAS,CAAC,CAAC;YACjD,QAAQ,CAAM,+FAAa,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC;QAC1C,CAAC;QACD,WAAW,EAAE,UAAC,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE;YACrC,IAAM,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC;YACvC,QAAQ,CAAM,6FAAW,CAAC,GAAG,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,CAAC,CAAC,CAAC;QACjE,CAAC;QACD,YAAY,EAAE,UAAC,EAAE,IAAK,eAAQ,CAAM,4GAA0B,CAAC,EAAE,CAAC,CAAC,EAA7C,CAA6C;KACtE,CAAC;AACN,CAAC,CAAC;AAEF;IAAiC,sCAAkF;IAC/G,4BAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SAKf;QAJG,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC/C,KAAI,CAAC,aAAa,GAAG,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACnD,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC/C,KAAI,CAAC,YAAY,GAAG,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IACrD,CAAC;IAED,wCAAW,GAAX;QACU,mBAAoC,EAAlC,oBAAO,EAAE,0BAAU,CAAgB;QACnC,iCAAI,CAAuB;QAEnC,IAAM,IAAI,GAAG,MAAI,UAAU,uBAAkB,OAAO,cAAW,CAAC;QAChE,IAAI,CAAC,IAAI,CAAC,CAAC;IACf,CAAC;IAED,0CAAa,GAAb,UAAc,SAAiB,EAAE,CAAS;QAC9B,0CAAY,CAAgB;QAEpC,YAAY,CAAC,SAAS,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;IAC9C,CAAC;IAED,wCAAW,GAAX,UAAY,SAAiB,EAAE,SAAiB,EAAE,IAAY;QACpD,mBAAyC,EAAvC,0BAAU,EAAE,8BAAY,CAAgB;QAChD,IAAM,EAAE,GAAG,cAAM,mBAAY,CAAC,SAAS,CAAC,EAAvB,CAAuB,CAAC;QACzC,UAAU,CAAC,SAAS,EAAE,SAAS,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;IAC/C,CAAC;IAED,yCAAY,GAAZ,UAAa,SAAiB,EAAE,IAAY,EAAE,QAAgB;QAClD,wCAAW,CAAgB;QACnC,WAAW,CAAC,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;IAC7D,CAAC;IAED,mCAAM,GAAN;QACY,oCAAS,CAAgB;QACjC,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAEzB,2BAAoE,EAAlE,cAAI,EAAE,sBAAQ,EAAE,wBAAS,EAAE,sBAAQ,EAAE,kBAAM,CAAwB;QACrE,mBAAiC,EAA/B,oBAAO,EAAE,oBAAO,CAAgB;QAClC,mBAA2B,EAAzB,cAAI,EAAE,cAAI,CAAgB;QAClC,IAAM,KAAK,GAAG;YACV,IAAI;YACJ,IAAI;YACJ,aAAa,EAAE,IAAI,CAAC,aAAa;YACjC,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,YAAY,EAAE,IAAI,CAAC,YAAY;SAClC,CAAC;QAEF,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QAE1C,MAAM,CAAE,8DAAK,SAAS,EAAC,WAAW;YACtB,qDAAC,qDAAI;gBACD,qDAAC,kEAAO,aACJ,SAAS,EAAE,OAAO,EAClB,IAAI,EAAE,IAAI,EACV,IAAI,EAAE,IAAI,EACV,SAAS,EAAE,SAAS,EACpB,OAAO,EAAE,EAAE,EACX,OAAO,EAAE,OAAO,EAChB,QAAQ,EAAE,QAAQ,EAClB,QAAQ,EAAE,QAAQ,EAClB,MAAM,EAAE,MAAM,IACV,KAAK,EACX,CACC;YACP;gBACI,4DAAG,SAAS,EAAC,aAAa;oBACtB,qDAAC,uDAAM,IAAC,OAAO,EAAE,IAAI,CAAC,WAAW;wBAC7B,qDAAC,0DAAS,IAAC,KAAK,EAAC,SAAS,GAAE;gDACvB,CACT,CACF,CACJ,CAAC;IACnB,CAAC;IACL,yBAAC;AAAD,CAAC,CA3EgC,gDAAe,GA2E/C;AAED,IAAM,oBAAoB,GAAG,2EAAO,CAAC,eAAe,EAAE,kBAAkB,CAAC,CAAC,kBAAkB,CAAC,CAAC;AAC9F,IAAM,kBAAkB,GAAG,+EAAU,CAAC,oBAAoB,CAAC,CAAC;AAC5D,wDAAe,kBAAkB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpJH;AACiB;AACqG;AACjG;AACR;AACV;AACoB;AAEH;AACI;AACnB;AACA;AA8BpC,IAAM,eAAe,GAAG,UAAC,KAAW;IACxB,sCAAO,CAAsB;IACrC,IAAM,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC;IAChD,IAAM,OAAO,GAAG,CAAC,OAAO,GAAG,CAAC,IAAI,SAAS,GAAG,CAAC,IAAI,OAAO,KAAK,SAAS,CAAC,CAAC;IACxE,IAAM,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IAC5C,IAAM,QAAQ,GAAG,IAAI,GAAM,IAAI,CAAC,SAAS,SAAI,IAAI,CAAC,QAAU,GAAG,EAAE,CAAC;IAClE,IAAM,MAAM,GAAiB,yEAAM,CAAC,KAAK,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,CAAC;IAEvE,MAAM,CAAC;QACH,MAAM,EAAE,MAAM;QACd,OAAO,EAAE,OAAO;QAChB,gBAAgB,EAAE,KAAK,CAAC,UAAU,CAAC,gBAAgB;QACnD,QAAQ,EAAE,QAAQ;KACrB,CAAC;AACN,CAAC,CAAC;AAEF,IAAM,kBAAkB,GAAG,UAAC,QAAwB;IAChD,MAAM,CAAC;QACH,WAAW,EAAE,UAAC,QAAgB,EAAE,WAAmB,EAAE,QAAkB;YACnE,QAAQ,CAAC,2FAAW,CAAC,QAAQ,EAAE,WAAW,EAAE,QAAQ,EAAE,cAAQ,QAAQ,CAAC,+FAAe,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,cAAQ,CAAC,CAAC,CAAC,CAAC;QACtH,CAAC;QACD,kBAAkB,EAAE,UAAC,EAAU;YAE3B,QAAQ,CAAC,kGAAkB,CAAC,EAAE,CAAC,CAAC,CAAC;QACrC,CAAC;QACD,qBAAqB,EAAE,UAAC,EAAU;YAE9B,QAAQ,CAAC,qGAAqB,CAAC,EAAE,CAAC,CAAC,CAAC;QACxC,CAAC;QACD,YAAY,EAAE,UAAC,QAAgB,EAAE,GAAa;YAC1C,QAAQ,CAAC,4FAAY,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC;QAC1C,CAAC;QACD,qBAAqB,EAAE;YACnB,QAAQ,CAAC,qGAAqB,EAAE,CAAC,CAAC;QACtC,CAAC;KACJ,CAAC;AACN,CAAC,CAAC;AAMF;IAAkC,uCAA4B;IAC1D,6BAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SAIf;QAHG,KAAI,CAAC,eAAe,GAAG,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACvD,KAAI,CAAC,oBAAoB,GAAG,KAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QACjE,KAAI,CAAC,aAAa,GAAG,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IACvD,CAAC;IAED,+CAAiB,GAAjB;QACY,yCAAQ,CAAuB;QACjC,mBAA8B,EAA5B,kBAAM,EAAE,gBAAK,CAAgB;QAErC,QAAQ,CAAC,KAAK,GAAG,QAAQ,GAAG,aAAa,CAAC;QAC1C,MAAM,CAAC,iBAAiB,CAAC,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;IACxD,CAAC;IAED,2CAAa,GAAb;QACY,4DAAqB,CAAgB;QAC7C,qBAAqB,EAAE,CAAC;QACxB,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IAED,6CAAe,GAAf,UAAgB,OAAe;QACnB,kDAAgB,CAAgB;QACxC,IAAM,GAAG,GAAG,uEAAI,CAAC,gBAAgB,EAAE,UAAC,EAAE;YAClC,MAAM,CAAC,EAAE,KAAK,OAAO,CAAC;QAC1B,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,GAAG,GAAG,IAAI,GAAG,KAAK,CAAC;IAC9B,CAAC;IAED,kDAAoB,GAApB;QACU,mBAA+C,EAA7C,sCAAgB,EAAE,8BAAY,CAAgB;QAC9C,yCAAQ,CAAuB;QACvC,YAAY,CAAC,QAAQ,EAAE,gBAAgB,CAAC,CAAC;QACzC,IAAI,CAAC,aAAa,EAAE,CAAC;IACzB,CAAC;IAED,wCAAU,GAAV;QACU,mBAAuD,EAArD,oBAAO,EAAE,4BAAW,EAAE,sCAAgB,CAAgB;QACtD,yCAAQ,CAAuB;QACvC,IAAM,SAAS,GAAG,gBAAgB,CAAC,MAAM,GAAG,CAAC,CAAC;QAE9C,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAE1B,MAAM,CAAE,qDAAC,oDAAG;YACA,qDAAC,oDAAG,IAAC,EAAE,EAAE,CAAC;gBACN,qDAAC,wEAAW,IACR,WAAW,EAAE,WAAW,EACxB,QAAQ,EAAE,QAAQ;oBACb,QAAQ;oBACT,qDAAC,uDAAM,IAAC,OAAO,EAAC,QAAQ,EAAC,QAAQ,EAAE,CAAC,SAAS,EAAE,OAAO,EAAE,IAAI,CAAC,oBAAoB,6BAAiC,CAC5G,CACZ,CACJ,CAAC;IACnB,CAAC;IAED,6CAAe,GAAf;QACY,gCAAO,CAAgB;QAC/B,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAC1B,MAAM,CAAE,qDAAC,oDAAG;YACA,qDAAC,oDAAG,IAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;gBACnB,gEAAM;gBACN,qDAAC,2DAAS,OAAG,CACX,CACJ,CAAC;IACnB,CAAC;IAED,oCAAM,GAAN;QACY,yCAAQ,CAAuB;QACjC,mBAAqF,EAAnF,kBAAM,EAAE,sBAAQ,EAAE,oBAAO,EAAE,0CAAkB,EAAE,gDAAqB,CAAgB;QAE5F,MAAM,CAAE,qDAAC,oDAAG;YACA,qDAAC,oDAAG;gBACA,qDAAC,oDAAG,IAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;oBACnB,qDAAC,2EAAU;wBACP,qDAAC,2EAAU,CAAC,IAAI,IAAC,IAAI,EAAC,GAAG,cAEP;wBAClB,qDAAC,2EAAU,CAAC,IAAI,IAAC,MAAM;4BAClB,QAAQ;0CACK,CACT,CACX,CACJ;YACN,qDAAC,oDAAG;gBACA,qDAAC,oDAAG,IAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;oBACnB;wBAAI,+DAAM,SAAS,EAAC,iBAAiB,IAAE,QAAQ,CAAQ;;wBAAG,sFAA8B,CAAK;oBAC7F,gEAAM;oBACN,qDAAC,kEAAS,IACN,MAAM,EAAE,MAAM,EACd,OAAO,EAAE,OAAO,EAChB,kBAAkB,EAAE,kBAAkB,EACtC,qBAAqB,EAAE,qBAAqB,EAC5C,eAAe,EAAE,IAAI,CAAC,eAAe,EACrC,QAAQ,EAAE,QAAQ,GACpB;oBACD,IAAI,CAAC,UAAU,EAAE,CAChB,CACJ;YACL,IAAI,CAAC,eAAe,EAAE;YACtB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAClB,CAAC;IACnB,CAAC;IACL,0BAAC;AAAD,CAAC,CAvGiC,gDAAe,GAuGhD;AAED,IAAM,eAAe,GAAG,2EAAO,CAAC,eAAe,EAAE,kBAAkB,CAAC,CAAC,mBAAmB,CAAC,CAAC;AAC1F,IAAM,UAAU,GAAG,+EAAU,CAAC,eAAe,CAAC,CAAC;AAC/C,wDAAe,UAAU,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9LK;AACiB;AACC;AACJ;AACU;AACA;AACnB;AAYpC,IAAM,eAAe,GAAG,UAAC,KAAW;IAChC,MAAM,CAAC;QACH,KAAK,EAAE,yEAAM,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAgB;KACtD,CAAC;AACN,CAAC,CAAC;AAEF,IAAM,kBAAkB,GAAG,UAAC,QAAwB;IAChD,MAAM,CAAC;QACH,QAAQ,EAAE;YACN,QAAQ,CAAM,yFAAU,EAAE,CAAC,CAAC;QAChC,CAAC;KACJ,CAAC;AACN,CAAC,CAAC;AAEF;IAA6B,kCAAqD;IAAlF;;IA8BA,CAAC;IA7BG,0CAAiB,GAAjB;QACI,QAAQ,CAAC,KAAK,GAAG,SAAS,CAAC;IAC/B,CAAC;IAED,+BAAM,GAAN;QACY,4BAAK,CAAgB;QAC7B,MAAM,CAAE,qDAAC,oDAAG;YACA,qDAAC,oDAAG;gBACA,qDAAC,oDAAG,IAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;oBACnB,qDAAC,2EAAU;wBACP,qDAAC,2EAAU,CAAC,IAAI,IAAC,IAAI,EAAC,GAAG,cAEP;wBAClB,qDAAC,2EAAU,CAAC,IAAI,IAAC,MAAM,oBAEL,CACT,CACX,CACJ;YACN,qDAAC,oDAAG,IAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;gBACnB,qDAAC,2DAAU;;oBACG,8EAAsB,CACvB;gBACb,qDAAC,oDAAG;oBACA,qDAAC,iEAAQ,IAAC,KAAK,EAAE,KAAK,GAAI,CACxB,CACJ,CACJ,CAAC;IACnB,CAAC;IACL,qBAAC;AAAD,CAAC,CA9B4B,gDAAe,GA8B3C;AAED,IAAM,KAAK,GAAG,2EAAO,CAAC,eAAe,EAAE,kBAAkB,CAAC,CAAC,cAAc,CAAC,CAAC;AAC3E,wDAAe,KAAK,CAAC;;;;;;;;;;;;;;;;;;;;;;ACjEU;AACY;AAE3C;IAAmC,yBAA+B;IAAlE;;IAUA,CAAC;IATG,sBAAM,GAAN;QACI,MAAM,CAAE,qDAAC,oDAAG;YACA,qDAAC,oDAAG,IAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;gBACnB;;oBAAU,kFAA2B,CAAK;gBAC1C,gEAAM;gBACL,IAAI,CAAC,KAAK,CAAC,QAAQ,CAClB,CACJ,CAAC;IACnB,CAAC;IACL,YAAC;AAAD,CAAC,CAVkC,oDAAmB,GAUrD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACb8B;AACiB;AAC2B;AAE/B;AACK;AACS;AAEb;AAY7C,IAAM,eAAe,GAAG,UAAC,KAAW;IAChC,IAAM,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;IAClE,IAAM,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC;IAE5C,MAAM,CAAC;QACH,IAAI,EAAE,IAAI;QACV,QAAQ,EAAE,KAAK,CAAC,UAAU,CAAC,QAAQ;QACnC,KAAK,EAAE,KAAK,CAAC,UAAU,CAAC,SAAS;QACjC,OAAO,EAAE,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,GAAG,CAAC,CAAC;KACjD,CAAC;AACN,CAAC,CAAC;AAEF,IAAM,kBAAkB,GAAG,UAAC,QAAwB;IAChD,MAAM,CAAC;QACH,UAAU,EAAE,cAAM,eAAQ,CAAC,yFAAU,EAAE,CAAC,EAAtB,CAAsB;KAC3C,CAAC;AACN,CAAC,CAAC;AAEF;IAAoB,yBAAoD;IAAxE;;IAoDA,CAAC;IAnDG,yBAAS,GAAT;QACU,mBAA4C,EAA1C,sBAAQ,EAAE,0BAAU,EAAE,gBAAK,CAAgB;QAC3C,uBAAK,EAAE,uBAAO,CAAW;QACjC,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAE3B,MAAM,CAAE,qDAAC,gEAAK,IACF,KAAK,EAAE,KAAK,EACZ,OAAO,EAAE,OAAO,EAChB,UAAU,EAAE,UAAU,GAAI,CAAC;IAC3C,CAAC;IAED,sBAAM,GAAN;QACU,mBAA8B,EAA5B,cAAI,EAAE,oBAAO,CAAgB;QACrC,IAAM,WAAW,GAAG,OAAO,CAAC,IAAI,CAAC,gBAAgB,CAAC;QAClD,IAAM,WAAW,GAAG,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC;QAC1C,MAAM,CAAE,qDAAC,qDAAI,IAAC,KAAK,EAAE,IAAI;YACb,qDAAC,iEAAO,IAAC,IAAI,EAAE,OAAO,GAAI;YAC1B,qDAAC,uDAAM,IAAC,QAAQ;gBACZ,qDAAC,uDAAM,CAAC,MAAM;oBACV,qDAAC,uDAAM,CAAC,KAAK;wBACT,4DAAG,IAAI,EAAE,OAAO,CAAC,IAAI,CAAC,YAAY,EAAE,SAAS,EAAC,cAAc,uBAAqB,CACtE;oBACf,qDAAC,uDAAM,CAAC,MAAM,OAAG,CACL;gBAEhB,qDAAC,uDAAM,CAAC,QAAQ;oBACZ,qDAAC,oDAAG;wBACA,qDAAC,qEAAY,IAAC,EAAE,EAAC,GAAG,cAAuB;wBAC3C,qDAAC,gEAAO,IAAC,EAAE,EAAC,QAAQ,YAAgB;wBACpC,qDAAC,gEAAO,IAAC,EAAE,EAAC,QAAQ,cAAkB;wBACtC,qDAAC,gEAAO,IAAC,EAAE,EAAC,QAAQ,SAAa,CAC/B;oBAEN,qDAAC,uDAAM,CAAC,IAAI,IAAC,SAAS;;wBACZ,IAAI;4BACA;oBAEd,qDAAC,oDAAG,IAAC,SAAS;wBACV,qDAAC,4DAAW,IAAC,QAAQ,EAAE,CAAC,EAAE,KAAK,EAAC,OAAO,EAAC,EAAE,EAAC,cAAc;4BACrD,qDAAC,yDAAQ,IAAC,IAAI,EAAE,WAAW,EAAE,QAAQ,EAAE,GAAG,+BAAsC;4BAChF,qDAAC,yDAAQ,IAAC,IAAI,EAAE,WAAW,EAAE,QAAQ,EAAE,GAAG,sBAA8B,CAC9D,CACZ,CAEQ,CAEb;YACJ,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,KAAK,CAAC,QAAQ,CACrB,CAAC;IACpB,CAAC;IACL,YAAC;AAAD,CAAC,CApDmB,gDAAe,GAoDlC;AAED,IAAM,IAAI,GAAG,2EAAO,CAAC,eAAe,EAAE,kBAAkB,CAAC,CAAC,KAAK,CAAC,CAAC;AACjE,wDAAe,IAAI,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7Fe;AACmB;AACK;AAEK;AACmB;AAC+B;AAC5B;AAC/C;AACwB;AAExD,IAAM,IAAI,GAAG;IAChB,kFAAc,EAAE,CAAC;IACjB,4EAAQ,EAAE,CAAC;IACX,6DAAK,CAAC,QAAQ,CAAC,+FAAgB,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC,CAAC;IAC1D,6DAAK,CAAC,QAAQ,CAAC,yFAAU,EAAE,CAAC,CAAC;IAC7B,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACxB,CAAC,CAAC;AAEK,IAAM,aAAa,GAAG;IACzB,IAAM,SAAS,GAAG,UAAC,IAAY,EAAE,IAAY,IAAW,oEAAK,CAAC,QAAQ,CAAC,iGAAe,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,EAA3C,CAA2C,CAAC;IAC9F,8FAA8C,EAA5C,cAAI,EAAE,cAAI,CAAmC;IACrD,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;AAC1B,CAAC,CAAC;AAEK,IAAM,UAAU,GAAG,UAAC,CAAc;IAC/B,sGAAsD,EAApD,cAAI,EAAE,cAAI,CAA2C;IAC7D,6DAAK,CAAC,QAAQ,CAAM,2FAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;AAClD,CAAC,CAAC;AAEK,IAAM,eAAe,GAAG,UAAC,SAAsB;IAC1C,4BAAE,CAAsB;IAChC,6DAAK,CAAC,QAAQ,CAAM,wFAAS,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AAC/C,CAAC,CAAC;AA2BK,IAAM,WAAW,GAAG,UAAC,SAAiC;IACzD,IAAM,OAAO,GAAG,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IAC5C,6DAAK,CAAC,QAAQ,CAAC,8FAAc,CAAC,OAAO,CAAC,CAAC,CAAC;AAC5C,CAAC,CAAC;AAEK,IAAM,WAAW,GAAG,UAAC,SAAuC;IAC/D,IAAM,QAAQ,GAAG,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC;IAC3C,6DAAK,CAAC,QAAQ,CAAC,6FAAa,CAAC,QAAQ,CAAC,CAAC,CAAC;IACxC,6DAAK,CAAC,QAAQ,CAAC,+FAAe,CAAC,QAAQ,CAAC,CAAC,CAAC;IAG1C,6DAAK,CAAC,QAAQ,CAAC,iGAAe,CAAC,SAAS,CAAC,CAAC,CAAC;IAC3C,6DAAK,CAAC,QAAQ,CAAC,iGAAe,CAAC,SAAS,CAAC,CAAC,CAAC;AAC/C,CAAC,CAAC;AAEK,IAAM,YAAY,GAAG,UAAC,SAAqD;IACtE,4BAAE,CAAsB;IAChC,IAAM,IAAI,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC7C,8FAA8C,EAA5C,cAAI,EAAE,cAAI,CAAmC;IAErD,IAAM,GAAG,GAAG,wGAAuB,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;IAC5D,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;QACR,6DAAK,CAAC,QAAQ,CAAC,+FAAa,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;IACnD,CAAC;IACD,IAAI,CAAC,CAAC;QACF,IAAM,SAAS,GAAG,IAAI,GAAG,CAAC,CAAC;QAC3B,IAAM,SAAS,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;QACrC,6DAAK,CAAC,QAAQ,CAAC,+FAAa,CAAC,GAAG,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC;IACxD,CAAC;AACL,CAAC,CAAC;AAEK,IAAM,YAAY,GAAG,UAAC,SAAwC;IACjE,IAAM,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;IAC/C,6DAAK,CAAC,QAAQ,CAAC,4GAA0B,CAAC,EAAE,CAAC,CAAC,CAAC;AACnD,CAAC,CAAC;AAEK,IAAM,iBAAiB,GAAG,UAAC,SAAiC;IACvD,4BAAE,CAAsB;IAC1B,8FAA8C,EAA5C,cAAI,EAAE,cAAI,CAAmC;IAErD,IAAM,GAAG,GAAG,wGAAuB,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;IAC5D,6DAAK,CAAC,QAAQ,CAAC,+FAAa,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;AACnD,CAAC,CAAC;;;;;;;;;;;;;;;;;ACrG4D;AACpB;AAInC,IAAM,YAAY,GAAG;IACxB,MAAM,CAAC;QACH,IAAI,EAAE,EAAe;KACxB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,UAAU,GAAG;IACtB,MAAM,CAAC;QACH,IAAI,EAAE,EAAa;KACtB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,cAAc,GAAG,UAAC,SAAiB;IAC5C,MAAM,CAAC;QACH,IAAI,EAAE,EAAmB;QACzB,OAAO,EAAE,SAAS;KACrB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,eAAe,GAAG,UAAC,UAAkB;IAC9C,MAAM,CAAC;QACH,IAAI,EAAE,EAAoB;QAC1B,OAAO,EAAE,UAAU;KACtB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,cAAc,GAAG,UAAC,GAAW;IACtC,MAAM,CAAC,UAAC,QAAQ;QACZ,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC;QACzB,IAAM,OAAO,GAAG,gGAAe,CAA8C,QAAQ,CAAC,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,EAAE,EAAR,CAAQ,CAAC,CAAC;QACtG,MAAM,CAAC,8CAAK,CAAC,GAAG,EAAE,iEAAO,CAAC;aACrB,IAAI,CAAC,OAAO,CAAC;aACb,IAAI,CAAC,cAAI;YACN,IAAM,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC;YACnC,IAAM,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC;YAErC,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC;YACpC,QAAQ,CAAC,eAAe,CAAC,UAAU,CAAC,CAAC,CAAC;QAC1C,CAAC,CAAC,CAAC;IACX,CAAC,CAAC;AACN,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;AC9C6B;AACqB;AAGpD;IAAoC,kCAAgD;IAApF;;IAiBA,CAAC;IAhBG,+BAAM,GAAN;QACU,mBAAmC,EAAjC,oBAAO,EAAE,wBAAS,CAAgB;QAC1C,IAAM,UAAU,GAAG,OAAO,CAAC,GAAG,CAAC,eAAK,IAAI,gBAAS,CAAC,KAAK,CAAC,EAAhB,CAAgB,CAAC,CAAC;QAE1D,MAAM,CAAE,qDAAC,sDAAK;YACF,qDAAC,sDAAK,CAAC,IAAI,IAAC,SAAS,EAAC,sBAAsB,GAAG;YAC/C,qDAAC,sDAAK,CAAC,IAAI;gBACP,4DAAG,SAAS,EAAC,4BAA4B;oBACrC;wBACI,qDAAC,0DAAS,IAAC,KAAK,EAAC,aAAa,GAAG;6CAC9B,CACP;gBACH,UAAU,CACF,CACT,CAAC;IACrB,CAAC;IACL,qBAAC;AAAD,CAAC,CAjBmC,gDAAe,GAiBlD;;;;;;;;;;;;;;;;;;;;;;;;ACrB8B;AAEuB;AAEtD;IAAiC,+BAA6C;IAC1E,qBAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SAGf;QADG,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IACnD,CAAC;IAED,iCAAW,GAAX,UAAY,CAAuB;QAC/B,CAAC,CAAC,cAAc,EAAE,CAAC;QAEX,sCAAU,CAAgB;QAClC,IAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAoB,CAAC;QAC9C,IAAM,IAAI,GAAG,MAAM,CAAC,OAAO,EAAE,CAAC;QAC9B,UAAU,CAAC,IAAI,CAAC,CAAC;QAGjB,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IACvB,CAAC;IAED,4BAAM,GAAN;QACI,MAAM,CAAE,+DAAM,QAAQ,EAAE,IAAI,CAAC,WAAW;YAC5B,gEAAO,OAAO,EAAC,QAAQ,gBAAkB;YACzC,qDAAC,0EAAU,IACP,WAAW,EAAC,aAAa,EACzB,QAAQ,EAAC,EAAE,EACX,GAAG,EAAC,QAAQ,GACd;YACF,iEAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,iBAAiB,WAAc,CAC5D,CAAC;IACpB,CAAC;IACL,kBAAC;AAAD,CAAC,CA9BgC,gDAAe,GA8B/C;;;;;;;;;;;;;;;;;;;;;;;;AClC8B;AACmB;AAGlD;IAA2B,yBAA6B;IAAxD;;IAYA,CAAC;IAXG,sBAAM,GAAN;QACU,mBAA2C,EAAzC,0BAAU,EAAE,gBAAK,EAAE,oBAAO,CAAgB;QAClD,MAAM,CAAE,qDAAC,oDAAG;YACA,qDAAC,oDAAG,IAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC;gBACnB,qDAAC,sDAAK,IAAC,OAAO,EAAC,QAAQ,EAAC,SAAS,EAAE,UAAU;oBACzC,qEAAS,KAAK,CAAU;oBACxB,gEAAI,OAAO,CAAK,CACZ,CACN,CACJ,CAAC;IACnB,CAAC;IACL,YAAC;AAAD,CAAC,CAZ0B,gDAAe,GAYzC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChB8B;AACiB;AACS;AACD;AACH;AACoB;AACnB;AACI;AAwB1D,IAAM,eAAe,GAAG,UAAC,KAAW;IAChC,MAAM,CAAC;QACH,KAAK,EAAE,KAAK,CAAC,YAAY,CAAC,KAAK;QAC/B,OAAO,EAAE,UAAC,EAAE,IAAK,YAAK,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,EAAzB,CAAyB;QAC1C,IAAI,EAAE,KAAK,CAAC,YAAY,CAAC,IAAI;QAC7B,IAAI,EAAE,KAAK,CAAC,YAAY,CAAC,IAAI;QAC7B,UAAU,EAAE,KAAK,CAAC,YAAY,CAAC,UAAU;QACzC,IAAI,EAAE,KAAK,CAAC,YAAY,CAAC,IAAI;KAChC,CAAC;AACN,CAAC,CAAC;AAEF,IAAM,kBAAkB,GAAG,UAAC,QAAwB;IAChD,MAAM,CAAC;QACH,SAAS,EAAE,UAAC,IAAI,EAAE,IAAI,IAAK,eAAQ,CAAM,iGAAe,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,EAA1C,CAA0C;KACxE,CAAC;AACN,CAAC,CAAC;AAEF;IAAgC,qCAAwF;IACpH,2BAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SAaf;QAZG,KAAI,CAAC,KAAK,GAAG;YACT,KAAK,EAAE,KAAK;YACZ,WAAW,EAAE,IAAI;YACjB,MAAM,EAAE,IAAI;YACZ,EAAE,EAAE,IAAI;SACX,CAAC;QAEF,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC7C,KAAI,CAAC,WAAW,GAAG,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC/C,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC7C,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;QAC3C,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IACjD,CAAC;IAED,sCAAU,GAAV,UAAW,EAAU;QACX,mBAAsC,EAApC,wBAAS,EAAE,cAAI,EAAE,cAAI,CAAgB;QAC7C,EAAE,CAAC,CAAC,IAAI,KAAK,EAAE,CAAC;YAAC,MAAM,CAAC;QAExB,IAAM,SAAS,GAAG,EAAE,GAAG,CAAC,CAAC;QACzB,IAAM,SAAS,GAAG,CAAC,SAAS,GAAG,IAAI,CAAC,CAAC;QACrC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IAC/B,CAAC;IAED,uCAAW,GAAX,UAAY,IAAmB;QACnB,gCAAO,CAAgB;QAC/B,IAAM,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QACtC,IAAI,CAAC,QAAQ,CAAC;YACV,KAAK,EAAE,IAAI;YACX,WAAW,EAAE,IAAI,CAAC,IAA8B;YAChD,MAAM,EAAE,MAAM;YACd,EAAE,EAAE,IAAI,CAAC,EAAE;SACd,CAAC,CAAC;IACP,CAAC;IAED,sCAAU,GAAV,UAAW,GAAW;QACV,iCAAI,CAAuB;QACnC,IAAI,CAAC,GAAG,CAAC,CAAC;IACd,CAAC;IAED,sCAAU,GAAV;QACI,IAAI,CAAC,QAAQ,CAAC;YACV,KAAK,EAAE,KAAK;YACZ,WAAW,EAAE,IAAI;YACjB,MAAM,EAAE,IAAI;YACZ,EAAE,EAAE,IAAI;SACX,CAAC,CAAC;IACP,CAAC;IAED,qCAAS,GAAT;QAAA,iBAkCC;QAjCG,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAC5C,+BAA4C,EAA1C,cAAI,EAAE,gBAAK,EAAE,UAAE,CAA4B;QACnD,IAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;QACjC,IAAM,IAAI,GAAM,MAAM,CAAC,SAAS,SAAI,MAAM,CAAC,QAAU,CAAC;QACtD,IAAM,IAAI,GAAG,gBAAc,EAAE,cAAW,CAAC;QAEzC,MAAM,CAAE,qDAAC,sDAAK,IAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,MAAM,EAAE,IAAI,CAAC,UAAU,EAAE,MAAM,EAAC,OAAO;YAClE,qDAAC,sDAAK,CAAC,MAAM,IAAC,WAAW;gBACrB,qDAAC,sDAAK,CAAC,KAAK;oBACR,qDAAC,+DAAW,IACR,EAAE,EAAE,EAAE,EACN,QAAQ,EAAE,CAAC,EACX,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,EACxB,KAAK,EAAE,KAAK,EACZ,IAAI,EAAE,IAAI,GACZ,CACQ,CACH;YAEf,qDAAC,sDAAK,CAAC,IAAI;gBACP,qDAAC,6DAAS,IAAC,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,QAAQ,EAAE,CAAC,GAC9B,CACH;YAEb,qDAAC,sDAAK,CAAC,MAAM;gBACT,qDAAC,8DAAa,IAAC,KAAK,EAAE,EAAC,KAAK,EAAE,OAAO,EAAC;oBAClC,qDAAC,uDAAM,IAAC,OAAO,EAAC,SAAS,EAAC,OAAO,EAAE,cAAM,YAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAArB,CAAqB,6BAErD;oBACT,qDAAC,uDAAM,IAAC,OAAO,EAAE,IAAI,CAAC,UAAU,UAAc,CAClC,CACL,CACX,CAAC;IACrB,CAAC;IAED,kCAAM,GAAN;QACU,mBAAiD,EAA/C,gBAAK,EAAE,oBAAO,EAAE,0BAAU,EAAE,cAAI,CAAgB;QAExD,MAAM,CAAE,qDAAC,oDAAG;YACA,qDAAC,oDAAG;gBACA,yFAA+B;gBAC/B,gEAAM;gBACN,qDAAC,4EAAY,IACT,KAAK,EAAE,KAAK,EACZ,OAAO,EAAE,OAAO,EAChB,OAAO,EAAE,IAAI,CAAC,WAAW,GAC3B;gBACF,qDAAC,0EAAU,IACP,UAAU,EAAE,UAAU,EACtB,IAAI,EAAE,IAAI,EACV,UAAU,EAAE,IAAI,CAAC,UAAU,GAC7B;gBACD,IAAI,CAAC,SAAS,EAAE,CACf,CACJ,CAAC;IACnB,CAAC;IACL,wBAAC;AAAD,CAAC,CA5G+B,gDAAe,GA4G9C;AAED,IAAM,QAAQ,GAAG,+EAAU,CAAC,2EAAO,CAAC,eAAe,EAAE,kBAAkB,CAAC,CAAC,iBAAiB,CAAC,CAAC,CAAC;AAC7F,wDAAe,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;AC/JO;AACgD;AAC9B;AACb;AAQpC;IAAgC,8BAAoC;IAApE;;IAuEA,CAAC;IAtEG,6BAAQ,GAAR,UAAS,IAAU;QACf,IAAM,YAAY,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QACpD,MAAM,CAAC,KAAG,YAAc,CAAC;IAC7B,CAAC;IAED,iCAAY,GAAZ,UAAa,UAAgB;QACzB,EAAE,CAAC,CAAC,CAAC,UAAU,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAC7B,IAAM,YAAY,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;QAC/D,MAAM,CAAC,KAAG,YAAc,CAAC;IAC7B,CAAC;IAED,gCAAW,GAAX;QACI,MAAM,CAAE,qDAAC,wDAAO,IAAC,EAAE,EAAC,SAAS,aAAiB,CAAC;IACnD,CAAC;IAED,+BAAU,GAAV,UAAW,IAAa;QACpB,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QACvB,MAAM,CAAE,4DAAG,SAAS,EAAC,QAAQ;YACjB,qDAAC,+DAAc,IAAC,SAAS,EAAC,KAAK,EAAC,OAAO,EAAE,IAAI,CAAC,WAAW,EAAE;gBACvD,qDAAC,0DAAS,IAAC,KAAK,EAAC,SAAS,GAAG,CAChB,CACjB,CAAC;IACjB,CAAC;IAED,qCAAgB,GAAhB,UAAiB,KAAsB;QACnC,IAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QAC/C,IAAM,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QACtD,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;YAAC,MAAM,CAAC,mEAAO,OAAO,CAAQ,CAAC;QAE5C,MAAM,CAAE;YACK,OAAO;YAAC,gEAAM;;YACb,OAAO;gBACN,CAAC;IACpB,CAAC;IAED,kCAAa,GAAb;QACY,4BAAK,CAAgB;QAC7B,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC;YAAC,MAAM,CAAC,mBAAmB,CAAC;QAErD,EAAE,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,OAAO,CAAC;YAAC,MAAM,CAAC,mBAAmB,CAAC;QAC5D,IAAM,IAAI,GAAG,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC;QACtC,MAAM,CAAC,yFAAQ,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;IAC7B,CAAC;IAED,2BAAM,GAAN;QACU,mBAAiC,EAA/B,gBAAK,EAAE,wBAAS,CAAgB;QACxC,IAAM,IAAI,GAAG,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QACvC,IAAM,aAAa,GAAI,IAAI,CAAC,aAAa,EAAE,CAAC;QAC5C,IAAM,GAAG,GAAG,KAAK,CAAC,MAAM,GAAG,sBAAsB,GAAG,QAAQ,CAAC;QAC7D,IAAM,IAAI,GAAG,iBAAe,KAAK,CAAC,EAAE,cAAW,CAAC;QAEhD,MAAM,CAAE,qDAAC,kDAAI,IAAC,EAAE,EAAE,IAAI;YACV,qDAAC,oDAAG,IAAC,SAAS,EAAE,GAAG;gBACf,qDAAC,oDAAG,IAAC,EAAE,EAAE,CAAC,EAAE,SAAS,EAAC,aAAa,IAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,MAAM,CAAC,CAAO;gBACzE,qDAAC,oDAAG,IAAC,EAAE,EAAE,CAAC;oBACN;wBAAI,+DAAM,SAAS,EAAC,iBAAiB,IAAE,KAAK,CAAC,KAAK,CAAQ,CAAK;oBAC/D;;wBAAY,IAAI,CAAS,CACvB;gBACN,qDAAC,oDAAG,IAAC,EAAE,EAAE,CAAC,EAAE,SAAS,EAAC,WAAW;oBAC7B,gEAAI,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAK,CACnC;gBACN,qDAAC,oDAAG,IAAC,EAAE,EAAE,CAAC,EAAE,SAAS,EAAC,aAAa;oBAC/B,gEAAI,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAK,CAC5B;gBACN,qDAAC,oDAAG,IAAC,EAAE,EAAE,CAAC,EAAE,SAAS,EAAC,aAAa;oBAC/B,gEAAI,aAAa,CAAK,CACpB,CACJ,CACH,CAAC;IACpB,CAAC;IACL,iBAAC;AAAD,CAAC,CAvE+B,gDAAe,GAuE9C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClF8B;AACK;AACyB;AAG7D;IAA2B,yBAAuC;IAC9D,eAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SAEf;QADG,KAAI,CAAC,eAAe,GAAG,KAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IAC3D,CAAC;IAED,+BAAe,GAAf,UAAgB,CAAwB;QAC5B,4BAAK,CAAgB;QAC7B,IAAM,GAAG,GAAG,CAAC,CAAC,aAAa,CAAC,OAAO,CAAC;QACpC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACE,sDAAkB,CAAgB;YAC1C,kBAAkB,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACtC,CAAC;QACD,IAAI,CAAC,CAAC;YACM,4DAAqB,CAAgB;YAC7C,qBAAqB,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QACzC,CAAC;IACL,CAAC;IAED,2BAAW,GAAX,UAAY,KAAa;QACrB,IAAM,KAAK,GAAG,KAAK,KAAK,CAAC,GAAG,qBAAqB,GAAG,uBAAuB,CAAC;QAC5E,IAAM,KAAK,GAAG;YACV,SAAS,EAAE,KAAK;SACnB,CAAC;QAEF,MAAM,CAAE,yEAAU,KAAK;YACX,+DAAM,SAAS,EAAC,6BAA6B,iBAAa,MAAM,GAAQ;;YAAE,KAAK,CAC7E,CAAC;IACnB,CAAC;IAED,4BAAY,GAAZ;QACU,mBAAgD,EAA9C,oBAAO,EAAE,oCAAe,EAAE,gBAAK,CAAgB;QACvD,IAAM,OAAO,GAAG,eAAe,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QAC/C,MAAM,CAAC,CAAC,OAAO;YACX,qDAAC,oDAAG,IAAC,EAAE,EAAE,CAAC,EAAE,SAAS,EAAC,uBAAuB;gBACzC;;oBACS,gEAAO,IAAI,EAAC,UAAU,EAAC,OAAO,EAAE,IAAI,CAAC,eAAe,EAAE,OAAO,EAAE,OAAO,GAAI,CAC3E,CACN;cACJ,IAAI,CAAC,CAAC;IAChB,CAAC;IAEL,sBAAM,GAAN;QACU,mBAAgC,EAA9B,gBAAK,EAAE,sBAAQ,CAAgB;QACvC,IAAM,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC;QACjC,IAAM,GAAG,GAAG,MAAI,QAAQ,uBAAkB,KAAK,CAAC,OAAO,cAAW,CAAC;QACnE,MAAM,CAAE;YACI,qDAAC,kDAAI,IAAC,EAAE,EAAE,GAAG;gBACT,qDAAC,sDAAO,IAAC,GAAG,EAAE,KAAK,CAAC,UAAU,EAAE,SAAS,SAAG,CACzC;YACP,qDAAC,oDAAG;gBACA,qDAAC,kDAAI,IAAC,EAAE,EAAE,GAAG,IACR,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CACrB;gBACN,IAAI,CAAC,YAAY,EAAE,CAClB,CACJ,CAAC;IACf,CAAC;IACL,YAAC;AAAD,CAAC,CA1D0B,gDAAe,GA0DzC;;;;;;;;;;;;;;;;;;;;;;;;AC/D8B;AACC;AACW;AAI3C,IAAM,cAAc,GAAG,CAAC,CAAC;AAEzB;IAAuC,6BAA2C;IAAlF;;IAyDA,CAAC;IAxDG,gCAAY,GAAZ,UAAa,MAAoB;QAC7B,IAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAC7B,IAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,cAAc,CAAC,CAAC;QAEjD,IAAI,MAAM,GAAwB,EAAE,CAAC;QACrC,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC;YAC7B,KAAK,GAAG,CAAC,GAAG,cAAc,CAAC;YAC3B,IAAM,GAAG,GAAG,KAAK,GAAG,cAAc,CAAC;YACnC,IAAM,IAAI,GAAG,GAAG,GAAG,MAAM,CAAC;YAC1B,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACP,IAAM,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;gBAChC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACrB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAM,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;gBACrC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACrB,CAAC;QACL,CAAC;QAED,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;IAED,8BAAU,GAAV,UAAW,MAAoB;QAC3B,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAC/B,mBAA8F,EAA5F,0CAAkB,EAAE,gDAAqB,EAAE,oBAAO,EAAE,oCAAe,EAAE,sBAAQ,CAAgB;QACrG,IAAM,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;QACzC,IAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,UAAC,GAAG,EAAE,CAAC;YAC3B,IAAM,IAAI,GAAG,GAAG,CAAC,GAAG,CAAC,UAAC,GAAG;gBACrB,MAAM,CAAE,qDAAC,oDAAG,IAAC,EAAE,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,OAAO;oBACxB,qDAAC,qDAAK,IACF,KAAK,EAAE,GAAG,EACV,OAAO,EAAE,OAAO,EAChB,kBAAkB,EAAE,kBAAkB,EACtC,qBAAqB,EAAE,qBAAqB,EAC5C,eAAe,EAAE,eAAe,EAChC,QAAQ,EAAE,QAAQ,GACpB,CACA,CAAC;YACnB,CAAC,CAAC,CAAC;YAEH,IAAM,KAAK,GAAG,OAAO,GAAG,CAAC,CAAC;YAC1B,MAAM,CAAE,qDAAC,oDAAG,IAAC,GAAG,EAAE,KAAK,IACV,IAAI,CACH,CAAC;QACnB,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IAGD,0BAAM,GAAN;QACY,8BAAM,CAAgB;QAC9B,MAAM,CAAE,qDAAC,oDAAG,QACC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CACtB,CAAC;IACnB,CAAC;IACL,gBAAC;AAAD,CAAC,CAzDsC,gDAAe,GAyDrD;;;;;;;;;;;;;;;;;;;;;;;ACjE8B;AAM/B;IAA6B,2BAAmC;IAC5D,iBAAY,KAAmB;eAC3B,kBAAM,KAAK,CAAC;IAChB,CAAC;IAED,wBAAM,GAAN;QACY,0BAAI,CAAgB;QAE5B,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAEvB,MAAM,CAAE,8DAAK,SAAS,EAAC,KAAK;YAChB,8DAAK,SAAS,EAAC,QAAQ;gBACnB,8DAAK,SAAS,EAAC,wBAAwB;oBACnC,+DAAM,SAAS,EAAC,sBAAsB,GAC/B,CACL,CACJ,CACJ,CAAC;IACnB,CAAC;IACL,cAAC;AAAD,CAAC,CAnB4B,gDAAe,GAmB3C;;;;;;;;;;;;;;;;;;;;;;;ACzB8B;AAY/B;IAAiC,+BAAuC;IACpE,qBAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SAGf;QADG,KAAI,CAAC,OAAO,GAAG,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IAC3C,CAAC;IAED,6BAAO,GAAP,UAAQ,CAAwB;QAC5B,CAAC,CAAC,cAAc,EAAE,CAAC;QAEb,mBAA0C,EAAxC,wBAAS,EAAE,gBAAK,EAAE,oBAAO,CAAgB;QACjD,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;IAC9B,CAAC;IAED,4BAAM,GAAN;QACU,mBAA8B,EAA5B,gBAAK,EAAE,kBAAM,CAAgB;QACrC,IAAM,GAAG,GAAG,MAAM,GAAG,gDAAgD,GAAG,wBAAwB,CAAC;QACjG,MAAM,CAAE,+DAAM,SAAS,EAAE,GAAG,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,IACtC,KAAK,CACH,CAAC;IACpB,CAAC;IACL,kBAAC;AAAD,CAAC,CArBgC,gDAAe,GAqB/C;;;;;;;;;;;;;;;;;;;;;;;;ACjC8B;AACa;AAa5C;IAAkC,gCAAqD;IACnF,sBAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SAGf;QADG,KAAI,CAAC,aAAa,GAAG,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IACvD,CAAC;IAED,oCAAa,GAAb,UAAc,KAAY;QACd,kDAAgB,CAAgB;QACxC,IAAM,MAAM,GAAG,KAAK,KAAK,gBAAgB,CAAC;QAC1C,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;IAED,qCAAc,GAAd,UAAe,KAAY;QACf,oDAAiB,CAAgB;QACzC,IAAM,MAAM,GAAG,iBAAiB,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QACjD,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC;IAED,6BAAM,GAAN;QACY,0CAAY,CAAgB;QACpC,MAAM,CAAE,8DAAK,SAAS,EAAC,qBAAqB;YAChC,qDAAC,iEAAW,IACR,GAAG,EAAC,IAAI,EACR,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EACxC,KAAK,EAAC,cAAc,EACpB,OAAO,EAAE,YAAY,EACrB,KAAK,EAAC,YAAY,EAClB,SAAS,EAAE,CAAgB,GAC7B;YACF,qDAAC,iEAAW,IACR,GAAG,EAAC,IAAI,EACR,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,EACxC,KAAK,EAAC,cAAc,EACpB,OAAO,EAAE,YAAY,EACrB,KAAK,EAAC,YAAY,EAClB,SAAS,EAAE,CAAgB,GAC7B;YACF,qDAAC,iEAAW,IACR,GAAG,EAAC,IAAI,EACR,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,EAC1C,KAAK,EAAC,cAAc,EACpB,OAAO,EAAE,YAAY,EACrB,KAAK,EAAC,cAAc,EACpB,SAAS,EAAE,CAAgB,GAC7B;YACF,qDAAC,iEAAW,IACR,GAAG,EAAC,QAAQ,EACZ,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,EACtC,KAAK,EAAC,QAAQ,EACd,OAAO,EAAE,YAAY,EACrB,KAAK,EAAC,UAAU,EAChB,SAAS,EAAE,CAAgB,GAC7B;YACF,qDAAC,iEAAW,IACR,GAAG,EAAC,IAAI,EACR,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,EAC/C,KAAK,EAAC,OAAO,EACb,OAAO,EAAE,YAAY,EACrB,KAAK,EAAC,mBAAmB,EACzB,SAAS,EAAE,CAAgB,GAC7B;YACF,qDAAC,iEAAW,IACR,GAAG,EAAC,IAAI,EACR,MAAM,EAAE,IAAI,CAAC,aAAa,CAAC,qBAAqB,CAAC,EACjD,KAAK,EAAC,SAAS,EACf,OAAO,EAAE,YAAY,EACrB,KAAK,EAAC,qBAAqB,EAC3B,SAAS,EAAE,CAAgB,GAC7B;YACF,gEAAM;YACN,qDAAC,iEAAW,IACR,GAAG,EAAC,MAAM,EACV,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,EACnC,KAAK,EAAC,KAAK,EACX,OAAO,EAAE,YAAY,EACrB,KAAK,EAAC,MAAM,EACZ,SAAS,EAAE,CAAiB,GAC9B;YACF,qDAAC,iEAAW,IACR,GAAG,EAAC,QAAQ,EACZ,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EACrC,KAAK,EAAC,QAAQ,EACd,OAAO,EAAE,YAAY,EACrB,KAAK,EAAC,QAAQ,EACd,SAAS,EAAE,CAAiB,GAC9B;YACF,qDAAC,iEAAW,IACR,GAAG,EAAC,MAAM,EACV,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,EACnC,KAAK,EAAC,QAAQ,EACd,OAAO,EAAE,YAAY,EACrB,KAAK,EAAC,MAAM,EACZ,SAAS,EAAE,CAAiB,GAC9B,CACA,CAAC;IACnB,CAAC;IACL,mBAAC;AAAD,CAAC,CAjGiC,gDAAe,GAiGhD;;;;;;;;;;;;;;;;;;;;;;;;;AC/G8B;AACK;AACc;AAOlD;IAA0B,wBAAsC;IAAhE;;IAcA,CAAC;IAbG,qBAAM,GAAN;QACU,mBAAqD,EAAnD,sBAAQ,EAAE,wBAAS,EAAE,sBAAQ,EAAE,gBAAK,CAAgB;QAC5D,IAAM,SAAS,GAAG,SAAS,GAAG,KAAK,CAAC;QACpC,IAAM,OAAO,GAAG,GAAG,GAAG,QAAQ,GAAG,UAAU,CAAC;QAE5C,MAAM,CAAE,qDAAC,oDAAG,IAAC,EAAE,EAAE,CAAC;YACN,qDAAC,sDAAK,IAAC,MAAM,EAAK,SAAS,SAAI,QAAU;gBACrC,qDAAC,QAAQ,IAAC,KAAK,EAAC,YAAY,IAAE,QAAQ,CAAY;gBAClD,qDAAC,QAAQ,IAAC,KAAK,EAAC,OAAO;oBAAC,4DAAG,IAAI,EAAE,SAAS,IAAG,KAAK,CAAK,CAAW;gBAClE,qDAAC,QAAQ,IAAC,KAAK,EAAC,UAAU;oBAAC,qDAAC,kDAAI,IAAC,EAAE,EAAE,OAAO,eAAiB,CAAW,CACpE,CACN,CAAC;IACnB,CAAC;IACL,WAAC;AAAD,CAAC,CAdyB,gDAAe,GAcxC;;AAED;IAA0B,+BAA2B;IAArD;;IAMA,CAAC;IALG,4BAAM,GAAN;QACI,MAAM,CAAE,qDAAC,oDAAG,IAAC,EAAE,EAAE,CAAC;YACN,qEAAS,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAU,CACpC,CAAC;IACnB,CAAC;IACL,kBAAC;AAAD,CAAC,CANyB,gDAAe,GAMxC;AAED;IAAuB,4BAA2B;IAAlD;;IAMA,CAAC;IALG,yBAAM,GAAN;QACI,MAAM,CAAE,qDAAC,oDAAG,IAAC,EAAE,EAAE,CAAC,IACL,IAAI,CAAC,KAAK,CAAC,QAAQ,CAClB,CAAC;IACnB,CAAC;IACL,eAAC;AAAD,CAAC,CANsB,gDAAe,GAMrC;AAED;IAAuB,4BAAgC;IAAvD;;IAQA,CAAC;IAPG,yBAAM,GAAN;QACY,4BAAK,CAAgB;QAC7B,MAAM,CAAE,qDAAC,oDAAG;YACA,qDAAC,WAAW,QAAE,KAAK,CAAe;YAClC,qDAAC,QAAQ,QAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAY,CACxC,CAAC;IACnB,CAAC;IACL,eAAC;AAAD,CAAC,CARsB,gDAAe,GAQrC;;;;;;;;;;;;;;;;;;;;;;;;ACjD8B;AACD;AACQ;AAGtC;IAA8B,4BAA0C;IAAxE;;IAuBA,CAAC;IAtBG,4BAAS,GAAT;QACY,4BAAK,CAAgB;QAC7B,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,UAAC,IAAI;YAClB,IAAM,MAAM,GAAG,YAAU,IAAI,CAAC,EAAI,CAAC;YACnC,MAAM,CAAE,qDAAC,mDAAI,IACC,QAAQ,EAAE,IAAI,CAAC,QAAQ,EACvB,MAAM,EAAE,IAAI,CAAC,EAAE,EACf,SAAS,EAAE,IAAI,CAAC,SAAS,EACzB,QAAQ,EAAE,IAAI,CAAC,QAAQ,EACvB,KAAK,EAAE,IAAI,CAAC,KAAK,EACjB,UAAU,EAAE,IAAI,CAAC,YAAY,EAC7B,KAAK,EAAE,IAAI,CAAC,IAAI,EAChB,GAAG,EAAE,MAAM,GACb,CAAC;QACjB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,yBAAM,GAAN;QACI,MAAM,CAAE,qDAAC,oDAAG,QACC,IAAI,CAAC,SAAS,EAAE,CACf,CAAC;IACnB,CAAC;IACL,eAAC;AAAD,CAAC,CAvB6B,gDAAe,GAuB5C;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5B8B;AACqB;AACQ;AACD;AACC;AAc5D;IAAuC,qCAAgC;IACnE,2BAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SAEf;QADG,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IAC/C,CAAC;IAED,oCAAQ,GAAR;QACY,8BAAM,CAAgB;QAC9B,MAAM,CAAC,MAAM,CAAC,SAAS,GAAG,GAAG,GAAG,MAAM,CAAC,QAAQ,CAAC;IACpD,CAAC;IAED,gCAAI,GAAJ;QACY,sBAAE,CAAgB;QAC1B,MAAM,CAAC,SAAS,GAAG,yFAAQ,CAAC,EAAE,CAAC,CAAC;IACpC,CAAC;IAED,mCAAO,GAAP;QACY,0BAAI,CAAgB;QAC5B,MAAM,CAAC,yFAAQ,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;IAC7B,CAAC;IAED,mCAAO,GAAP;QACY,0CAAY,CAAgB;QACpC,MAAM,CAAC,qDAAC,wDAAO,IAAC,EAAE,EAAC,cAAc;;YAAyC,YAAY,CAAW,CAAC;IACtG,CAAC;IAED,qCAAS,GAAT,UAAU,KAA0C;QAChD,KAAK,CAAC,cAAc,EAAE,CAAC;QAEjB,mBAA+B,EAA7B,oBAAO,EAAE,gBAAK,CAAgB;QACtC,OAAO,CAAC,KAAK,CAAC,CAAC;IACnB,CAAC;IAED,kCAAM,GAAN;QACY,4BAAK,CAAgB;QAC7B,IAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC5B,MAAM,CAAC,qDAAC,yEAAe,IAAC,OAAO,EAAC,cAAc;YACnC,qDAAC,sDAAK,CAAC,QAAQ,IAAC,SAAS,EAAC,2BAA2B;gBACjD,qDAAC,gFAAc,OAAG;gBAClB,qDAAC,sDAAK,CAAC,IAAI;oBACP;wBACI,4DAAG,IAAI,EAAC,GAAG,EAAC,OAAO,EAAE,IAAI,CAAC,SAAS;4BAAG,IAAI,CAAC,OAAO,EAAE;kCAAQ;wBAC5D;4BAAS,IAAI;;4BAAG,IAAI,CAAC,IAAI,EAAE;4BAAC,gEAAM;4BAAA,qDAAC,0DAAS,IAAC,KAAK,EAAC,UAAU,GAAG;;4BAAE,KAAK,CAAU,CACxE,CACJ,CACA,CACH,CAAC;IAC/B,CAAC;IACL,wBAAC;AAAD,CAAC,CAhDsC,gDAAe,GAgDrD;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClE8B;AAC6B;AACR;AACmB;AACnC;AACe;AAanD;IAAyC,uCAAgC;IAAzE;;IAkCA,CAAC;IAjCG,2CAAa,GAAb;QACY,0BAAI,CAAgB;QAC5B,MAAM,CAAC,2FAAU,CAAC,yFAAQ,CAAC,IAAI,EAAE,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC;IACjD,CAAC;IAED,sCAAQ,GAAR;QACY,8BAAM,CAAgB;QAC9B,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,SAAS,GAAG,GAAG,GAAG,MAAM,CAAC,QAAQ,GAAG,MAAM,CAAC;IACtE,CAAC;IAED,kCAAI,GAAJ;QACY,sBAAE,CAAgB;QAC1B,MAAM,CAAC,QAAQ,GAAG,yFAAQ,CAAC,EAAE,CAAC,CAAC;IACnC,CAAC;IAED,oCAAM,GAAN;QACU,mBAAyD,EAAvD,oBAAO,EAAE,0BAAU,EAAE,wBAAS,EAAE,sBAAQ,CAAgB;QAChE,IAAM,QAAQ,GAAG,UAAU,CAAC,QAAQ,CAAC;QACrC,IAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC7B,IAAM,OAAO,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;QACrC,IAAM,IAAI,GAAM,QAAQ,uBAAkB,OAAO,oBAAe,SAAW,CAAC;QAC5E,MAAM,CAAE,qDAAC,yEAAe,IAAC,OAAO,EAAC,WAAW;YAChC,qDAAC,sDAAK,CAAC,QAAQ,IAAC,SAAS,EAAC,2BAA2B;gBACjD,qDAAC,gFAAc,OAAG;gBAClB,qDAAC,sDAAK,CAAC,IAAI;oBACP;wBACI,qDAAC,kDAAI,IAAC,EAAE,EAAE,IAAI;4BAAE;gCAAI,4DAAG,uBAAuB,EAAE,OAAO,GAAM,CAAK,CAAO;wBACzE;4BAAS,IAAI;;4BAAG,IAAI,CAAC,IAAI,EAAE;4BAAC,gEAAM;4BAAA,qDAAC,0DAAS,IAAC,KAAK,EAAC,SAAS,GAAG;;4BAAE,QAAQ,CAAU,CAC1E,CACJ,CACA,CACH,CAAC;IAC/B,CAAC;IACL,0BAAC;AAAD,CAAC,CAlCwC,gDAAe,GAkCvD;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpD8B;AAC6B;AACR;AACZ;AACS;AACb;AACwB;AAa5D;IAAuC,qCAAgC;IAAvE;;IAgCA,CAAC;IA/BG,gCAAI,GAAJ;QACY,sBAAE,CAAgB;QAC1B,MAAM,CAAC,YAAY,GAAG,yFAAQ,CAAC,EAAE,CAAC,CAAC;IACvC,CAAC;IAED,mCAAO,GAAP;QACI,MAAM,CAAC,qDAAC,wDAAO,IAAC,EAAE,EAAC,aAAa,qBAAyB,CAAC;IAC9D,CAAC;IAED,kCAAM,GAAN;QACU,mBAA6E,EAA3E,oBAAO,EAAE,kBAAM,EAAE,sBAAQ,EAAE,wBAAS,EAAE,wBAAS,EAAE,4BAAW,CAAgB;QACpF,IAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;QACjC,IAAM,IAAI,GAAM,QAAQ,SAAI,SAAW,CAAC;QACxC,IAAM,IAAI,GAAM,QAAQ,uBAAkB,OAAS,CAAC;QACpD,IAAM,IAAI,GAAM,MAAM,CAAC,SAAS,SAAI,MAAM,CAAC,QAAU,CAAC;QAEtD,MAAM,CAAE,qDAAC,yEAAe,IAAC,OAAO,EAAC,kBAAkB;YACvC,qDAAC,sDAAK,CAAC,QAAQ,IAAC,SAAS,EAAC,2BAA2B;gBAC7C,qDAAC,gFAAc,OAAG;gBAClB,qDAAC,sDAAK,CAAC,IAAI;oBACP;wBACI,+DAAM,SAAS,EAAC,gCAAgC,IAAE,WAAW,CAAQ;wBAAA,gEAAM;wBAC3E,qDAAC,kDAAI,IAAC,EAAE,EAAE,IAAI;4BACV,qDAAC,sDAAK,IAAC,GAAG,EAAE,SAAS,EAAE,SAAS,SAAG,CAChC;wBACP;4BAAS,IAAI;;4BAAG,IAAI,CAAC,IAAI,EAAE;4BAAC,gEAAM;4BAAA,qDAAC,0DAAS,IAAC,KAAK,EAAC,SAAS,GAAG;;4BAAE,IAAI,CAAU,CACtE,CACJ,CACJ,CACH,CAAC;IAC/B,CAAC;IACL,wBAAC;AAAD,CAAC,CAhCsC,gDAAe,GAgCrD;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnD8B;AACyB;AACI;AACJ;AAChB;AASxC;IAAkC,gCAAgC;IAC9D,sBAAY,KAAU;QAAtB,YACI,kBAAM,KAAK,CAAC,SAEf;QADG,KAAI,CAAC,iBAAiB,GAAG,KAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC;;IAC/D,CAAC;IAED,wCAAiB,GAAjB,UAAkB,KAAa;QACrB,mBAA+B,EAA7B,gBAAK,EAAE,oBAAO,CAAgB;QACtC,IAAM,IAAI,GAAG,KAAK,CAAC,KAAK,CAAC,CAAC;QAC1B,OAAO,CAAC,IAAI,CAAC,CAAC;IAClB,CAAC;IAED,qCAAc,GAAd;QAAA,iBAwDC;QAvDS,mBAA+B,EAA7B,gBAAK,EAAE,oBAAO,CAAgB;QACtC,IAAM,WAAW,GAAG,UAAC,EAAU,IAAK,kBAAW,GAAG,EAAE,EAAhB,CAAgB,CAAC;QACrD,MAAM,CAAC,KAAK,CAAC,GAAG,CAAE,UAAC,IAAI,EAAG,KAAK;YAC3B,IAAM,OAAO,GAAG,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YACrC,IAAM,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACtC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBAChB,KAAK,CAAkB;oBACvB,CAAC;wBACG,IAAM,KAAK,GAAG,IAAI,CAAC,IAA0B,CAAC;wBAC9C,MAAM,CAAE,qDAAC,6EAAiB,IACd,EAAE,EAAE,IAAI,CAAC,EAAE,EACX,OAAO,EAAE,KAAK,CAAC,OAAO,EACtB,QAAQ,EAAE,KAAK,CAAC,QAAQ,EACxB,SAAS,EAAE,KAAK,CAAC,SAAS,EAC1B,SAAS,EAAE,KAAK,CAAC,YAAY,EAC7B,MAAM,EAAE,MAAM,EACd,WAAW,EAAE,KAAK,CAAC,WAAW,EAC9B,GAAG,EAAE,OAAO,GACd,CAAC;oBACf,CAAC;gBACD,KAAK,CAAoB;oBACzB,CAAC;wBACG,IAAM,OAAO,GAAG,IAAI,CAAC,IAA4B,CAAC;wBAClD,MAAM,CAAE,qDAAC,iFAAmB,IAChB,SAAS,EAAE,OAAO,CAAC,EAAE,EACrB,IAAI,EAAE,OAAO,CAAC,IAAI,EAClB,UAAU,EAAE,OAAO,CAAC,eAAe,EACnC,OAAO,EAAE,OAAO,CAAC,OAAO,EACxB,QAAQ,EAAE,OAAO,CAAC,QAAQ,EAC1B,EAAE,EAAE,IAAI,CAAC,EAAE,EACX,MAAM,EAAE,MAAM,EACd,GAAG,EAAE,OAAO,GACd,CAAC;oBACf,CAAC;gBACD,KAAK,CAAsB;oBAC3B,CAAC;wBACG,IAAM,IAAI,GAAG,IAAI,CAAC,IAA8B,CAAC;wBACjD,MAAM,CAAE,qDAAC,6EAAiB,IACd,EAAE,EAAE,IAAI,CAAC,EAAE,EACX,MAAM,EAAE,MAAM,EACd,KAAK,EAAE,IAAI,CAAC,KAAK,EACjB,IAAI,EAAE,IAAI,CAAC,IAAI,EACf,MAAM,EAAE,IAAI,CAAC,MAAM,EACnB,YAAY,EAAE,IAAI,CAAC,YAAY,EAC/B,OAAO,EAAE,KAAI,CAAC,iBAAiB,EAC/B,KAAK,EAAE,KAAK,EACZ,GAAG,EAAE,OAAO,GACd,CAAC;oBACf,CAAC;gBACD;oBACA,CAAC;wBACG,MAAM,CAAC,IAAI,CAAC;oBAChB,CAAC;YACL,CAAC;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,6BAAM,GAAN;QACI,IAAM,SAAS,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;QACxC,MAAM,CAAE,qDAAC,sDAAK,CAAC,IAAI,QACN,SAAS,CACD,CAAC;IAC1B,CAAC;IACL,mBAAC;AAAD,CAAC,CA5EiC,gDAAe,GA4EhD;;;;;;;;;;;;;;;;;;;;;;;;;ACzF8C;AAChB;AAM/B;IAA6B,2BAA+B;IAA5D;;IAiBA,CAAC;IAZG,wBAAM,GAAN;QACI,IAAI,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,IAAI,CAAC,EAC5D,SAAS,GAAG,QAAQ,GAAG,QAAQ,GAAG,EAAE,CAAC;QAEzC,MAAM,CAAC,CACH,6DAAI,SAAS,EAAE,SAAS;YACpB,qDAAC,kDAAI,IAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,IAClB,IAAI,CAAC,KAAK,CAAC,QAAQ,CACjB,CACN,CACR,CAAC;IACN,CAAC;IACL,cAAC;AAAD,CAAC,CAjB4B,gDAAe;;AACjC,oBAAY,GAAG;IAClB,MAAM,EAAE,gDAAe,CAAC,MAAM;CACjC,CAAC;AAgBN;IAAkC,gCAA+B;IAAjE;;IAiBA,CAAC;IAZG,6BAAM,GAAN;QACI,IAAI,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,EAAE,IAAI,CAAC,EAC5D,SAAS,GAAG,QAAQ,GAAG,QAAQ,GAAG,EAAE,CAAC;QAEzC,MAAM,CAAC,CACH,6DAAI,SAAS,EAAE,SAAS;YACpB,qDAAC,uDAAS,IAAC,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,EAAE,IACvB,IAAI,CAAC,KAAK,CAAC,QAAQ,CACZ,CACX,CACR,CAAC;IACN,CAAC;IACL,mBAAC;AAAD,CAAC,CAjBiC,gDAAe;;AACtC,yBAAY,GAAG;IAClB,MAAM,EAAE,gDAAe,CAAC,MAAM;CACjC,CAAC;;;;;;;;;;AC7BkC;AAQxC,IAAM,QAAQ,GAAuB,UAAC,KAAU,EAAE,MAAM;IAAlB,kCAAU;IAC5C,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAAmB;YACpB,MAAM,CAAC,MAAM,CAAC,OAAO,IAAI,EAAE,CAAC;QAChC,KAAK,EAAa;YACd,MAAM,CAAK,KAAK,SAAE,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,GAAE;QACzC;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,IAAI,GAAoB,UAAC,KAAS,EAAE,MAAM;IAAjB,iCAAS;IACpC,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAAmB;YACpB,MAAM,CAAC,MAAM,CAAC,OAAO,IAAI,CAAC,CAAC;QAC/B;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,IAAI,GAAoB,UAAC,KAAU,EAAE,MAAM;IAAlB,kCAAU;IACrC,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAAmB;YACpB,MAAM,CAAC,MAAM,CAAC,OAAO,IAAI,EAAE,CAAC;QAChC;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,IAAI,GAAoB,UAAC,KAAS,EAAE,MAAM;IAAjB,iCAAS;IACpC,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAAkB;YACnB,MAAM,CAAC,MAAM,CAAC,OAAO,IAAI,CAAC,CAAC;QAC/B;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,UAAU,GAAoB,UAAC,KAAS,EAAE,MAAM;IAAjB,iCAAS;IAC1C,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAAiB;YAClB,MAAM,CAAC,MAAM,CAAC,OAAO,IAAI,CAAC,CAAC;QAC/B;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,cAAc,GAAoB,UAAC,KAAU,EAAE,MAAM;IAAlB,iCAAS,CAAC;IAC/C,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAAqB;YACtB,MAAM,CAAC,MAAM,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC;QAChC;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,YAAY,GAAG,6EAAe,CAAgB;IAChD,QAAQ;IACR,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,UAAU;IACV,cAAc;CACjB,CAAC,CAAC;AAEH,wDAAe,YAAY,CAAC;;;;;;;;;;;;ACzEY;AAKjC,IAAM,KAAK,GAAoB,UAAC,KAAU,EAAE,MAAM;IAAlB,kCAAU;IAC7C,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,CAAiB;YAClB,MAAM,CAAC,MAAM,CAAC,OAAO,IAAI,EAAE,CAAC;QAChC;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEK,IAAM,OAAO,GAAoB,UAAC,KAAU,EAAE,MAAM;IAAlB,kCAAU;IAC/C,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,CAAmB;YACpB,MAAM,CAAC,MAAM,CAAC,OAAO,IAAI,EAAE,CAAC;QAChC;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,SAAS,GAAG,6EAAe,CAAa;IAC1C,KAAK;IACL,OAAO;CACV,CAAC,CAAC;AAEH,wDAAe,SAAS,CAAC;;;;;;;;;;;AC5Be;AACG;AAM3C,IAAM,WAAW,GAAoB,UAAC,KAAS,EAAE,MAAM;IAAjB,iCAAS;IAC3C,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAAkB;YACnB,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;QAC1B;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,WAAW,GAAoB,UAAC,KAAU,EAAE,MAAM;IAAlB,kCAAU;IAC5C,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAAkB;YACnB,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;QAC1B;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,WAAW,GAAoB,UAAC,KAAS,EAAE,MAAM;IAAjB,iCAAS;IAC3C,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAAkB;YACnB,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;QAC1B;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,gBAAgB,GAAoB,UAAC,KAAS,EAAE,MAAM;IAAjB,iCAAS;IAChD,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAAyB;YAC1B,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;QAC1B;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,cAAc,GAAoB,UAAC,KAAU,EAAE,MAAM;IAAlB,iCAAS,CAAC;IAC/C,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAAuB;YACxB,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;QAC1B;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,MAAM,GAAwC,UAAC,KAAU,EAAE,MAAM;IAAlB,kCAAU;IAC3D,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAAkB;YACnB,MAAM,CAAC,sFAAK,CAAC,MAAM,CAAC,OAAO,EAAE,KAAK,EAAE,UAAC,EAAE,EAAE,EAAE,IAAK,SAAE,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,EAAf,CAAe,CAAC,CAAC;QACrE,KAAK,EAAmB;YACpB,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;QAC1B;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,WAAW,GAAoB,UAAC,KAAU,EAAE,MAAM;IAAlB,kCAAU;IAC5C,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAAkB;YACnB,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;QAC1B;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,UAAU,GAAG,6EAAe,CAAmB;IACjD,MAAM;IACN,IAAI,EAAE,WAAW;IACjB,IAAI,EAAE,WAAW;IACjB,IAAI,EAAE,WAAW;IACjB,UAAU,EAAE,gBAAgB;IAC5B,cAAc;CACjB,CAAC,CAAC;AAEH,IAAM,SAAS,GAAG,6EAAe,CAAa;IAC1C,UAAU;IACV,WAAW;CACd,CAAC,CAAC;AAEH,wDAAe,SAAS,CAAC;;;;;;;;;;;;;ACtFe;AAIQ;AACN;AAM1C,IAAM,OAAO,GAAG,UAAC,KAAkB,EAAE,MAAsB;IAA1C,iCAAiB,CAAC;IAC/B,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAA2B;YAChC,CAAC;gBACG,MAAM,CAAC,MAAM,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC;YAChC,CAAC;QACD;YACA,CAAC;gBACG,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;IACL,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,MAAM,GAAG,UAAC,KAAwB,EAAE,MAAkD;IAA5E,kCAAwB;IACpC,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAAoB;YACzB,CAAC;gBACG,IAAM,KAAK,GAAgB,MAAM,CAAC,OAAQ,CAAC;gBAC3C,MAAM,CAAC,oFAAG,CAAC,KAAK,EAAE,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;YAC5C,CAAC;QACD,KAAK,EAA+B;YACpC,CAAC;gBACG,MAAM,CAAgB,MAAM,CAAC,OAAQ,CAAC;YAC1C,CAAC;QACD,KAAK,EAAuB;YAC5B,CAAC;gBACG,IAAM,EAAE,GAAgB,MAAM,CAAC,OAAQ,CAAC,OAAO,CAAC;gBAChD,IAAM,OAAO,GAAiB,uEAAI,CAAC,KAAK,EAAE,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC;gBACzD,MAAM,CAAC,OAAO,CAAC;YACnB,CAAC;QACD,KAAK,EAAiC;YACtC,CAAC;gBACG,IAAM,EAAE,GAAgB,MAAM,CAAC,OAAQ,CAAC,OAAO,CAAC;gBAChD,IAAM,KAAK,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;gBACxB,KAAK,CAAC,YAAY,EAAE,CAAC;gBAErB,IAAM,MAAM,GAAG,oFAAG,CAAC,KAAK,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBACrC,MAAM,CAAC,MAAM,CAAC;YAClB,CAAC;QACD,KAAK,EAAiC;YACtC,CAAC;gBACG,IAAM,EAAE,GAAgB,MAAM,CAAC,OAAQ,CAAC,OAAO,CAAC;gBAChD,IAAM,KAAK,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;gBACxB,KAAK,CAAC,YAAY,EAAE,CAAC;gBAErB,IAAM,MAAM,GAAG,oFAAG,CAAC,KAAK,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;gBACrC,MAAM,CAAC,MAAM,CAAC;YAClB,CAAC;QACD;YACA,CAAC;gBACG,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;IACL,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,eAAe,GAAG,UAAC,KAAkB,EAAE,MAAsB;IAA1C,iCAAiB,CAAC;IACvC,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAA2B;YAChC,CAAC;gBACG,MAAM,CAAC,MAAM,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC;YAChC,CAAC;QACD;YACA,CAAC;gBACG,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;IACL,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,gBAAgB,GAAG,UAAC,KAAoB,EAAE,MAAiC;IAAvD,kCAAoB;IAC1C,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAAgC;YACrC,CAAC;gBACG,IAAM,EAAE,GAAW,MAAM,CAAC,OAAO,CAAC;gBAClC,MAAM,CAAC,sFAAK,CAAC,KAAK,EAAE,CAAC,EAAE,CAAC,EAAE,UAAC,GAAG,EAAE,GAAG,IAAK,UAAG,KAAK,GAAG,EAAX,CAAW,CAAC,CAAC;YACzD,CAAC;QACD,KAAK,EAAmC;YACxC,CAAC;gBACG,MAAM,CAAC,yEAAM,CAAC,KAAK,EAAE,UAAC,EAAE,IAAK,SAAE,KAAK,MAAM,CAAC,OAAO,EAArB,CAAqB,CAAC,CAAC;YACxD,CAAC;QACD,KAAK,EAAmC;YACxC,CAAC;gBACG,MAAM,CAAC,EAAE,CAAC;YACd,CAAC;QACD;YACA,CAAC;gBACG,MAAM,CAAC,KAAK,CAAC;YACjB,CAAC;IACL,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,UAAU,GAAG,6EAAe,CAAc;IAC5C,OAAO;IACP,MAAM;IACN,eAAe;IACf,gBAAgB;CACnB,CAAC,CAAC;AAEH,wDAAe,UAAU,CAAC;;;;;;;;;;;;;;;;AC5Gc;AACJ;AACE;AACI;AACN;AACE;AACI;AAG1C,IAAM,WAAW,GAAG,6EAAe,CAAO;IACtC,SAAS;IACT,UAAU;IACV,YAAY;IACZ,SAAS;IACT,UAAU;IACV,YAAY;CACf,CAAC,CAAC;AAEH,wDAAe,WAAW,CAAC;;;;;;;;;;;;;;;;;;;AClBa;AAGJ;AAEF;AAE3B,IAAM,QAAQ,GAAqB,UAAC,KAAa,EAAE,MAAM;IAArB,qCAAa;IACpD,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,CAAe;YAChB,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;QAC1B;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEK,IAAM,OAAO,GAAoB,UAAC,KAAU,EAAE,MAAM;IAAlB,kCAAU;IAC/C,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEK,IAAM,SAAS,GAA4B,UAAC,KAAwB,EAAE,MAAM;IAAhC,gCAAQ,uEAAK,EAAW;IACvE,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAAe,EAAE,CAAC;YACnB,IAAM,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAChC,MAAM,CAAC,MAAM,CAAC;QAClB,CAAC;QACD,KAAK,EAAa,EAAE,CAAC;YACjB,IAAM,MAAM,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;YAC3B,MAAM,CAAC,MAAM,CAAC;QAClB,CAAC;QACD;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEK,IAAM,WAAW,GAAoB,UAAC,KAAS,EAAE,MAAM;IAAjB,iCAAS;IAClD,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAAmB;YACpB,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;QAC1B;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEK,IAAM,YAAY,GAAoB,UAAC,KAAU,EAAE,MAAM;IAAlB,iCAAS,CAAC;IACpD,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAAoB;YACrB,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;QAC1B;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEK,IAAM,SAAS,GAAG,6EAAe,CAAa;IACjD,WAAW;IACX,YAAY;CACf,CAAC,CAAC;AAEH,IAAM,UAAU,GAAG,6EAAe,CAAc;IAC5C,QAAQ;IACR,SAAS;IACT,SAAS;IACT,OAAO;IACP,SAAS;CACZ,CAAC,CAAC;AAEH,wDAAe,UAAU,CAAC;;;;;;;;;;ACrEc;AASxC,IAAM,KAAK,GAAG,UAAC,KAAuB,EAAE,MAA2C;IAApE,kCAAuB;IAClC,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAAyB;YAC9B,CAAC;gBAEG,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;YAC1B,CAAC;QACD;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,aAAa,GAAG,UAAC,KAAkB,EAAE,MAAsB;IAA1C,iCAAiB,CAAC;IACrC,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,EAA8B;YAC/B,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;QAC1B;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,SAAS,GAAG,6EAAe,CAAa;IAC1C,aAAa;IACb,KAAK;CACR,CAAC,CAAC;AAEH,wDAAe,SAAS,CAAC;;;;;;;;;;ACnCe;AAMxC,IAAM,IAAI,GAAoB,UAAC,KAAS,EAAE,MAAM;IAAjB,iCAAS;IACpC,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,CAAoB;YACrB,MAAM,CAAC,MAAM,CAAC,OAAO,IAAI,CAAC,CAAC;QAC/B;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,IAAI,GAAoB,UAAC,KAAU,EAAE,MAAM;IAAlB,kCAAU;IACrC,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,CAAoB;YACrB,MAAM,CAAC,MAAM,CAAC,OAAO,IAAI,EAAE,CAAC;QAChC;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,IAAI,GAAoB,UAAC,KAAS,EAAE,MAAM;IAAjB,iCAAS;IACpC,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,CAAoB;YACrB,MAAM,CAAC,MAAM,CAAC,OAAO,IAAI,CAAC,CAAC;QAC/B;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,UAAU,GAAoB,UAAC,KAAS,EAAE,MAAM;IAAjB,iCAAS;IAC1C,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,CAA2B;YAC5B,MAAM,CAAC,MAAM,CAAC,OAAO,IAAI,CAAC,CAAC;QAC/B;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,KAAK,GAA6B,UAAC,KAAU,EAAE,MAAM;IAAlB,kCAAU;IAC/C,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QAClB,KAAK,CAAY;YACb,MAAM,CAAC,MAAM,CAAC,OAAO,IAAI,EAAE,CAAC;QAChC;YACI,MAAM,CAAC,KAAK,CAAC;IACrB,CAAC;AACL,CAAC,CAAC;AAEF,IAAM,YAAY,GAAG,6EAAe,CAAgB;IAChD,IAAI;IACJ,IAAI;IACJ,IAAI;IACJ,UAAU;IACV,KAAK;CACR,CAAC,CAAC;AAEH,wDAAe,YAAY,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1DG;AACI;AACsC;AAClC;AAGK;AACI;AACF;AACY;AACA;AACQ;AAChB;AACU;AACM;AACA;AACU;AAC1B;AAChB;AAKH;AAG/B,0FAAI,EAAE,CAAC;AAEP;IAAkB,uBAA2B;IAA7C;;IAwBA,CAAC;IAvBG,oBAAM,GAAN;QACI,MAAM,CAAE,qDAAC,qDAAQ,IAAC,KAAK,EAAE,8DAAK;YAClB,qDAAC,oDAAM,IAAC,OAAO,EAAE,4DAAc;gBAC3B,qDAAC,mDAAK,IAAC,IAAI,EAAC,GAAG,EAAC,SAAS,EAAE,wEAAI;oBAC3B,qDAAC,wDAAU,IAAC,SAAS,EAAE,4EAAI,EAAE,OAAO,EAAE,4EAAa,GAAI;oBACvD,qDAAC,mDAAK,IAAC,IAAI,EAAC,OAAO,EAAC,SAAS,EAAE,yEAAK;wBAChC,qDAAC,wDAAU,IAAC,SAAS,EAAE,iFAAS,EAAE,OAAO,EAAE,yEAAU,GAAI;wBACzD,qDAAC,mDAAK,IAAC,IAAI,EAAC,UAAU,EAAC,SAAS,EAAE,iFAAS,EAAE,OAAO,EAAE,8EAAe;4BACjE,qDAAC,mDAAK,IAAC,IAAI,EAAC,UAAU,EAAC,SAAS,EAAE,qFAAa,EAAE,OAAO,EAAE,gFAAiB,GAAI,CAC3E,CACJ;oBACR,qDAAC,mDAAK,IAAC,IAAI,EAAC,OAAO,EAAC,SAAS,EAAE,8EAAK,GAAI;oBACxC,qDAAC,mDAAK,IAAC,IAAI,EAAC,mBAAmB,EAAC,SAAS,EAAE,mFAAU,EAAE,OAAO,EAAE,0EAAW;wBACvE,qDAAC,mDAAK,IAAC,IAAI,EAAC,WAAW,EAAC,SAAS,EAAE,sFAAa,EAAE,OAAO,EAAE,0EAAW;4BAClE,qDAAC,mDAAK,IAAC,IAAI,EAAC,UAAU,EAAC,SAAS,EAAE,sFAAa,EAAE,OAAO,EAAE,2EAAY,GAAI;4BAC1E,qDAAC,mDAAK,IAAC,IAAI,EAAC,SAAS,EAAC,SAAS,EAAE,2FAAkB,EAAE,OAAO,EAAE,2EAAY,GAAI,CAC1E,CACJ;oBACR,qDAAC,mDAAK,IAAC,IAAI,EAAC,OAAO,EAAC,SAAS,EAAE,8EAAK,GAAI,CACpC,CACH,CACF,CAAC;IACxB,CAAC;IACL,UAAC;AAAD,CAAC,CAxBiB,gDAAe,GAwBhC;AAED,wEAAM,CAAC,qDAAC,GAAG,OAAG,EAAE,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtDV;AACsC;AASzE,IAAM,eAAe,GAAG,UAAC,IAAY;IACxC,MAAM,CAAC;QACH,IAAI,EAAE,EAA4B;QAClC,OAAO,EAAE,IAAI;KAChB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,cAAc,GAAG;IAC1B,MAAM,CAAC;QACH,IAAI,EAAE,EAA2B;KACpC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,cAAc,GAAG;IAC1B,MAAM,CAAC;QACH,IAAI,EAAE,EAA2B;KACpC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,eAAe,GAAG,UAAC,IAAY;IACxC,MAAM,CAAC;QACH,IAAI,EAAE,EAA4B;QAClC,OAAO,EAAE,IAAI;KAChB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,cAAc,GAAG,UAAC,IAAY;IACvC,MAAM,CAAC;QACH,IAAI,EAAE,EAA2B;QACjC,OAAO,EAAE,IAAI;KAChB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,aAAa,GAAG,UAAC,UAAkB;IAC5C,MAAM,CAAC;QACH,IAAI,EAAE,EAA0B;QAChC,OAAO,EAAE,UAAU;KACtB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,kBAAkB,GAAG;IAC9B,MAAM,CAAC;QACH,IAAI,EAAE,EAA+B;KACxC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,gBAAgB,GAAG,UAAC,QAAwB;IACrD,MAAM,CAAC;QACH,IAAI,EAAE,EAA4B;QAClC,OAAO,EAAE,QAAQ;KACpB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,UAAU,GAAG,UAAC,OAAqB;IAC5C,MAAM,CAAC;QACH,IAAI,EAAE,EAAsB;QAC5B,OAAO,EAAE,CAAC,OAAO,CAAC;KACrB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,iBAAiB,GAAG,UAAC,SAAiB;IAC/C,MAAM,CAAC;QACH,IAAI,EAAE,EAA8B;QACpC,OAAO,EAAE,SAAS;KACrB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,oBAAoB,GAAG,UAAC,OAAyB;IAC1D,IAAM,SAAS,GAAG,iGAAgB,CAAC,OAAO,CAAC,CAAC;IAC5C,MAAM,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;AACjC,CAAC,CAAC;AAEK,IAAM,aAAa,GAAG,UAAC,GAAW,EAAE,IAAY,EAAE,IAAY;IACjE,MAAM,CAAC,UAAC,QAAuB;QAC3B,IAAM,OAAO,GAAG,gGAAe,CAAwC,QAAQ,CAAC,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,EAAE,EAAR,CAAQ,CAAC,CAAC;QAChG,MAAM,CAAC,8CAAK,CAAC,GAAG,EAAE,iEAAO,CAAC;aACrB,IAAI,CAAC,OAAO,CAAC;aACb,IAAI,CAAC,cAAI;YAEN,IAAM,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC;YAGvC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;YAChC,QAAQ,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC,CAAC;YAChC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YAC3C,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YAGzC,IAAM,QAAQ,GAAG,YAAY,CAAC,GAAG,CAAC,0EAAgB,CAAC,CAAC;YACpD,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,WAAW,GAAG,UAAC,GAAW,EAAE,SAAiB,EAAE,IAAY,EAAE,eAAuB,EAAE,EAAc;IAC7G,MAAM,CAAC,UAAC,CAAgB;QACpB,IAAM,OAAO,GAAG,IAAI,OAAO,EAAE,CAAC;QAC9B,OAAO,CAAC,MAAM,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;QACnD,IAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;YACxB,IAAI,EAAE,IAAI;YACV,SAAS,EAAE,SAAS;YACpB,QAAQ,EAAE,eAAe;SAC5B,CAAC,CAAC;QAEH,IAAM,GAAG,GAAgB,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,iEAAO,EAAE;YAChD,MAAM,EAAE,MAAM;YACd,IAAI,EAAE,IAAI;YACV,OAAO,EAAE,OAAO;SACnB,CAAC,CAAC;QAEH,MAAM,CAAC,8CAAK,CAAC,GAAG,EAAE,GAAG,CAAC;aACjB,IAAI,CAAC,EAAE,CAAC,CAAC;IAClB,CAAC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,WAAW,GAAG,UAAC,GAAW,EAAE,SAAiB,EAAE,IAAY,EAAE,EAAc;IACpF,MAAM,CAAC,UAAC,CAAC;QACL,IAAM,OAAO,GAAG,IAAI,OAAO,EAAE,CAAC;QAC9B,OAAO,CAAC,MAAM,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;QACnD,IAAM,GAAG,GAAgB,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,iEAAO,EAAE;YAChD,MAAM,EAAE,KAAK;YACb,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;YACnD,OAAO,EAAE,OAAO;SACnB,CAAC,CAAC;QAEH,MAAM,CAAC,8CAAK,CAAC,GAAG,EAAE,GAAG,CAAC;aACjB,IAAI,CAAC,EAAE,CAAC,CAAC;IAClB,CAAC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,aAAa,GAAG,UAAC,GAAW,EAAE,EAAc;IACrD,MAAM,CAAC,UAAC,CAAC;QACL,IAAM,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,iEAAO,EAAE;YACnC,MAAM,EAAE,QAAQ;SACnB,CAAC,CAAC;QAEH,MAAM,CAAC,8CAAK,CAAC,GAAG,EAAE,GAAG,CAAC;aACjB,IAAI,CAAC,EAAE,CAAC,CAAC;IAClB,CAAC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,0BAA0B,GAAG,UAAC,EAAU;IACjD,MAAM,CAAC,UAAC,QAAQ;QACZ,IAAM,GAAG,GAAM,OAAO,CAAC,IAAI,CAAC,aAAa,sBAAiB,EAAI,CAAC;QAC/D,IAAM,OAAO,GAAG,gGAAe,CAAmB,QAAQ,CAAC,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,EAAE,EAAR,CAAQ,CAAC,CAAC;QAE3E,MAAM,CAAC,8CAAK,CAAC,GAAG,EAAE,iEAAO,CAAC;aACrB,IAAI,CAAC,OAAO,CAAC;aACb,IAAI,CAAC,WAAC;YACH,IAAM,OAAO,GAAG,iGAAgB,CAAC,CAAC,CAAC,CAAC;YACpC,QAAQ,CAAC,gBAAgB,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YACtC,QAAQ,CAAC,iBAAiB,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;IACX,CAAC,CAAC;AACN,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrKwC;AAER;AACoC;AAKD;AAEpB;AAE1C,IAAM,cAAc,GAAG,UAAC,EAAU;IACrC,MAAM,CAAC;QACH,IAAI,EAAE,EAA2B;QACjC,OAAO,EAAE,EAAE;KACd,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,kBAAkB,GAAG,UAAC,MAAoC;IACnE,MAAM,CAAC;QACH,IAAI,EAAE,EAA+B;QACrC,OAAO,EAAE,MAAM;KAClB,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,cAAc,GAAG,UAAC,EAAU;IACrC,MAAM,CAAC;QACH,IAAI,EAAE,EAA2B;QACjC,OAAO,EAAE,EAAE;KACd,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,QAAQ,GAAG,UAAC,GAAe;IACpC,MAAM,CAAC;QACH,IAAI,EAAE,EAAoB;QAC1B,OAAO,EAAE,GAAG;KACf,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,WAAW,GAAG,UAAC,EAAU;IAClC,MAAM,CAAC;QACH,IAAI,EAAE,EAAuB;QAC7B,OAAO,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE;KAC3B,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,kBAAkB,GAAG,UAAC,EAAU;IACzC,MAAM,CAAC;QACH,IAAI,EAAE,EAAgC;QACtC,OAAO,EAAE,EAAE;KACd,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,qBAAqB,GAAG,UAAC,EAAU;IAC5C,MAAM,CAAC;QACH,IAAI,EAAE,EAAmC;QACzC,OAAO,EAAE,EAAE;KACd,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,qBAAqB,GAAG;IACjC,MAAM,CAAC;QACH,IAAI,EAAE,EAAmC;KAC5C,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,qBAAqB,GAAG,UAAC,OAAe;IACjD,MAAM,CAAC;QACH,IAAI,EAAE,EAAiC;QACvC,OAAO,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE;KAChC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,qBAAqB,GAAG,UAAC,OAAe;IACjD,MAAM,CAAC;QACH,IAAI,EAAE,EAAiC;QACvC,OAAO,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE;KAChC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,kBAAkB,GAAG,UAAC,KAAwB;IACvD,IAAM,UAAU,GAAG,mGAAS,CAAC,KAAK,CAAC,CAAC;IACpC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;AAChC,CAAC,CAAC;AAEK,IAAM,WAAW,GAAG,UAAC,EAAU,EAAE,QAAgB;IACpD,MAAM,CAAC,UAAC,QAAwB;QAC5B,QAAQ,CAAC,4FAAY,EAAE,CAAC,CAAC;QACzB,IAAM,GAAG,GAAM,OAAO,CAAC,IAAI,CAAC,MAAM,kBAAa,QAAQ,YAAO,EAAI,CAAC;QACnE,IAAM,GAAG,GAAgB,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,iEAAO,EAAE;YAChD,MAAM,EAAE,QAAQ;SACnB,CAAC,CAAC;QACH,IAAM,OAAO,GAAG,gGAAe,CAAC,QAAQ,CAAC,CAAC,UAAC,CAAC,IAAK,QAAC,CAAC,IAAI,EAAE,EAAR,CAAQ,CAAC,CAAC;QAC3D,IAAM,MAAM,GAAG,8CAAK,CAAC,GAAG,EAAE,GAAG,CAAC;aACzB,IAAI,CAAC,OAAO,CAAC;aACb,IAAI,CAAC,cAAQ,QAAQ,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAC1C,OAAK,EAAC,UAAC,MAAW,IAAK,cAAO,CAAC,GAAG,CAAC,MAAM,CAAC,EAAnB,CAAmB,CAAC,CAAC;QAEjD,MAAM,CAAC,MAAM,CAAC;IAClB,CAAC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,WAAW,GAAG,UAAC,QAAgB,EAAE,WAAmB,EAAE,QAAkB,EAAE,SAAqB,EAAE,OAA8B;IACxI,MAAM,CAAC,UAAC,QAAwB;QAC5B,QAAQ,CAAC,4FAAY,EAAE,CAAC,CAAC;QAEzB,IAAM,GAAG,GAAM,OAAO,CAAC,IAAI,CAAC,MAAM,kBAAa,QAAQ,qBAAgB,WAAa,CAAC;QACrF,IAAM,GAAG,GAAgB,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,iEAAO,EAAE;YAChD,MAAM,EAAE,MAAM;YACd,IAAI,EAAE,QAAQ;SACjB,CAAC,CAAC;QAEH,IAAM,OAAO,GAAG,gGAAe,CAAC,QAAQ,CAAC,CAAC,WAAC,IAAI,WAAI,EAAJ,CAAI,CAAC,CAAC;QAErD,MAAM,CAAC,8CAAK,CAAC,GAAG,EAAE,GAAG,CAAC;aACjB,IAAI,CAAC,OAAO,CAAC;aACb,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;IAClC,CAAC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,eAAe,GAAG,UAAC,QAAgB;IAC5C,MAAM,CAAC,UAAC,QAAwB;QAC5B,QAAQ,CAAC,4FAAY,EAAE,CAAC,CAAC;QACzB,IAAM,GAAG,GAAM,OAAO,CAAC,IAAI,CAAC,MAAM,kBAAa,QAAU,CAAC;QAC1D,IAAM,OAAO,GAAkD,gGAAe,CAAC,QAAQ,CAAC,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,EAAE,EAAR,CAAQ,CAAC,CAAC;QAExG,MAAM,CAAC,8CAAK,CAAC,GAAG,EAAE,iEAAO,CAAC;aACrB,IAAI,CAAC,OAAO,CAAC;aACb,IAAI,CAAC,UAAC,IAAyB;YAC5B,IAAM,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,4EAAS,CAAC,CAAC;YACvC,IAAM,GAAG,GAAG,uFAAM,CAAyB,UAAU,EAAE,UAAC,GAAG,IAAK,UAAG,CAAC,OAAO,EAAX,CAAW,EAAE,UAAC,GAAG,IAAK,UAAG,EAAH,CAAG,CAAC,CAAC;YAC3F,QAAQ,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,YAAY,GAAG,UAAC,QAAgB,EAAE,QAAuB;IAAvB,wCAAuB;IAClE,MAAM,CAAC,UAAC,QAAwB;QAC5B,QAAQ,CAAC,4FAAY,EAAE,CAAC,CAAC;QACzB,IAAM,GAAG,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC/B,IAAM,GAAG,GAAM,OAAO,CAAC,IAAI,CAAC,MAAM,kBAAa,QAAQ,aAAQ,GAAK,CAAC;QACrE,IAAM,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,iEAAO,EAAE;YACnC,MAAM,EAAE,QAAQ;SACnB,CAAC,CAAC;QAEH,IAAM,OAAO,GAAG,gGAAe,CAAC,QAAQ,CAAC,CAAC,WAAC,IAAI,WAAI,EAAJ,CAAI,CAAC,CAAC;QAErD,MAAM,CAAC,8CAAK,CAAC,GAAG,EAAE,GAAG,CAAC;aACjB,IAAI,CAAC,OAAO,CAAC;aACb,IAAI,CAAC,cAAQ,QAAQ,CAAC,qBAAqB,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;aAClD,IAAI,CAAC,cAAQ,QAAQ,CAAM,eAAe,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACnE,CAAC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,aAAa,GAAG,UAAC,QAAgB;IAC1C,MAAM,CAAC,UAAC,QAAwB,EAAE,QAAoB;QAElD,IAAM,SAAS,GAAG;YACd,IAAM,KAAK,GAAG,QAAQ,EAAE,CAAC,SAAS,CAAC,KAAK,CAAC;YACzC,IAAI,IAAI,GAAc,IAAI,CAAC;YAC3B,GAAG,CAAC,CAAC,IAAI,GAAG,IAAI,KAAK,CAAC,CAAC,CAAC;gBACpB,IAAI,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;gBAClB,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,KAAK,QAAQ,CAAC,CAAC,CAAC;oBAC7B,KAAK,CAAC;gBACV,CAAC;YACL,CAAC;YAED,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC,CAAC;QAEF,IAAI,KAAK,GAAG,SAAS,EAAE,CAAC;QAExB,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YACR,IAAM,OAAO,GAAG,KAAK,CAAC,EAAE,CAAC;YACzB,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,CAAC;YAClC,MAAM,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QAC7B,CAAC;QACD,IAAI,CAAC,CAAC;YACF,QAAQ,CAAC,4FAAY,EAAE,CAAC,CAAC;YACzB,IAAM,GAAG,GAAM,OAAO,CAAC,IAAI,CAAC,KAAK,kBAAa,QAAU,CAAC;YACzD,IAAM,OAAO,GAAG,gGAAe,CAAY,QAAQ,CAAC,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,EAAE,EAAR,CAAQ,CAAC,CAAC;YACpE,MAAM,CAAC,8CAAK,CAAC,GAAG,EAAE,iEAAO,CAAC;iBACrB,IAAI,CAAC,OAAO,CAAC;iBACb,IAAI,CAAC,cAAI,IAAM,QAAQ,CAAC,8EAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;iBAC1C,IAAI,CAAC;gBACF,KAAK,GAAG,SAAS,EAAE,CAAC;gBACpB,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;YACvC,CAAC,CAAC,CAAC;QACX,CAAC;IACL,CAAC,CAAC;AACN,CAAC,CAAC;AAEK,IAAM,gBAAgB,GAAG,UAAC,EAAU;IACvC,MAAM,CAAC,UAAC,QAAwB;QAC5B,QAAQ,CAAC,4FAAY,EAAE,CAAC,CAAC;QACzB,IAAM,GAAG,GAAM,OAAO,CAAC,IAAI,CAAC,MAAM,oBAAe,EAAI,CAAC;QACtD,IAAM,OAAO,GAAG,gGAAe,CAAoB,QAAQ,CAAC,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,EAAE,EAAR,CAAQ,CAAC,CAAC;QAC5E,MAAM,CAAC,8CAAK,CAAC,GAAG,EAAE,iEAAO,CAAC;aACrB,IAAI,CAAC,OAAO,CAAC;aACb,IAAI,CAAC,aAAG;YACL,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;gBAAC,MAAM,CAAC;YACjB,IAAM,eAAe,GAAG,mGAAS,CAAC,GAAG,CAAC,CAAC;YACvC,QAAQ,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAC,CAAC;QACxC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC;AACN,CAAC,CAAC","file":"../../js/app.js","sourcesContent":["import { ActionType } from \"../constants/actions\";\r\nimport { Data } from \"../interfaces/Data\";\r\nimport { General } from \"../interfaces/General\";\r\nimport * as fetch from \"isomorphic-fetch\";\r\nimport { options, objMap, responseHandler } from \"../utilities/utils\";\r\nimport { fetchResult } from \"../constants/types\";\r\nimport { Dispatch } from \"redux\";\r\nimport { startLoading } from \"./status\";\r\n\r\ntype User = Data.User;\r\ntype Action<T> = (payload: T) => General.Action<T>;\r\n\r\nexport const addUser: Action<User> = (user) => {\r\n    return {\r\n        type: ActionType.ADD_USER,\r\n        payload: user\r\n    };\r\n};\r\n\r\nexport const setCurrentUserId: Action<number> = (id) => {\r\n    return {\r\n        type: ActionType.SET_CURRENT_USER_ID,\r\n        payload: id\r\n    };\r\n};\r\n\r\nexport const recievedUsers: Action<General.KeyValue<User>> = (users) => {\r\n    return {\r\n        type: ActionType.RECIEVED_USERS,\r\n        payload: users\r\n    };\r\n};\r\n\r\nexport const fetchCurrentUser = (username: string): fetchResult<any, void>  => {\r\n    return (dispatch: Dispatch<any>) => {\r\n        dispatch(startLoading());\r\n        let url = `${globals.urls.users}?username=${username}`;\r\n        const handler = responseHandler<User>(dispatch)(r => r.json());\r\n\r\n        return fetch(url, options)\r\n            .then(handler)\r\n            .then(user => {\r\n                dispatch(setCurrentUserId(user.ID));\r\n                dispatch(addUser(user));\r\n            });\r\n    };\r\n};\r\n\r\nexport const fetchUser = (username: string): fetchResult<any, void> => {\r\n    return (dispatch) => {\r\n        dispatch(startLoading());\r\n        let url = `${globals.urls.users}?username=${username}`;\r\n        const handler = responseHandler<User>(dispatch)(r => r.json());\r\n\r\n        return fetch(url, options)\r\n            .then(handler)\r\n            .then(user => { dispatch(addUser(user)); });\r\n    };\r\n};\r\n\r\nexport const fetchUsers = (): fetchResult<any, void> => {\r\n    return (dispatch) => {\r\n        dispatch(startLoading());\r\n        const handler = responseHandler<User[]>(dispatch)(r => r.json());\r\n        return fetch(globals.urls.users, options)\r\n            .then(handler)\r\n            .then(users => {\r\n                const getKey = (user: User) => user.ID;\r\n                const getValue = (user: User) => user;\r\n                const obj = objMap(users, getKey, getValue);\r\n                dispatch(recievedUsers(obj));\r\n            });\r\n    };\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/actions/users.ts","import * as React from \"react\";\r\nimport { Image, Media } from \"react-bootstrap\";\r\n\r\nexport class CommentProfile extends React.Component<any, any> {\r\n    render() {\r\n        return  <Media.Left className=\"comment-profile\">\r\n                    <Image src=\"/images/person_icon.svg\"\r\n                           style={{ width: \"64px\", height: \"64px\" }}\r\n                           className=\"media-object\"/>\r\n                    {this.props.children}\r\n                </Media.Left>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/comments/CommentProfile.tsx","import * as React from \"react\";\r\nimport { Pagination as PaginationBs } from \"react-bootstrap\";\r\n\r\ninterface StateProps {\r\n    totalPages: number;\r\n    page: number;\r\n    pageHandle: (to: number) => void;\r\n    show?: boolean;\r\n}\r\n\r\nexport class Pagination extends React.Component<StateProps, any> {\r\n    render() {\r\n        const { totalPages, page, pageHandle, show } = this.props;\r\n        const more = totalPages > 1;\r\n        const xor = (show || more) && !(show && more);\r\n        if (!(xor || (show && more))) return null;\r\n\r\n        return  <PaginationBs\r\n                    prev next ellipsis boundaryLinks\r\n                    items={totalPages}\r\n                    maxButtons={5}\r\n                    activePage={page}\r\n                    onSelect={pageHandle as any}\r\n                />;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/pagination/Pagination.tsx","import * as React from \"react\";\r\nimport { Editor, EditorState, RichUtils } from \"draft-js\";\r\nimport TextStyles, { Style } from \"../../constants/TextStyles\";\r\nimport { ToolbarBlock } from \"./ToolbarBlock\";\r\nimport { stateFromMarkdown } from \"draft-js-import-markdown\";\r\nimport { stateToMarkdown } from \"draft-js-export-markdown\";\r\n\r\nrequire(\"draft-js/dist/Draft.css\");\r\n\r\ninterface TextEditorProps {\r\n    placeholder: string;\r\n    markdown: string;\r\n}\r\n\r\ninterface TextEditorState {\r\n    hasFocus: boolean;\r\n    editorState: EditorState;\r\n}\r\n\r\nexport class TextEditor extends React.Component<TextEditorProps, TextEditorState> {\r\n    constructor(props: TextEditorProps) {\r\n        super(props);\r\n\r\n        const editorState = Boolean(props.markdown) ? EditorState.createWithContent(stateFromMarkdown(props.markdown)) : EditorState.createEmpty();\r\n        this.state = {\r\n            hasFocus: false,\r\n            editorState: editorState\r\n        };\r\n\r\n        this.onFocus = this.onFocus.bind(this);\r\n        this.onBlur = this.onBlur.bind(this);\r\n        this.onChange = this.onChange.bind(this);\r\n        this.getText = this.getText.bind(this);\r\n        this.setText = this.setText.bind(this);\r\n        this.handleFocus = this.handleFocus.bind(this);\r\n\r\n        this.onStyleClick = this.onStyleClick.bind(this);\r\n    }\r\n\r\n    getText() {\r\n        const { editorState } = this.state;\r\n        const markdown = stateToMarkdown(editorState.getCurrentContent());\r\n        return markdown;\r\n    }\r\n\r\n    setText(markdown: string) {\r\n        const editorState = Boolean(markdown) ? EditorState.createWithContent(stateFromMarkdown(markdown)) : EditorState.createEmpty();\r\n        this.setState({ editorState });\r\n    }\r\n\r\n    onChange(editorState: EditorState) {\r\n        this.setState({ editorState });\r\n    }\r\n\r\n    onFocus(_: React.SyntheticEvent<{}>) {\r\n        this.setState({ hasFocus: true });\r\n    }\r\n\r\n    onBlur(_: React.SyntheticEvent<{}>) {\r\n        this.setState({ hasFocus: false });\r\n    }\r\n\r\n    onStyleClick(styleType: TextStyles, style: Style) {\r\n        const { editorState } = this.state;\r\n        let changeState: EditorState;\r\n        switch (styleType) {\r\n            case TextStyles.Block: {\r\n                changeState = RichUtils.toggleBlockType(editorState, style);\r\n                break;\r\n            }\r\n            case TextStyles.Inline: {\r\n                changeState = RichUtils.toggleInlineStyle(editorState, style);\r\n                break;\r\n            }\r\n            default: {\r\n                changeState = editorState;\r\n                break;\r\n            }\r\n        }\r\n\r\n        this.onChange(changeState);\r\n    }\r\n\r\n    handleFocus(_: React.MouseEvent<any>) {\r\n        const { hasFocus } = this.state;\r\n\r\n        if (!hasFocus) {\r\n            const editor = this.refs.editor as Editor;\r\n            editor.focus();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { placeholder } = this.props;\r\n        const { hasFocus, editorState } = this.state;\r\n        const currentBlockType: any = RichUtils.getCurrentBlockType(editorState);\r\n        const currentInlineType = editorState.getCurrentInlineStyle();\r\n        const css = hasFocus ? \"richEditor-root textEditor-focus\" : \"richEditor-root\";\r\n        const styleMap = {\r\n            \"CODE\": {\r\n                padding: \"2px 4px\",\r\n                fontSize: \"90%\",\r\n                color: \"#c7254e\",\r\n                backgroundColor: \"#f9f2f4\",\r\n                borderRadius: \"4px\"\r\n            }\r\n        };\r\n        return  <div>\r\n                    <div className={css}>\r\n                        <ToolbarBlock\r\n                            onStyleClick={this.onStyleClick}\r\n                            currentBlockType={currentBlockType}\r\n                            currentInlineType={currentInlineType}\r\n                        />\r\n\r\n                        <div onClick={this.handleFocus} className=\"textEditor-base\">\r\n                            <Editor\r\n                                editorState={editorState}\r\n                                onChange={this.onChange}\r\n                                onFocus={this.onFocus}\r\n                                onBlur={this.onBlur}\r\n                                placeholder={placeholder}\r\n                                customStyleMap={styleMap}\r\n                                ref=\"editor\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <br />\r\n                </div>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/texteditor/TextEditor.tsx","import { ActionType } from \"../constants/actions\";\r\nimport { General } from \"../interfaces/General\";\r\nimport { ErrorState, Root } from \"../interfaces/State\";\r\nimport { Dispatch } from \"redux\";\r\n\r\nexport const setHasError = (hasError: boolean): General.Action<boolean> => {\r\n    return {\r\n        type: ActionType.SET_HAS_ERROR,\r\n        payload: hasError\r\n    };\r\n};\r\n\r\nexport const setErrorTitle = (title: string): General.Action<string> => {\r\n    return {\r\n        type: ActionType.SET_ERROR_TITLE,\r\n        payload: title\r\n    };\r\n};\r\n\r\nexport const clearErrorTitle = () => {\r\n    return {\r\n        type: ActionType.CLEAR_ERROR_TITLE\r\n    };\r\n};\r\n\r\nexport const clearErrorMessage = () => {\r\n    return {\r\n        type: ActionType.CLEAR_ERROR_MESSAGE\r\n    };\r\n};\r\n\r\nexport const setErrorMessage = (message: string): General.Action<string> => {\r\n    return {\r\n        type: ActionType.SET_ERROR_MESSAGE,\r\n        payload: message\r\n    };\r\n};\r\n\r\nexport const setError = (error: ErrorState) => {\r\n    return (dispatch: Dispatch<Root>) => {\r\n        dispatch(setHasError(true));\r\n        dispatch(setErrorTitle(error.title));\r\n        dispatch(setErrorMessage(error.message));\r\n        return Promise.resolve();\r\n    };\r\n};\r\n\r\nexport const clearError = () => {\r\n    return (dispatch: Dispatch<Root>) => {\r\n        dispatch(clearErrorTitle());\r\n        dispatch(clearErrorMessage());\r\n        dispatch(setHasError(false));\r\n        return Promise.resolve();\r\n    };\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/actions/error.ts","import { ActionType as T } from \"../constants/actions\";\r\nimport * as fetch from \"isomorphic-fetch\";\r\nimport { options, responseHandler } from \"../utilities/utils\";\r\nimport { General } from \"../interfaces/General\";\r\nimport { Data } from \"../interfaces/Data\";\r\nimport { normalizeThreadTitle } from \"../utilities/normalize\";\r\nimport { fetchResult } from \"../constants/types\";\r\nimport { startLoading } from \"./status\";\r\n\r\ntype Pagination<T> = Data.Raw.Pagination<T>;\r\ntype ThreadPostTitleDTO = Data.Raw.ThreadPostTitleDTO;\r\n\r\nexport const addThreadTitle = (title: Data.ForumTitle): General.Action<Data.ForumTitle[]> => {\r\n    return {\r\n        type: T.ADD_THREAD_TITLE,\r\n        payload: [title]\r\n    };\r\n};\r\n\r\nexport const setThreadTitles = (titles: Data.ForumTitle[]): General.Action<Data.ForumTitle[]> => {\r\n    return {\r\n        type: T.SET_THREAD_TITLES,\r\n        payload: titles\r\n    };\r\n};\r\n\r\nexport const setTotalPages = (totalPages: number): General.Action<number> => {\r\n    return {\r\n        type: T.SET_TOTAL_PAGES_THREADS,\r\n        payload: totalPages\r\n    };\r\n};\r\n\r\nexport const setPage = (page: number): General.Action<number> => {\r\n    return {\r\n        type: T.SET_PAGE_THREADS,\r\n        payload: page\r\n    };\r\n};\r\n\r\nexport const setSkip = (skip: number): General.Action<number> => {\r\n    return {\r\n        type: T.SET_SKIP_THREADS,\r\n        payload: skip\r\n    };\r\n};\r\n\r\nexport const setTake = (take: number): General.Action<number> => {\r\n    return {\r\n        type: T.SET_TAKE_THREADS,\r\n        payload: take\r\n    };\r\n};\r\n\r\nexport const setSelectedThread = (id: number): General.Action<number> => {\r\n    return {\r\n        type: T.SET_SELECTEDTHREAD_ID,\r\n        payload: id\r\n    };\r\n};\r\n\r\nexport const setPostContent = (content: string): General.Action<string> => {\r\n    return {\r\n        type: T.SET_POST_CONTENT,\r\n        payload: content\r\n    };\r\n};\r\n\r\nexport const markPost = (postId: number, read: boolean, cb: () => void): fetchResult<any, void> => {\r\n    return (dispatch) => {\r\n        dispatch(startLoading());\r\n        const url = `${globals.urls.forumpost}?postId=${postId}&read=${read}`;\r\n        const opt = <RequestInit> Object.assign({}, options, {\r\n            method: \"PUT\"\r\n        });\r\n        const handler = responseHandler(dispatch)(_ => null);\r\n        return fetch(url, opt)\r\n            .then(handler)\r\n            .then(cb);\r\n    };\r\n};\r\n\r\nexport const fetchThreads = (skip = 0, take = 10): fetchResult<any, void> => {\r\n    return (dispatch) => {\r\n        dispatch(startLoading());\r\n        const forum = globals.urls.forumtitle;\r\n        const url = `${forum}?skip=${skip}&take=${take}`;\r\n        const handler = responseHandler<Pagination<ThreadPostTitleDTO>>(dispatch)(r => r.json());\r\n        return fetch(url, options)\r\n            .then(handler)\r\n            .then(data => {\r\n                // Unprocessed forum titles\r\n                const pageForumTitles = data.CurrentItems;\r\n                const forumTitles = pageForumTitles.map(normalizeThreadTitle);\r\n\r\n                // Set info\r\n                dispatch(setSkip(skip));\r\n                dispatch(setTake(take));\r\n                dispatch(setTotalPages(data.TotalPages));\r\n                dispatch(setPage(data.CurrentPage));\r\n\r\n                // Set threads\r\n                dispatch(setThreadTitles(forumTitles));\r\n            });\r\n    };\r\n};\r\n\r\nexport const fetchPost = (id: number, cb?: () => void): fetchResult<any, void> => {\r\n    return (dispatch) => {\r\n        dispatch(startLoading());\r\n        const forum = globals.urls.forumpost;\r\n        const url = `${forum}?id=${id}`;\r\n        const handler = responseHandler<Data.Raw.ThreadPostContentDTO>(dispatch)(r => r.json());\r\n        return fetch(url, options)\r\n            .then(handler)\r\n            .then(data => {\r\n                const content = data.Text;\r\n                const title = normalizeThreadTitle(data.Header);\r\n\r\n                dispatch(addThreadTitle(title));\r\n                dispatch(setPostContent(content));\r\n                dispatch(setSelectedThread(data.ThreadID));\r\n            })\r\n            .then(cb);\r\n    };\r\n};\r\n\r\nexport const updatePost = (post: Data.Raw.Models.ThreadPostContent, cb: () => void): fetchResult<any, void> => {\r\n    return (dispatch) => {\r\n        dispatch(startLoading());\r\n        const url = `${globals.urls.forumpost}`;\r\n        const headers = new Headers();\r\n        headers.append(\"Content-Type\", \"application/json\");\r\n        const handler = responseHandler(dispatch)(_ => null);\r\n\r\n        const opt = <RequestInit>Object.assign({}, options, {\r\n            method: \"PUT\",\r\n            body: JSON.stringify(post),\r\n            headers: headers\r\n        });\r\n\r\n        return fetch(url, opt)\r\n            .then(handler)\r\n            .then(cb);\r\n    };\r\n};\r\n\r\nexport const deletePost = (id: number, cb: () => void): fetchResult<any, void> => {\r\n    return (dispatch) => {\r\n        dispatch(startLoading());\r\n        const url = `${globals.urls.forumpost}?id=${id}`;\r\n        const opt = <RequestInit>Object.assign({}, options, {\r\n            method: \"DELETE\"\r\n        });\r\n\r\n        const handler = responseHandler(dispatch)(_ => null);\r\n        return fetch(url, opt)\r\n            .then(handler)\r\n            .then(cb);\r\n    };\r\n};\r\n\r\nexport const postThread = (post: Partial<Data.Raw.Models.ThreadPostContent>, cb: () => void): fetchResult<any, void> => {\r\n    return (dispatch) => {\r\n        dispatch(startLoading());\r\n        const url = globals.urls.forumpost;\r\n        const headers = new Headers();\r\n        headers.append(\"Content-Type\", \"application/json\");\r\n        const opt = Object.assign({}, options, {\r\n            method: \"POST\",\r\n            body: JSON.stringify(post),\r\n            headers: headers\r\n        });\r\n\r\n        const handler = responseHandler(dispatch)(_ => null);\r\n\r\n        return fetch(url, opt)\r\n            .then(handler)\r\n            .then(cb);\r\n    };\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/actions/forum.ts","import { General } from \"../interfaces/General\";\r\nimport { responseHandler, options } from \"../utilities/utils\";\r\nimport { normalizeLatest as normalize } from \"../utilities/normalize\";\r\nimport { Dispatch } from \"redux\";\r\nimport { Root } from \"../interfaces/State\";\r\nimport { Data, WhatsNewType } from \"../interfaces/Data\";\r\nimport * as fetch from \"isomorphic-fetch\";\r\nimport { ActionType } from \"../constants/actions\";\r\nimport { addUser } from \"../actions/users\";\r\nimport { startLoading } from \"./status\";\r\n\r\nexport const setLatest = (latest: Data.WhatsNew[]): General.Action<Data.WhatsNew[]> => {\r\n    return {\r\n        type: ActionType.SET_LATEST,\r\n        payload: latest\r\n    };\r\n};\r\n\r\nexport const setSkip = (skip: number): General.Action<number> => {\r\n    return {\r\n        type: ActionType.SET_SKIP_WHATS_NEW,\r\n        payload: skip\r\n    };\r\n};\r\n\r\nexport const setTake = (take: number): General.Action<number> => {\r\n    return {\r\n        type: ActionType.SET_TAKE_WHATS_NEW,\r\n        payload: take\r\n    };\r\n};\r\n\r\nexport const setPage = (page: number): General.Action<number> => {\r\n    return {\r\n        type: ActionType.SET_PAGE_WHATS_NEW,\r\n        payload: page\r\n    };\r\n};\r\n\r\nexport const setTotalPages = (totalPages: number): General.Action<number> => {\r\n    return {\r\n        type: ActionType.SET_TOTAL_PAGES_WHATS_NEW,\r\n        payload: totalPages\r\n    };\r\n};\r\n\r\nexport const fetchLatestNews = (skip: number, take: number): any => {\r\n    return function(dispatch: Dispatch<Root>): Promise<void> {\r\n        dispatch(startLoading());\r\n        const url = `${globals.urls.whatsnew}?skip=${skip}&take=${take}`;\r\n        const handler = responseHandler<Data.Raw.Pagination<Data.Raw.WhatsNewItem>>(dispatch)(r => r.json());\r\n        return fetch(url, options)\r\n            .then(handler)\r\n            .then(page => {\r\n                const items = page.CurrentItems;\r\n                items.forEach(item => {\r\n                    const author = getAuthor(item.Type, item.Item);\r\n                    if (author) {\r\n                        dispatch(addUser(author));\r\n                    }\r\n                });\r\n\r\n                // Reset info\r\n                dispatch(setSkip(skip));\r\n                dispatch(setTake(take));\r\n                dispatch(setPage(page.CurrentPage));\r\n                dispatch(setTotalPages(page.TotalPages));\r\n\r\n                const normalized = items.map(normalize);\r\n                dispatch(setLatest(normalized));\r\n           });\r\n    };\r\n};\r\n\r\nconst getAuthor = (type: WhatsNewType, item: Data.Raw.ImageDTO | Data.Raw.WhatsNewImageCommentDTO | Data.Raw.ThreadPostContentDTO): Data.User => {\r\n    let author: Data.User = null;\r\n    if (type === WhatsNewType.ForumPost) {\r\n        author = (<Data.Raw.ThreadPostContentDTO>item).Header.Author;\r\n    } else {\r\n        author = (<Data.Raw.ImageDTO>item).Author;\r\n    }\r\n    return author;\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/actions/whatsnew.ts","import * as React from \"react\";\r\nimport { Link } from \"react-router\";\r\nimport { Components } from \"../../interfaces/Components\";\r\n\r\nexport class Breadcrumb extends React.Component<null, null> {\r\n    render() {\r\n        return  <ol className=\"breadcrumb\">\r\n                    {this.props.children}\r\n                </ol>;\r\n    }\r\n}\r\n\r\nexport namespace Breadcrumb {\r\n    export class Item extends React.Component<Components.BreadcrumbItem, null> {\r\n        render() {\r\n            const { href, active } = this.props;\r\n            if (active) return <li className=\"active\">\r\n                {this.props.children}\r\n            </li>;\r\n\r\n            return <li>\r\n                <Link to={href}>\r\n                    {this.props.children}\r\n                </Link>\r\n            </li>;\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/breadcrumbs/Breadcrumb.tsx","import * as React from \"react\";\r\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\n\r\ninterface StateProps {\r\n    tooltip: string;\r\n}\r\n\r\nexport class WhatsNewTooltip extends React.Component<StateProps, any> {\r\n    tooltipView(tip: string) {\r\n        return  <Tooltip id=\"tooltip\">{tip}</Tooltip>;\r\n    }\r\n\r\n    render() {\r\n        const { tooltip, children } = this.props;\r\n        return  <OverlayTrigger placement=\"left\" overlay={this.tooltipView(tooltip)}>\r\n                    {children}\r\n                </OverlayTrigger>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/whatsnew/WhatsNewTooltip.tsx","import { Data, WhatsNewType } from \"../interfaces/Data\";\r\n\r\nexport const normalizeLatest = (latest: Data.Raw.WhatsNewItem): Data.WhatsNew => {\r\n    let item = null;\r\n    let authorId = -1;\r\n    if (latest.Type === WhatsNewType.Image) {\r\n        // Image - omit Author and CommentCount\r\n        const image = <Data.Raw.ImageDTO>latest.Item;\r\n        item = <Data.WhatsNewImage>{\r\n            Extension: image.Extension,\r\n            Filename: image.Filename,\r\n            ImageID: image.ImageID,\r\n            OriginalUrl: image.OriginalUrl,\r\n            PreviewUrl: image.PreviewUrl,\r\n            ThumbnailUrl: image.ThumbnailUrl,\r\n            Uploaded: image.Uploaded,\r\n            Description: image.Description\r\n        };\r\n        authorId = image.Author.ID;\r\n    }\r\n    else if (latest.Type === WhatsNewType.Comment) {\r\n        // Comment - omit Author and Deleted and Replies\r\n        const comment = <Data.Raw.WhatsNewImageCommentDTO>latest.Item;\r\n        item = {\r\n            ID: comment.ID,\r\n            Text: comment.Text,\r\n            ImageID: comment.ImageID,\r\n            ImageUploadedBy: comment.ImageUploadedBy,\r\n            Filename: comment.Filename\r\n        };\r\n        authorId = comment.Author.ID;\r\n    }\r\n    else if (latest.Type === WhatsNewType.ForumPost) {\r\n        const post = <Data.Raw.ThreadPostContentDTO>latest.Item;\r\n        item = {\r\n            ID: post.ThreadID,\r\n            Title: post.Header.Title,\r\n            Text: post.Text,\r\n            Sticky: post.Header.Sticky,\r\n            CommentCount: post.Header.CommentCount\r\n        };\r\n        authorId = post.Header.Author.ID;\r\n    }\r\n\r\n    return {\r\n        ID: latest.ID,\r\n        Type: latest.Type,\r\n        Item: item,\r\n        On: latest.On,\r\n        AuthorID: authorId,\r\n    };\r\n};\r\n\r\nexport const normalizeImage = (img: Data.Raw.ImageDTO): Data.Image => {\r\n    return {\r\n        ImageID: img.ImageID,\r\n        Filename: img.Filename,\r\n        Extension: img.Extension,\r\n        OriginalUrl: img.OriginalUrl,\r\n        PreviewUrl: img.PreviewUrl,\r\n        ThumbnailUrl: img.ThumbnailUrl,\r\n        CommentCount: img.CommentCount,\r\n        Uploaded: new Date(img.Uploaded),\r\n        Description: img.Description\r\n    };\r\n};\r\n\r\nexport const normalizeThreadTitle = (title: Data.Raw.ThreadPostTitleDTO): Data.ForumTitle => {\r\n    const viewedBy = title.ViewedBy.map(user => user.ID);\r\n    const latestComment = title.LatestComment ? normalizeComment(title.LatestComment) : null;\r\n    return {\r\n        ID: title.ID,\r\n        IsPublished: title.IsPublished,\r\n        Sticky: title.Sticky,\r\n        CreatedOn: title.CreatedOn,\r\n        AuthorID: title.Author.ID,\r\n        Deleted: title.Deleted,\r\n        IsModified: title.IsModified,\r\n        Title: title.Title,\r\n        LastModified: title.LastModified,\r\n        LatestComment: latestComment,\r\n        CommentCount: title.CommentCount,\r\n        ViewedBy: viewedBy,\r\n    };\r\n};\r\n\r\nexport const normalizeComment = (comment: Data.Raw.Comment): Data.Comment => {\r\n    let r = comment.Replies ? comment.Replies : [];\r\n    const replies = r.map(normalizeComment);\r\n    const authorId = (comment.Deleted) ? -1 : comment.Author.ID;\r\n    return {\r\n        CommentID: comment.ID,\r\n        AuthorID: authorId,\r\n        Deleted: comment.Deleted,\r\n        PostedOn: comment.PostedOn,\r\n        Text: comment.Text,\r\n        Replies: replies,\r\n        Edited: comment.Edited\r\n    };\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/utilities/normalize.ts","import * as React from \"react\";\r\nimport { ForumForm } from \"../forum/ForumForm\";\r\nimport { ButtonTooltip } from \"../comments/CommentControls\";\r\nimport { markPost, updatePost, fetchPost, deletePost, setSelectedThread } from \"../../actions/forum\";\r\nimport { find, contains } from \"underscore\";\r\nimport {  getFullName, formatText } from \"../../utilities/utils\";\r\nimport { Row, Col, Glyphicon, ButtonToolbar, ButtonGroup } from \"react-bootstrap\";\r\nimport { withRouter, InjectedRouter } from \"react-router\";\r\nimport { connect, Dispatch } from \"react-redux\";\r\nimport { Root } from \"../../interfaces/State\";\r\nimport { Data } from \"../../interfaces/Data\";\r\n\r\ninterface StateToPropsPost {\r\n    selected: number;\r\n    title: Data.ForumTitle;\r\n    text: string;\r\n    getUser: (id: number) => Data.User;\r\n    canEdit: (id: number) => boolean;\r\n    hasRead: boolean;\r\n}\r\n\r\ninterface DispatchToPropsPost {\r\n    update: (post: Data.Raw.Models.ThreadPostContent, cb: () => void) => void;\r\n    getPost: (id: number) => any;\r\n    deletePost: (id: number, cb: Function) => void;\r\n    readPost: (postId: number, read: boolean, cb: Function) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: Root): StateToPropsPost => {\r\n    const selected = state.forumInfo.titlesInfo.selectedThread;\r\n    const title = find(state.forumInfo.titlesInfo.titles, (title) => title.ID === selected);\r\n    return {\r\n        selected: selected,\r\n        title: title,\r\n        text: state.forumInfo.postContent,\r\n        getUser: (id) => state.usersInfo.users[id],\r\n        canEdit: (id) => state.usersInfo.currentUserId === id,\r\n        hasRead: title ? contains(title.ViewedBy, state.usersInfo.currentUserId) : false,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<any>): DispatchToPropsPost => {\r\n    return {\r\n        update: (post: Data.Raw.Models.ThreadPostContent, cb: () => void) => {\r\n            dispatch(updatePost(post, cb));\r\n        },\r\n        getPost: (id: number) => {\r\n            dispatch(fetchPost(id))\r\n            .then(() => dispatch(setSelectedThread(id)));\r\n        },\r\n        deletePost: (id: number, cb: () => void) => {\r\n            dispatch(deletePost(id, cb));\r\n        },\r\n        readPost: (postId: number, read: boolean, cb: () => void) => {\r\n            dispatch(markPost(postId, read, cb));\r\n        }\r\n    };\r\n};\r\n\r\ninterface ComponentState {\r\n    edit?: boolean;\r\n    model?: {\r\n        ThreadID: number,\r\n        Title: string\r\n        Text: string\r\n        Sticky: boolean\r\n        IsPublished: boolean\r\n    };\r\n}\r\n\r\nclass ForumPostContainer extends React.Component<StateToPropsPost & DispatchToPropsPost & { router: InjectedRouter }, ComponentState> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            edit: false\r\n        };\r\n\r\n        this.toggleEdit = this.toggleEdit.bind(this);\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.deleteHandle = this.deleteHandle.bind(this);\r\n        this.togglePostRead = this.togglePostRead.bind(this);\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps: any) {\r\n        const hasTitle = Boolean(nextProps.title);\r\n        if (!hasTitle) return;\r\n\r\n        const title = nextProps.title as Data.ForumTitle;\r\n\r\n        this.setState({\r\n            model: {\r\n                ThreadID: title.ID,\r\n                Title: title.Title,\r\n                Text: nextProps.text,\r\n                Sticky: title.Sticky,\r\n                IsPublished: title.IsPublished\r\n            },\r\n        });\r\n\r\n        document.title = nextProps.title.Title;\r\n    }\r\n\r\n    deleteHandle() {\r\n        const { router, deletePost, title } = this.props;\r\n        const cb = () => {\r\n            const forumlists = `/forum`;\r\n            router.push(forumlists);\r\n        };\r\n\r\n        deletePost(title.ID, cb);\r\n    }\r\n\r\n    toggleEdit() {\r\n        const edit = this.state.edit;\r\n        this.setState({ edit: !edit });\r\n    }\r\n\r\n    onSubmit(post: Data.Raw.Models.ThreadPostContent) {\r\n        const { update, getPost, title } = this.props;\r\n        const cb = () => {\r\n            getPost(title.ID);\r\n        };\r\n\r\n        update(post, cb);\r\n    }\r\n\r\n    togglePostRead(toggle: boolean) {\r\n        const { getPost, readPost, title } = this.props;\r\n        const cb = () => {\r\n            getPost(title.ID);\r\n        };\r\n\r\n        readPost(title.ID, toggle, cb);\r\n    }\r\n\r\n    close() {\r\n        this.setState({ edit: false });\r\n    }\r\n\r\n    render() {\r\n        const { canEdit, selected, title, text, getUser, hasRead } = this.props;\r\n        if (selected < 0 || !title) return null;\r\n\r\n        const edit = canEdit(title.AuthorID);\r\n        const user = getUser(title.AuthorID);\r\n        const author = getFullName(user);\r\n        return  <Row>\r\n                    <ForumHeader lg={12} name={author} title={title.Title} createdOn={title.CreatedOn} modifiedOn={title.LastModified}>\r\n                        <ForumButtonGroup\r\n                            show={true}\r\n                            editable={edit}\r\n                            initialRead={hasRead}\r\n                            onDelete={this.deleteHandle}\r\n                            onEdit={this.toggleEdit}\r\n                            onRead={this.togglePostRead.bind(this, true)}\r\n                            onUnread={this.togglePostRead.bind(this, false)} />\r\n                    </ForumHeader>\r\n                    <ForumBody text={text} lg={10}>\r\n                        <hr />\r\n                        {this.props.children}\r\n                    </ForumBody>\r\n                    <ForumForm\r\n                        show={this.state.edit}\r\n                        close={this.close.bind(this)}\r\n                        onSubmit={this.onSubmit.bind(this)}\r\n                        edit={this.state.model} />\r\n                </Row>;\r\n    }\r\n}\r\n\r\ninterface ForumBodyProps {\r\n    text: string;\r\n    lg?: number;\r\n    lgOffset?: number;\r\n}\r\n\r\nexport class ForumBody extends React.Component<ForumBodyProps, any> {\r\n    render() {\r\n        const { text, lg, lgOffset } = this.props;\r\n        const formattedText = formatText(text);\r\n        return  <Row>\r\n                    <Col lg={lg} lgOffset={lgOffset}>\r\n                        <p className=\"forum-content\" dangerouslySetInnerHTML={formattedText}/>\r\n                        <Row>\r\n                            <Col lg={12}>\r\n                                {this.props.children}\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>;\r\n    }\r\n}\r\n\r\ninterface ForumHeaderProps {\r\n    createdOn?: Date;\r\n    modifiedOn?: Date;\r\n    title: string;\r\n    name: string;\r\n    lg?: number;\r\n    lgOffset?: number;\r\n}\r\n\r\nexport class ForumHeader extends React.Component<ForumHeaderProps, any> {\r\n    getCreatedOnText(createdOn: Date, modifiedOn: Date) {\r\n        const date = moment(createdOn);\r\n        const dateText = date.format(\"D-MM-YY\");\r\n        const timeText = date.format(\" H:mm\");\r\n        if (!modifiedOn)\r\n            return `Udgivet ${dateText} kl. ${timeText}`;\r\n\r\n        const modified = moment(modifiedOn);\r\n        const modifiedDate = modified.format(\"D-MM-YY\");\r\n        const modifiedTime = modified.format(\"H:mm\");\r\n        return `Udgivet ${dateText} kl. ${timeText} ( rettet ${modifiedDate} kl. ${modifiedTime} )`;\r\n    }\r\n\r\n    render() {\r\n        const { title, name, createdOn, modifiedOn, lg, lgOffset } = this.props;\r\n        const created = this.getCreatedOnText(createdOn, modifiedOn);\r\n        const props = { lg: lg, lgOffset: lgOffset };\r\n        return  <Row>\r\n                    <Col {...props}>\r\n                        <h3>\r\n                            <span className=\"text-capitalize\">{title}</span><br />\r\n                            <small>Skrevet af {name}</small>\r\n                        </h3>\r\n                        <small className=\"text-primary\"><Glyphicon glyph=\"time\" /> {created}</small>\r\n                        <Row>\r\n                            {this.props.children}\r\n                        </Row>\r\n                    </Col>\r\n                </Row>;\r\n\r\n    }\r\n}\r\n\r\ninterface ForumButtonGroupProps {\r\n    show: boolean;\r\n    editable: boolean;\r\n    initialRead: boolean;\r\n    onDelete: () => void;\r\n    onEdit: (e: React.MouseEvent<any>) => void;\r\n    onRead: () => void;\r\n    onUnread: () => void;\r\n}\r\n\r\ninterface ForumButtonGroupState {\r\n    read: boolean;\r\n}\r\n\r\n// props: { show, editable, initialRead, onDelete, onEdit, onRead, onUnread }\r\nexport class ForumButtonGroup extends React.Component<ForumButtonGroupProps, ForumButtonGroupState> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            read: props.initialRead\r\n        };\r\n\r\n        this.readHandle = this.readHandle.bind(this);\r\n        this.unreadHandle = this.unreadHandle.bind(this);\r\n    }\r\n\r\n    readHandle() {\r\n        const { onRead } = this.props;\r\n        if (this.state.read) return;\r\n\r\n        this.setState({ read: true });\r\n        onRead();\r\n    }\r\n\r\n    unreadHandle() {\r\n        const { onUnread } = this.props;\r\n        if (!this.state.read) return;\r\n\r\n        this.setState({ read: false });\r\n        onUnread();\r\n    }\r\n\r\n    render() {\r\n        const { editable, show, onDelete, onEdit } = this.props;\r\n        if (!show) return null;\r\n\r\n        const { read } = this.state;\r\n        return  <Col lg={12} className=\"forum-editbar\">\r\n                    <ButtonToolbar>\r\n                        <ButtonGroup>\r\n                            <ButtonTooltip bsStyle=\"danger\" onClick={onDelete} icon=\"trash\" tooltip=\"slet indlg\" mount={editable} />\r\n                            <ButtonTooltip bsStyle=\"primary\" onClick={onEdit} icon=\"pencil\" tooltip=\"ndre indlg\" active={false} mount={editable} />\r\n                            <ButtonTooltip bsStyle=\"primary\" onClick={this.readHandle} icon=\"eye-open\" tooltip=\"marker som lst\" active={read} mount={true} />\r\n                            <ButtonTooltip bsStyle=\"primary\" onClick={this.unreadHandle} icon=\"eye-close\" tooltip=\"marker som ulst\" active={!read} mount={true} />\r\n                        </ButtonGroup>\r\n                    </ButtonToolbar>\r\n                </Col>;\r\n    }\r\n}\r\n\r\nconst ForumPostRedux = connect(mapStateToProps, mapDispatchToProps)(ForumPostContainer);\r\nconst ForumPost = withRouter(ForumPostRedux);\r\nexport default ForumPost;\n\n\n// WEBPACK FOOTER //\n// ./src/components/containers/ForumPost.tsx","import { createStore, applyMiddleware, Store } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"../reducers/root\";\r\nimport { Root } from \"../interfaces/State\";\r\n\r\nconst store: Store<Root> = createStore(rootReducer, applyMiddleware(thunk));\r\nexport default store;\n\n\n// WEBPACK FOOTER //\n// ./src/store/store.ts","import { General as G } from \"../interfaces/General\";\r\nimport { Root } from \"../interfaces/State\";\r\nimport { setError } from \"../actions/error\";\r\nimport { Dispatch } from \"redux\";\r\nimport * as marked from \"marked\";\r\nimport removeMd from \"remove-markdown\";\r\nimport { Data } from \"../interfaces/Data\";\r\nimport { endLoading } from \"../actions/status\";\r\n\r\n/// T: The element type, in the array\r\n/// V: The value type, saved in the associative array\r\nexport const objMap = <T, V>(arr: T[], key: G.FunctionGeneric<T, number>, val: G.FunctionGeneric<T, V> ): G.KeyValue<V> => {\r\n    const obj = arr.reduce((res: G.KeyValue<V>, item: T) => {\r\n        const k = key(item);\r\n        const v = val(item);\r\n        res[k] = v;\r\n        return res;\r\n    }, {});\r\n\r\n    return obj;\r\n};\r\n\r\nexport const put = <V>(obj: G.KeyValue<V>, key: number, value: V): G.KeyValue<V> => {\r\n    let kv: G.KeyValue<V> = Object.assign({}, obj);\r\n    kv[key] = value;\r\n    return kv;\r\n};\r\n\r\nexport const options: RequestInit = {\r\n    mode: \"cors\",\r\n    credentials: \"include\"\r\n};\r\n\r\nexport const responseHandler =  <T>(dispatch: Dispatch<Root>) => (onSuccess: (r: Response) => Promise<T>) => (response: Response) => {\r\n    dispatch(endLoading());\r\n    if (response.ok) return onSuccess(response);\r\n    else {\r\n        switch (response.status) {\r\n            case 400:\r\n                dispatch<any>(setError({ title: \"400 Bad Request\", message: \"The request was not well-formed\"}));\r\n                break;\r\n            case 404:\r\n                dispatch<any>(setError({ title: \"404 Not Found\", message: \"Could not find resource\"}));\r\n                break;\r\n            case 408:\r\n                dispatch<any>(setError({ title: \"408 Request Timeout\", message: \"The server did not respond in time\"}));\r\n                break;\r\n            case 500:\r\n                dispatch<any>(setError({ title: \"500 Server Error\", message: \"Something went wrong with the API-server\"}));\r\n                break;\r\n            default:\r\n                dispatch<any>(setError({ title: \"Oops\", message: \"Something went wrong!\"}));\r\n                break;\r\n        }\r\n    }\r\n\r\n    return null;\r\n};\r\n\r\nexport const union = <T>(arr1: T[], arr2: T[], equalityFunc: (v1: T, v2: T) => boolean): T[] => {\r\n    let result = arr1.concat(arr2);\r\n    // Better way: loop over 1 array and check\r\n    // if corresponding item exist in the other array using equality function\r\n    // If not exists: add item to array 2\r\n\r\n    for (let i = 0; i < result.length; i++) {\r\n        for (let j = i + 1; j < result.length; j++) {\r\n            if (equalityFunc(result[i], result[j])) {\r\n                result.splice(j, 1);\r\n                j--;\r\n            }\r\n        }\r\n    }\r\n\r\n    return result;\r\n};\r\n\r\nexport const timeText = (postedOn: Date, expire: number = 12.5) => {\r\n    const ago = moment(postedOn).fromNow();\r\n    const diff = moment().diff(postedOn, \"hours\", true);\r\n    if (diff >= expire) {\r\n        const date = moment(postedOn);\r\n        return `d. ${date.format(\"D MMM YYYY \")} kl. ${date.format(\"H:mm\")}`;\r\n    }\r\n\r\n    return \"for \" + ago;\r\n};\r\n\r\nexport const formatText = (text: string) => {\r\n    if (!text) return null;\r\n    const rawMarkup = marked(text, { sanitize: true });\r\n    return { __html: rawMarkup };\r\n};\r\n\r\nexport const getWords = (text: string, numberOfWords: number) => {\r\n    if (!text) return \"\";\r\n    const plainText = removeMd(text);\r\n    return plainText.split(/\\s+/).slice(0, numberOfWords).join(\" \");\r\n};\r\n\r\nexport const getFullName = (user: Data.User, none = \"\") => {\r\n    if (!user) return none;\r\n    return `${user.FirstName} ${user.LastName}`;\r\n};\r\n\r\nexport const visitComments = (comments: Data.Comment[], func: (current: Data.Comment) => void) => {\r\n    const getReplies = (c: Data.Comment) => c.Replies ? c.Replies : [];\r\n    for (let i = 0; i < comments.length; i++) {\r\n        depthFirstSearch(comments[i], getReplies, func);\r\n    }\r\n};\r\n\r\nexport const depthFirstSearch = (current: Data.Comment, getChildren: (current: Data.Comment) => Data.Comment[], func: (current: Data.Comment) => void) => {\r\n    func(current);\r\n    const children = getChildren(current);\r\n    for (let i = 0; i < children.length; i++) {\r\n        depthFirstSearch(children[i], getChildren, func);\r\n    }\r\n};\r\n\r\nexport const normalizeComment = (comment: Data.Raw.Comment): Data.Comment => {\r\n    let r = comment.Replies ? comment.Replies : [];\r\n    const replies = r.map(normalizeComment);\r\n    const authorId = (comment.Deleted) ? -1 : comment.Author.ID;\r\n    return {\r\n        CommentID: comment.ID,\r\n        AuthorID: authorId,\r\n        Deleted: comment.Deleted,\r\n        PostedOn: comment.PostedOn,\r\n        Text: comment.Text,\r\n        Replies: replies,\r\n        Edited: comment.Edited\r\n    };\r\n};\r\n\r\nexport const getForumCommentsDeleteUrl = (commentId: number): string => {\r\n    return `${globals.urls.forumcomments}?commentId=${commentId}`;\r\n};\r\n\r\nexport const getForumCommentsPageUrl = (postId: number, skip: number, take: number) => {\r\n    return `${globals.urls.forumcomments}?postId=${postId}&skip=${skip}&take=${take}`;\r\n};\r\n\r\nexport const getImageCommentsPageUrl = (imageId: number, skip: number, take: number) => {\r\n    return `${globals.urls.imagecomments}?imageId=${imageId}&skip=${skip}&take=${take}`;\r\n};\r\n\r\nexport const getImageCommentsDeleteUrl = (commentId: number) => {\r\n    return `${globals.urls.imagecomments}?commentId=${commentId}`;\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/utilities/utils.ts","import * as React from \"react\";\r\nimport { CommentControls } from \"./CommentControls\";\r\nimport { CommentProfile } from \"./CommentProfile\";\r\nimport { formatText, timeText } from \"../../utilities/utils\";\r\nimport { Media } from \"react-bootstrap\";\r\nimport { Components } from \"../../interfaces/Components\";\r\n\r\nexport class Comment extends React.Component<Components.CommentProps, any> {\r\n    ago() {\r\n        const { postedOn } = this.props;\r\n        return timeText(postedOn);\r\n    }\r\n\r\n    editedView(edited: boolean) {\r\n        if (!edited) return null;\r\n        return  <span>*</span>;\r\n    }\r\n\r\n    render() {\r\n        const { canEdit, contextId, name, text, commentId, replies, construct, authorId, edited } = this.props;\r\n        const { editComment, deleteComment, replyComment } = this.props;\r\n        const props = { editComment, deleteComment, replyComment };\r\n        const txt = formatText(text);\r\n        const replyNodes = replies.map(reply => construct(reply));\r\n\r\n        return  <Media>\r\n                    <CommentProfile />\r\n                    <Media.Body>\r\n                        <h5 className=\"media-heading\">\r\n                            <strong>{name}</strong> <small>sagde {this.ago()}{this.editedView(edited)}</small>\r\n                        </h5>\r\n                        <span dangerouslySetInnerHTML={txt}></span>\r\n                        <CommentControls\r\n                            contextId={contextId}\r\n                            canEdit={canEdit}\r\n                            authorId={authorId}\r\n                            commentId={commentId}\r\n                            text={text}\r\n                            {...props}\r\n                        />\r\n                        {replyNodes}\r\n                    </Media.Body>\r\n                </Media>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/comments/Comment.tsx","import * as React from \"react\";\r\nimport { Row, Col, ButtonToolbar, ButtonGroup, OverlayTrigger, Button, Glyphicon, Tooltip, Collapse, FormGroup } from \"react-bootstrap\";\r\nimport { Components } from \"../../interfaces/Components\";\r\nimport { TextEditor } from \"../texteditor/TextEditor\";\r\n\r\ninterface CommentControlsState {\r\n    reply: boolean;\r\n    edit: boolean;\r\n    editId: string;\r\n    replyId: string;\r\n}\r\n\r\nexport class ButtonTooltip extends React.Component<Components.ButtonTooltipProps, null> {\r\n    render() {\r\n        const { tooltip, onClick, icon, bsStyle, active, mount } = this.props;\r\n        let overlayTip = <Tooltip id=\"tooltip\">{tooltip}</Tooltip>;\r\n\r\n        if (!mount) return null;\r\n\r\n        return  <OverlayTrigger placement=\"top\" overlay={overlayTip}>\r\n                    <Button bsStyle={bsStyle} bsSize=\"xsmall\" onClick={onClick} active={active}>\r\n                        <Glyphicon glyph={icon} />\r\n                    </Button>\r\n                </OverlayTrigger>;\r\n    }\r\n}\r\n\r\nexport class CommentControls extends React.Component<Components.CommentControlsProps, Partial<CommentControlsState>> {\r\n    constructor(props: Components.CommentControlsProps) {\r\n        super(props);\r\n\r\n        const editId = \"editTextControl_\" + props.commentId + \"_\" + props.contextId;\r\n        const replyId = \"replyTextControl_\" + props.commentId + \"_\" + props.contextId;\r\n\r\n        this.state = {\r\n            reply: false,\r\n            edit: false,\r\n            editId,\r\n            replyId\r\n        };\r\n\r\n\r\n        this.toggleEdit = this.toggleEdit.bind(this);\r\n        this.toggleReply = this.toggleReply.bind(this);\r\n\r\n        this.editHandle = this.editHandle.bind(this);\r\n        this.replyHandle = this.replyHandle.bind(this);\r\n        this.deleteHandle = this.deleteHandle.bind(this);\r\n    }\r\n\r\n    toggleEdit() {\r\n        const { text } = this.props;\r\n        const { edit, editId } = this.state;\r\n        this.setState({ edit: !edit });\r\n\r\n        // The edit is toggled but since it's constant it doesn't change\r\n        // hence we dont negate it\r\n        if (edit) {\r\n            const editor = this.refs[editId] as CollapseTextArea;\r\n            editor.setText(text);\r\n        }\r\n    }\r\n\r\n    toggleReply() {\r\n        const { reply, replyId } = this.state;\r\n        this.setState({ reply: !reply });\r\n\r\n        if (!reply) {\r\n            const editor = this.refs[replyId] as CollapseTextArea;\r\n            editor.setText(\"\");\r\n        }\r\n    }\r\n\r\n    deleteHandle() {\r\n        const { deleteComment, commentId, contextId } = this.props;\r\n        deleteComment(commentId, contextId);\r\n    }\r\n\r\n    editHandle(text: string) {\r\n        const { editComment, contextId, commentId } = this.props;\r\n\r\n        this.setState({ edit: false });\r\n        editComment(commentId, contextId, text);\r\n    }\r\n\r\n    replyHandle(text: string) {\r\n        const { commentId, contextId, replyComment } = this.props;\r\n\r\n        this.setState({ reply: false });\r\n        replyComment(contextId, text, commentId);\r\n    }\r\n\r\n    render() {\r\n        const { authorId, canEdit, text } = this.props;\r\n        const { edit, reply, editId, replyId } = this.state;\r\n        const mount = canEdit(authorId);\r\n\r\n        return  <Row>\r\n                    <Row style={{paddingBottom: \"5px\", paddingLeft: \"15px\"}}>\r\n                        <Col lg={4}>\r\n                            <ButtonToolbar>\r\n                                <ButtonGroup>\r\n\r\n                                    <ButtonTooltip bsStyle=\"primary\" onClick={this.deleteHandle} icon=\"trash\" tooltip=\"slet\" mount={mount} />\r\n                                    <ButtonTooltip bsStyle=\"primary\" onClick={this.toggleEdit} icon=\"pencil\" tooltip=\"ndre\" active={edit} mount={mount} />\r\n                                    <ButtonTooltip bsStyle=\"primary\" onClick={this.toggleReply} icon=\"envelope\" tooltip=\"svar\" active={reply} mount={true} />\r\n\r\n                                </ButtonGroup>\r\n                            </ButtonToolbar>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row style={{paddingBottom: \"5px\"}}>\r\n                        <Col lgOffset={1} lg={10}>\r\n                            <CollapseTextArea\r\n                                show={edit}\r\n                                id={editId}\r\n                                value={text}\r\n                                toggle={this.toggleEdit}\r\n                                onSubmit={this.editHandle}\r\n                                submitText=\"Gem ndringer\"\r\n                                mount={mount}\r\n                                ref={editId}\r\n                            />\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col lgOffset={1} lg={10}>\r\n                            <CollapseTextArea\r\n                                show={reply}\r\n                                id={replyId}\r\n                                value=\"\"\r\n                                toggle={this.toggleReply}\r\n                                onSubmit={this.replyHandle}\r\n                                submitText=\"Svar\"\r\n                                mount={true}\r\n                                ref={replyId}\r\n                            />\r\n                        </Col>\r\n                    </Row>\r\n                </Row>;\r\n    }\r\n}\r\n\r\nclass CollapseTextArea extends React.Component<Components.CollapseTextAreaProps, null> {\r\n    constructor(props: any) {\r\n        super(props);\r\n\r\n        this.onClick = this.onClick.bind(this);\r\n        this.setText = this.setText.bind(this);\r\n    }\r\n\r\n    onClick() {\r\n        const { onSubmit, id } = this.props;\r\n\r\n        const editor = this.refs[id] as TextEditor;\r\n        const text = editor.getText();\r\n        onSubmit(text);\r\n    }\r\n\r\n    setText(text: string) {\r\n        const{ id } = this.props;\r\n        const editor = this.refs[id] as TextEditor;\r\n        editor.setText(text);\r\n    }\r\n\r\n    render() {\r\n        const { value, show, id, toggle, submitText, mount } = this.props;\r\n        if (!mount) return null;\r\n        return  <Collapse in={show}>\r\n                    <FormGroup controlId={id}>\r\n                        <br />\r\n                        <ButtonToolbar>\r\n                            <TextEditor\r\n                                placeholder=\"Skriv kommentar her...\"\r\n                                markdown={value}\r\n                                ref={id}\r\n                            />\r\n                            <Button onClick={toggle}>Luk</Button>\r\n                            <Button bsStyle=\"info\" onClick={this.onClick}>{submitText}</Button>\r\n                        </ButtonToolbar>\r\n                    </FormGroup>\r\n                </Collapse>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/comments/CommentControls.tsx","import * as React from \"react\";\r\nimport { CommentDeleted } from \"./CommentDeleted\";\r\nimport { Comment } from \"./Comment\";\r\nimport { Media } from \"react-bootstrap\";\r\nimport { Components } from \"../../interfaces/Components\";\r\nimport { Data } from \"../../interfaces/Data\";\r\n\r\nexport class CommentList extends React.Component<Components.CommentList, null> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.constructComment = this.constructComment.bind(this);\r\n    }\r\n\r\n    rootComments(comments: Data.Comment[]) {\r\n        if (!comments) return null;\r\n\r\n        return comments.map((comment) => {\r\n            const node = this.constructComment(comment);\r\n            return  <Media.ListItem key={\"rootComment_\" + comment.CommentID}>\r\n                        {node}\r\n                    </Media.ListItem>;\r\n        });\r\n    }\r\n\r\n    constructComment(comment: Data.Comment): JSX.Element {\r\n        const key = \"commentId\" + comment.CommentID;\r\n\r\n        if (comment.Deleted)\r\n            return  <CommentDeleted\r\n                        key={key}\r\n                        construct={this.constructComment}\r\n                        replies={comment.Replies} />;\r\n\r\n        const { contextId, getName, canEdit } = this.props;\r\n        const { skip, take, editComment, deleteComment, replyComment } = this.props;\r\n        const controls = { skip, take, editComment, deleteComment, replyComment };\r\n        const name = getName(comment.AuthorID);\r\n        return  <Comment\r\n                    key={key}\r\n                    contextId={contextId}\r\n                    name={name}\r\n                    postedOn={comment.PostedOn}\r\n                    authorId={comment.AuthorID}\r\n                    text={comment.Text}\r\n                    construct={this.constructComment}\r\n                    replies={comment.Replies}\r\n                    edited={comment.Edited}\r\n                    canEdit={canEdit}\r\n                    commentId={comment.CommentID}\r\n                    {...controls}\r\n                />;\r\n    }\r\n\r\n    render() {\r\n        const { comments } = this.props;\r\n        const nodes = this.rootComments(comments);\r\n\r\n        return  <Media.List>\r\n                    {nodes}\r\n                </Media.List>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/comments/CommentList.tsx","import * as React from \"react\";\r\nimport { connect, Dispatch } from \"react-redux\";\r\nimport { Row, Col, ProgressBar } from \"react-bootstrap\";\r\nimport { fetchSpaceInfo } from \"../../actions/status\";\r\nimport { Root } from \"../../interfaces/State\";\r\n\r\ninterface StateToProps {\r\n    usedMB: number;\r\n    totalMB: number;\r\n    loaded: boolean;\r\n}\r\n\r\ninterface DispatchToProps {\r\n    getSpaceInfo: (url: string) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: Root) => {\r\n    return {\r\n        usedMB: (state.statusInfo.spaceInfo.usedSpacekB / 1000),\r\n        totalMB: (state.statusInfo.spaceInfo.totalSpacekB / 1000),\r\n        loaded: (state.statusInfo.spaceInfo.totalSpacekB !== -1)\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<Root>) => {\r\n    return {\r\n        getSpaceInfo: (url: string) => {\r\n            dispatch(fetchSpaceInfo(url));\r\n        }\r\n    };\r\n};\r\n\r\nclass UsedSpaceView extends React.Component<StateToProps & DispatchToProps, any> {\r\n    componentDidMount() {\r\n        const { getSpaceInfo } = this.props;\r\n        const url = `${globals.urls.diagnostics}/getspaceinfo`;\r\n        getSpaceInfo(url);\r\n    }\r\n\r\n    render() {\r\n        const { usedMB, totalMB } = this.props;\r\n        const total = Math.round(totalMB);\r\n        const used = Math.round(usedMB * 100) / 100;\r\n        const free = Math.round((total - used) * 100) / 100;\r\n        const usedPercent = ((used / total) * 100);\r\n        const percentRound = Math.round(usedPercent * 100) / 100;\r\n        const show = Boolean(usedPercent) && Boolean(used) && Boolean(free) && Boolean(total);\r\n        if (!show) return null;\r\n\r\n        return  <Row>\r\n                    <Col>\r\n                        <ProgressBar striped={true} bsStyle=\"success\" now={usedPercent} key={1} />\r\n                        <p>\r\n                            Brugt: {used.toString()} MB ({percentRound.toString()} %)<br />\r\n                            Fri plads: {free.toString()} MB<br />\r\n                            Total: {total.toString()} MB\r\n                        </p>\r\n                    </Col>\r\n                </Row>;\r\n    }\r\n}\r\n\r\nconst UsedSpace = connect(mapStateToProps, mapDispatchToProps)(UsedSpaceView);\r\nexport default UsedSpace;\r\n\r\n//                        <UsedSpaceDoughnut\r\n//                            id=\"canvasDoughnut\"\r\n//                            free={Math.round(free)}\r\n//                            used={Math.round(used)}\r\n//                            width={460}\r\n//                            height={300}\r\n//                        />\r\n\r\n// class UsedSpaceDoughnut extends React.Component {\r\n//    componentDidMount() {\r\n//        const { id, used, free } = this.props;\r\n//        const ctx = document.getElementById(id);\r\n//        const dataOptions = {\r\n//            labels: [\"Brugt\", \"Fri\"],\r\n//            datasets: [\r\n//                {\r\n//                    data: [used, free],\r\n//                    backgroundColor: [\r\n//                        \"#FF6384\",\r\n//                        \"#36A2EB\"\r\n//                    ],\r\n//                    hoverBackgroundColor: [\r\n//                        \"#FF6384\",\r\n//                        \"#36A2EB\"\r\n//                    ]\r\n//                }\r\n//            ]\r\n//        };\r\n//        let chart = new Chart(ctx, {\r\n//            type: 'doughnut',\r\n//            data: dataOptions\r\n//        })\r\n//    }\r\n//\r\n//    render() {\r\n//        const { id, width, height } = this.props;\r\n//        return  <canvas id={id} width={width} height={height}>\r\n//                </canvas>\r\n//    }\r\n// }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/containers/UsedSpace.tsx","import * as React from \"react\";\r\nimport { FormGroup, ControlLabel, FormControl, Button, Row, Col, Modal, ButtonGroup, Glyphicon } from \"react-bootstrap\";\r\nimport { Data } from \"../../interfaces/Data\";\r\nimport { TextEditor } from \"../texteditor/TextEditor\";\r\n\r\ninterface ForumFormProps {\r\n    show: boolean;\r\n    close: () => void;\r\n    onSubmit: (post: Data.Raw.Models.ThreadPostContent) => void;\r\n    edit?: {\r\n        ThreadID: number,\r\n        Title: string\r\n        Text: string\r\n        Sticky: boolean\r\n        IsPublished: boolean\r\n    };\r\n}\r\n\r\ninterface ForumFormState {\r\n    ThreadID: number;\r\n    Title: string;\r\n    Sticky: boolean;\r\n    IsPublished: boolean;\r\n}\r\n\r\nexport class ForumForm extends React.Component<ForumFormProps, ForumFormState> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            ThreadID: -1,\r\n            Title: \"\",\r\n            Sticky: false,\r\n            IsPublished: true,\r\n        };\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps: any) {\r\n        const { edit } = nextProps;\r\n        if (edit) {\r\n            this.setState({\r\n                ThreadID: edit.ThreadID,\r\n                Title: edit.Title,\r\n                Sticky: edit.Sticky,\r\n                IsPublished: edit.IsPublished\r\n            });\r\n        }\r\n    }\r\n\r\n    handleTitleChange(e: any) {\r\n        this.setState({ Title: e.target.value });\r\n    }\r\n\r\n    getValidation() {\r\n        const length = this.state.Title.length;\r\n        if (length >= 0 && length < 200) return \"success\";\r\n        if (length >= 200 && length <= 250) return \"warning\";\r\n\r\n        // Greater than 250 characters\r\n        return \"error\";\r\n    }\r\n\r\n    transformToDTO(state: ForumFormState): Data.Raw.Models.ThreadPostContent {\r\n        // A ThreadPostContent class\r\n        const editor = this.refs.editor as TextEditor;\r\n        const header = {\r\n                IsPublished: state.IsPublished,\r\n                Sticky: state.Sticky,\r\n                Title: state.Title\r\n            };\r\n        const text = editor.getText();\r\n        return {\r\n            Header: header,\r\n            Text: text,\r\n            ThreadID: state.ThreadID\r\n        };\r\n    }\r\n\r\n    handleSubmit(e: React.MouseEvent<any>) {\r\n        e.preventDefault();\r\n        const { close, onSubmit } = this.props;\r\n\r\n        // Do whatever work here...\r\n        const post = this.transformToDTO(this.state);\r\n        onSubmit(post);\r\n        close();\r\n    }\r\n\r\n    handleSticky() {\r\n        const { Sticky } = this.state;\r\n        this.setState({ Sticky: !Sticky });\r\n    }\r\n\r\n    handlePublished() {\r\n        const { IsPublished } = this.state;\r\n        this.setState({ IsPublished: !IsPublished });\r\n    }\r\n\r\n    closeHandle() {\r\n        const { close } = this.props;\r\n        close();\r\n    }\r\n\r\n    render() {\r\n        const { show, edit } = this.props;\r\n        const text = Boolean(edit) ? edit.Text : \"\";\r\n        const readMode = Boolean(!edit);\r\n        const title =  readMode ? \"Skriv nyt indlg\" : \"ndre indlg\";\r\n        const btnSubmit = readMode ? \"Skriv indlg\" : \"Gem ndringer\";\r\n        return  <Modal show={show} onHide={this.closeHandle.bind(this)} bsSize=\"lg\">\r\n                    <form>\r\n                        <Modal.Header closeButton>\r\n                            <Modal.Title>{title}</Modal.Title>\r\n                        </Modal.Header>\r\n                        <Modal.Body>\r\n                            <Row>\r\n                                <Col lg={12}>\r\n\r\n                                        <FormGroup controlId=\"formPostTitle\" validationState={this.getValidation()}>\r\n                                            <ControlLabel>Overskrift</ControlLabel>\r\n                                            <FormControl type=\"text\" placeholder=\"Overskrift p indlg...\" onChange={this.handleTitleChange.bind(this)} value={this.state.Title}/>\r\n                                        </FormGroup>\r\n\r\n                                        <FormGroup controlId=\"formPostContent\">\r\n                                            <ControlLabel>Indl&aelig;g</ControlLabel>\r\n                                            <TextEditor\r\n                                                markdown={text}\r\n                                                placeholder=\"Skriv besked her...\"\r\n                                                ref=\"editor\"\r\n                                            />\r\n                                        </FormGroup>\r\n\r\n                                        <FormGroup controlId=\"formPostSticky\">\r\n                                            <ButtonGroup>\r\n                                                <Button bsStyle=\"success\" bsSize=\"small\" active={this.state.Sticky} onClick={this.handleSticky.bind(this)}><Glyphicon glyph=\"pushpin\" /> Vigtig</Button>\r\n                                            </ButtonGroup>\r\n                                        </FormGroup>\r\n\r\n                                </Col>\r\n                            </Row>\r\n                        </Modal.Body>\r\n                        <Modal.Footer>\r\n                            <Button bsStyle=\"default\" onClick={this.closeHandle.bind(this)}>Luk</Button>\r\n                            <Button bsStyle=\"primary\" type=\"submit\" onClick={this.handleSubmit}>{btnSubmit}</Button>\r\n                        </Modal.Footer>\r\n                    </form>\r\n                </Modal>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/forum/ForumForm.tsx","import * as React from \"react\";\r\nimport { Button, Glyphicon, FormControl } from \"react-bootstrap\";\r\nimport { Components as C } from \"../../interfaces/Components\";\r\n\r\ninterface UploadImageProp {\r\n    uploadImage: (username: string, description: string, formData: FormData) => void;\r\n}\r\n\r\ninterface Files {\r\n    hasFile?: boolean;\r\n    description?: string;\r\n}\r\n\r\nexport class ImageUpload extends React.Component<C.UsernameProp & UploadImageProp, Files> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            hasFile: false,\r\n            description: \"\"\r\n        };\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.setHasFile = this.setHasFile.bind(this);\r\n        this.handleDescriptionChange = this.handleDescriptionChange.bind(this);\r\n        this.removeSelectedFiles = this.removeSelectedFiles.bind(this);\r\n        this.uploadButtonView = this.uploadButtonView.bind(this);\r\n        this.clearInput = this.clearInput.bind(this);\r\n    }\r\n\r\n    clearInput(fileInput: HTMLInputElement) {\r\n        if (fileInput.value) {\r\n            try {\r\n                fileInput.value = \"\"; // for IE11, latest Chrome/Firefox/Opera...\r\n            }catch (err) { }\r\n            if (fileInput.value) { // for IE5 ~ IE10\r\n                let form = document.createElement(\"form\"),\r\n                    parentNode = fileInput.parentNode, ref = fileInput.nextSibling;\r\n                form.appendChild(fileInput);\r\n                form.reset();\r\n                parentNode.insertBefore(fileInput, ref);\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            hasFile: false,\r\n            description: \"\"\r\n        });\r\n    }\r\n\r\n    getFiles(): any {\r\n        const files = document.getElementById(\"files\") as HTMLInputElement;\r\n        return (files ? files.files : []);\r\n    }\r\n\r\n    handleSubmit(e: React.FormEvent<HTMLFormElement>) {\r\n        const { uploadImage, username } = this.props;\r\n        e.preventDefault();\r\n\r\n        const fileInput = document.getElementById(\"files\") as HTMLInputElement;\r\n        const files = fileInput.files;\r\n\r\n        if (files.length === 0) return;\r\n        let formData = new FormData();\r\n        for (let i = 0; i < files.length; i++) {\r\n            const file = files[i];\r\n            formData.append(\"file\", file);\r\n        }\r\n\r\n        uploadImage(username, this.state.description, formData);\r\n        this.clearInput(fileInput);\r\n    }\r\n\r\n    setHasFile(_: React.ChangeEvent<any>) {\r\n        const fileInput = document.getElementById(\"files\") as HTMLInputElement;\r\n        const files = fileInput.files;\r\n\r\n        const result = files.length > 0;\r\n        this.setState({\r\n            hasFile: result,\r\n        });\r\n    }\r\n\r\n    handleDescriptionChange(e: any) {\r\n        this.setState({\r\n            description: e.target.value\r\n        });\r\n    }\r\n\r\n    removeSelectedFiles() {\r\n        const fileInput = document.getElementById(\"files\") as HTMLInputElement;\r\n        this.clearInput(fileInput);\r\n        this.setState({\r\n            hasFile: false,\r\n            description: \"\"\r\n        });\r\n    }\r\n\r\n    showDescription() {\r\n        if (!this.state.hasFile) {\r\n            return null;\r\n        }\r\n\r\n        return  <span>\r\n                    <FormControl id=\"description\" type=\"text\" value={this.state.description} placeholder=\"Beskriv billedet...\" rows={50} onChange={this.handleDescriptionChange} />&nbsp;\r\n                    <Button bsStyle=\"warning\" onClick={this.removeSelectedFiles}> Fortryd</Button>\r\n                </span>;\r\n    }\r\n\r\n    uploadButtonView() {\r\n        if (!this.state.hasFile)\r\n            return <Button bsStyle=\"primary\" disabled type=\"submit\"> Upload</Button>;\r\n\r\n        return  <Button bsStyle=\"primary\" type=\"submit\">Upload</Button>;\r\n    }\r\n\r\n    render() {\r\n        return  <form onSubmit={this.handleSubmit} id=\"form-upload\" className=\"form-inline\" encType=\"multipart/form-data\">\r\n                        <div className=\"form-group\">\r\n                            <label htmlFor=\"files\" className=\"hide-input\" onClick={this.setHasFile}>\r\n                                <Glyphicon glyph=\"camera\" /> V&aelig;lg filer\r\n                                <input type=\"file\" id=\"files\" name=\"files\" onChange={this.setHasFile} multiple />\r\n                            </label>\r\n                            &nbsp; {this.showDescription()} &nbsp;\r\n                            {this.uploadButtonView()}\r\n                        </div>\r\n                    {this.props.children}\r\n                </form>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/images/ImageUpload.tsx","import * as React from \"react\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\nimport { Breadcrumb } from \"../breadcrumbs/Breadcrumb\";\r\n\r\nexport default class About extends React.Component<null, null> {\r\n    componentDidMount() {\r\n        document.title = \"Om\";\r\n    }\r\n\r\n    render() {\r\n        return  <Row>\r\n                    <Row>\r\n                        <Col lgOffset={2} lg={8}>\r\n                            <Breadcrumb>\r\n                                <Breadcrumb.Item href=\"/\">\r\n                                    Forside\r\n                                </Breadcrumb.Item>\r\n                                <Breadcrumb.Item active>\r\n                                    Om\r\n                                </Breadcrumb.Item>\r\n                            </Breadcrumb>\r\n                        </Col>\r\n                    </Row>\r\n                    <Col lgOffset={2} lg={8}>\r\n                        <p>\r\n                            Dette er en single page application!\r\n                            <br />\r\n                            Teknologier brugt:\r\n                        </p>\r\n                        <ul>\r\n                            <li>React</li>\r\n                            <li>Redux</li>\r\n                            <li>React-Bootstrap</li>\r\n                            <li>ReactRouter</li>\r\n                            <li>Asp.net Core RC 2</li>\r\n                            <li>Asp.net Web API 2</li>\r\n                        </ul>\r\n                    </Col>\r\n                </Row>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/containers/About.tsx","import * as React from \"react\";\r\nimport { CommentList } from \"../comments/CommentList\";\r\nimport { CommentForm } from \"../comments/CommentForm\";\r\nimport { Pagination } from \"../pagination/Pagination\";\r\nimport { fetchComments, postComment, editComment, deleteComment } from \"../../actions/comments\";\r\nimport { getForumCommentsDeleteUrl, getForumCommentsPageUrl } from \"../../utilities/utils\";\r\nimport { Root } from \"../../interfaces/State\";\r\nimport { Data } from \"../../interfaces/Data\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\nimport { connect, Dispatch } from \"react-redux\";\r\nimport { withRouter, InjectedRouter } from \"react-router\";\r\n\r\ntype cb = () => void;\r\n\r\ninterface StateToProps {\r\n    comments: Data.Comment[];\r\n    getName: (id: number) => string;\r\n    canEdit: (id: number) => boolean;\r\n    postId: number;\r\n    page: number;\r\n    skip: number;\r\n    take: number;\r\n    totalPages: number;\r\n}\r\n\r\ninterface DispatchToProps {\r\n    editHandle: (commentId: number, postId: number, text: string, cb: cb) => void;\r\n    deleteHandle: (commentId: number, cb: cb) => void;\r\n    replyHandle: (postId: number, text: string, parentId: number, cb: cb) => void;\r\n    loadComments: (postId: number, skip: number, take: number) => void;\r\n    postHandle: (postId: number, text: string, cb: cb) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: Root) => {\r\n    return {\r\n        comments: state.commentsInfo.comments,\r\n        getName: (id: number) => {\r\n            const user = state.usersInfo.users[id];\r\n            if (!user) return \"\";\r\n            return `${user.FirstName} ${user.LastName}`;\r\n        },\r\n        canEdit: (id: number) => state.usersInfo.currentUserId === id,\r\n        postId: state.forumInfo.titlesInfo.selectedThread,\r\n        page: state.commentsInfo.page,\r\n        skip: state.commentsInfo.skip,\r\n        take: state.commentsInfo.take,\r\n        totalPages: state.commentsInfo.totalPages,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<Root>) => {\r\n    return {\r\n        editHandle: (commentId: number, _: number, text: string, cb: cb) => {\r\n            const url = globals.urls.forumcomments;\r\n            dispatch(editComment(url, commentId, text, cb));\r\n        },\r\n        deleteHandle: (commentId: number, cb: cb) => {\r\n            const url = getForumCommentsDeleteUrl(commentId);\r\n            dispatch(deleteComment(url, cb));\r\n        },\r\n        replyHandle: (postId: number, text: string, parentId: number, cb: cb) => {\r\n            const url = globals.urls.forumcomments;\r\n            dispatch(postComment(url, postId, text, parentId, cb));\r\n        },\r\n        loadComments: (postId: number, skip: number, take: number) => {\r\n            const url = getForumCommentsPageUrl(postId, skip, take);\r\n            dispatch(fetchComments(url, skip, take));\r\n        },\r\n        postHandle: (postId: number, text: string, cb: cb) => {\r\n            const url = globals.urls.forumcomments;\r\n            dispatch(postComment(url, postId, text, null, cb));\r\n        }\r\n    };\r\n};\r\n\r\nclass ForumCommentsContainer extends React.Component<StateToProps & DispatchToProps & { router: InjectedRouter, params: { id: string } }, any> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.deleteComment = this.deleteComment.bind(this);\r\n        this.editComment = this.editComment.bind(this);\r\n        this.replyComment = this.replyComment.bind(this);\r\n        this.postComment = this.postComment.bind(this);\r\n        this.pageHandle = this.pageHandle.bind(this);\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps: any) {\r\n        const { loadComments, postId, take } = this.props;\r\n        const { page } = nextProps.location.query;\r\n        if (!Number(page)) return;\r\n        const skipPages = page - 1;\r\n        const skipItems = (skipPages * take);\r\n        loadComments(postId, skipItems, take);\r\n    }\r\n\r\n    pageHandle(to: number) {\r\n        const { postId, page } = this.props;\r\n        const { push } = this.props.router;\r\n        if (page === to) return;\r\n        const url = `/forum/post/${postId}/comments?page=${to}`;\r\n        push(url);\r\n    }\r\n\r\n    deleteComment(commentId: number, postId: number) {\r\n        const { deleteHandle, loadComments, skip, take } = this.props;\r\n        const cb = () => {\r\n            loadComments(postId, skip, take);\r\n        };\r\n\r\n        deleteHandle(commentId, cb);\r\n    }\r\n\r\n    editComment(commentId: number, postId: number, text: string) {\r\n        const { editHandle, loadComments, skip, take } = this.props;\r\n        const cb = () => {\r\n            loadComments(postId, skip, take);\r\n        };\r\n\r\n        editHandle(commentId, postId, text, cb);\r\n    }\r\n\r\n    replyComment(postId: number, text: string, parentId: number) {\r\n        const { replyHandle, loadComments, skip, take } = this.props;\r\n        const cb = () => {\r\n            loadComments(postId, skip, take);\r\n        };\r\n\r\n        replyHandle(postId, text, parentId, cb);\r\n    }\r\n\r\n    postComment(text: string) {\r\n        const { loadComments, postId, skip, take, postHandle } = this.props;\r\n        const cb = () => {\r\n            loadComments(postId, skip, take);\r\n        };\r\n\r\n        postHandle(postId, text, cb);\r\n    }\r\n\r\n    render() {\r\n        const { comments, getName, canEdit, totalPages, page, skip, take } = this.props;\r\n        const { id } = this.props.params;\r\n        const controls = {\r\n            skip,\r\n            take,\r\n            deleteComment: this.deleteComment,\r\n            editComment: this.editComment,\r\n            replyComment: this.replyComment\r\n        };\r\n        return  <Row className=\"forum-comments-list\">\r\n                    <h4 className=\"forum-comments-heading\">Kommentarer</h4>\r\n                    <CommentList\r\n                        comments={comments}\r\n                        contextId={Number(id)}\r\n                        getName={getName}\r\n                        canEdit={canEdit}\r\n                        {...controls}\r\n                    />\r\n                    <Pagination\r\n                        totalPages={totalPages}\r\n                        page={page}\r\n                        pageHandle={this.pageHandle}\r\n                    />\r\n                    <Row>\r\n                        <Col lg={12}>\r\n                            <hr />\r\n                            <CommentForm postHandle={this.postComment} />\r\n                            <br />\r\n                        </Col>\r\n                    </Row>\r\n                </Row>;\r\n    }\r\n}\r\n\r\nconst ForumCommentsContainerRedux = connect(mapStateToProps, mapDispatchToProps)(ForumCommentsContainer);\r\nconst ForumComments = withRouter(ForumCommentsContainerRedux);\r\nexport default ForumComments;\n\n\n// WEBPACK FOOTER //\n// ./src/components/containers/ForumComments.tsx","import * as React from \"react\";\r\nimport { Row, Col, ButtonGroup, Button } from \"react-bootstrap\";\r\nimport { ForumTitle } from \"../forum/ForumTitle\";\r\nimport { connect, Dispatch } from \"react-redux\";\r\nimport { fetchThreads, postThread } from \"../../actions/forum\";\r\nimport { Pagination } from \"../pagination/Pagination\";\r\nimport { ForumForm } from \"../forum/ForumForm\";\r\nimport { Root } from \"../../interfaces/State\";\r\nimport { Data } from \"../../interfaces/Data\";\r\n\r\ninterface StateToProps {\r\n    threads: Data.ForumTitle[];\r\n    skip: number;\r\n    take: number;\r\n    page: number;\r\n    totalPages: number;\r\n    getAuthor: (id: number) => string;\r\n}\r\n\r\ninterface DispatchToProps {\r\n    fetchThreads: (skip: number, take: number) => void;\r\n    postThread: (cb: () => void, post: Partial<Data.Raw.Models.ThreadPostContent>) => void;\r\n}\r\n\r\ninterface ComponentState {\r\n    newPost: boolean;\r\n}\r\n\r\nconst mapStateToProps = (state: Root) => {\r\n    return {\r\n        threads: state.forumInfo.titlesInfo.titles,\r\n        skip: state.forumInfo.titlesInfo.skip,\r\n        take: state.forumInfo.titlesInfo.take,\r\n        page: state.forumInfo.titlesInfo.page,\r\n        totalPages: state.forumInfo.titlesInfo.totalPages,\r\n        getAuthor: (id: number) => {\r\n            const user = state.usersInfo.users[id];\r\n            return `${user.FirstName} ${user.LastName}`;\r\n        },\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<any>) => {\r\n    return {\r\n        fetchThreads: (skip: number, take: number) => {\r\n            dispatch<any>(fetchThreads(skip, take));\r\n        },\r\n        postThread: (cb: () => void, post: Partial<Data.Raw.Models.ThreadPostContent>) => {\r\n            dispatch<any>(postThread(post, cb));\r\n        }\r\n    };\r\n};\r\n\r\nclass ForumListContainer extends React.Component<StateToProps & DispatchToProps, ComponentState> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            newPost: false\r\n        };\r\n\r\n        this.pageHandle = this.pageHandle.bind(this);\r\n        this.close = this.close.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.title = \"Inuplan Forum\";\r\n    }\r\n\r\n    pageHandle(to: number) {\r\n        const { fetchThreads, page, take } = this.props;\r\n\r\n        if (page === to) return;\r\n        const skipItems = (to - 1) * take;\r\n        fetchThreads(skipItems, take);\r\n    }\r\n\r\n    threadViews() {\r\n        const { threads, getAuthor } = this.props;\r\n        return threads.map(thread => {\r\n            const id = `thread_${thread.ID}`;\r\n            return <ForumTitle\r\n                        title={thread}\r\n                        key={id}\r\n                        getAuthor={getAuthor} />;\r\n        });\r\n    }\r\n\r\n    submit(post: Partial<Data.Raw.Models.ThreadPostContent>) {\r\n        const { postThread, fetchThreads, skip, take } = this.props;\r\n        postThread(() => fetchThreads(skip, take), post);\r\n    }\r\n\r\n    close() {\r\n        this.setState({ newPost: false });\r\n    }\r\n\r\n    show() {\r\n        this.setState({ newPost: true });\r\n    }\r\n\r\n    render() {\r\n        const { totalPages, page } = this.props;\r\n        return  <Row>\r\n                    <ButtonGroup>\r\n                        <Button bsStyle=\"primary\" onClick={this.show.bind(this)}>Tilf&oslash;j nyt indl&aelig;g</Button>\r\n                    </ButtonGroup>\r\n                    <Col lg={12}>\r\n                        <Row className=\"thread-head\">\r\n                            <Col lg={1}>\r\n                                <strong>Info</strong>\r\n                            </Col>\r\n                            <Col lg={5}>\r\n                                <strong>Overskrift</strong>\r\n                            </Col>\r\n                            <Col lg={2} className=\"text-center\">\r\n                                <strong>Dato</strong>\r\n                            </Col>\r\n                            <Col lg={2} className=\"text-center\">\r\n                                <strong>L&aelig;st af</strong>\r\n                            </Col>\r\n                            <Col lg={2} className=\"text-center\">\r\n                                <strong>Seneste kommentar</strong>\r\n                            </Col>\r\n                        </Row>\r\n                        {this.threadViews()}\r\n                        <Pagination totalPages={totalPages} page={page} pageHandle={this.pageHandle} show={true}/>\r\n                    </Col>\r\n                    <ForumForm\r\n                        show={this.state.newPost}\r\n                        close={this.close.bind(this)}\r\n                        onSubmit={this.submit.bind(this)}\r\n                    />\r\n                </Row>;\r\n    }\r\n}\r\n\r\nconst ForumList = connect(mapStateToProps, mapDispatchToProps)(ForumListContainer);\r\nexport default ForumList;\n\n\n// WEBPACK FOOTER //\n// ./src/components/containers/ForumList.tsx","import * as React from \"react\";\r\nimport { Jumbotron, Grid, Row, Col, Panel, Alert } from \"react-bootstrap\";\r\nimport { Root } from \"../../interfaces/State\";\r\nimport { connect, Dispatch } from \"react-redux\";\r\nimport { fetchLatestNews } from \"../../actions/whatsnew\";\r\nimport { ImageUpload } from \"../images/ImageUpload\";\r\nimport { uploadImage } from \"../../actions/images\";\r\nimport UsedSpace from \"./UsedSpace\";\r\nimport WhatsNew from \"./WhatsNew\";\r\n\r\ninterface StateToProps {\r\n    name: string;\r\n    skip: number;\r\n    take: number;\r\n}\r\n\r\ninterface DispatchToProps {\r\n    uploadImage: (username: string, description: string, formData: FormData, onSuccess: () => void) => void;\r\n    fetchLatestNews: (skip: number, take: number) => void;\r\n}\r\n\r\ninterface ComponentState {\r\n    recommended: boolean;\r\n}\r\n\r\nconst mapStateToProps = (state: Root) => {\r\n    const user = state.usersInfo.users[state.usersInfo.currentUserId];\r\n    const name = user ? user.FirstName : \"User\";\r\n    return {\r\n        name: name,\r\n        skip: state.whatsNewInfo.skip,\r\n        take: state.whatsNewInfo.take,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<Root>): DispatchToProps => {\r\n    return {\r\n        uploadImage: (username, description, formData, onSuccess) => {\r\n            dispatch<any>(uploadImage(username, description, formData, onSuccess, (r) => { console.log(r); }));\r\n        },\r\n        fetchLatestNews: (skip, take) => {\r\n            dispatch(fetchLatestNews(skip, take));\r\n        }\r\n    };\r\n};\r\n\r\nclass HomeContainer extends React.Component<StateToProps & DispatchToProps, ComponentState> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            recommended: true\r\n        };\r\n\r\n        this.upload = this.upload.bind(this);\r\n        this.recommendedView = this.recommendedView.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.title = \"Forside\";\r\n    }\r\n\r\n    upload(username: string, description: string, formData: FormData) {\r\n        const { uploadImage, fetchLatestNews, skip, take } = this.props;\r\n\r\n        const onSuccess = () => {\r\n            fetchLatestNews(skip, take);\r\n        };\r\n\r\n        uploadImage(username, description, formData, onSuccess);\r\n    }\r\n\r\n    recommendedView() {\r\n        if (!this.state.recommended) return null;\r\n\r\n        return  <Row>\r\n                    <Col>\r\n                        <Alert bsStyle=\"success\" onDismiss={() => this.setState({ recommended: false })}>\r\n                            <h4>Anbefalinger</h4>\r\n                            <ul>\r\n                                <li>Testet med Google Chrome browser. Derfor er det anbefalet at bruge denne til at f&aring; den fulde oplevelse.<br /></li>\r\n                            </ul>\r\n                        </Alert>\r\n                    </Col>\r\n                </Row>;\r\n    }\r\n\r\n    render() {\r\n        const { name } = this.props;\r\n        return  <Row>\r\n                    <Jumbotron>\r\n                        <h1><span>Velkommen <small>{name}!</small></span></h1>\r\n                        <p className=\"lead\">\r\n                            Til Inuplans forum og billed-arkiv side\r\n                        </p>\r\n\r\n                        <Row>\r\n                            <Col lg={4}>\r\n                                <Panel header={\"Du kan uploade billeder til dit eget galleri her\"} bsStyle=\"primary\">\r\n                                    <ImageUpload username={globals.currentUsername} uploadImage={this.upload} />\r\n                                </Panel>\r\n                            </Col>\r\n                        </Row>\r\n                    </Jumbotron>\r\n                    <Grid fluid>\r\n                        <Row>\r\n                            <Col lg={2}>\r\n                            </Col>\r\n                            <Col lg={4}>\r\n                                <WhatsNew />\r\n                            </Col>\r\n                            <Col lgOffset={1} lg={3}>\r\n                                {this.recommendedView()}\r\n                                <h3>Personlig upload forbrug</h3>\r\n                                <hr />\r\n                                <p>\r\n                                    Herunder kan du se hvor meget plads du har brugt og hvor meget fri plads\r\n                                    der er tilbage. Glder kun billede filer.\r\n                                </p>\r\n                                <UsedSpace />\r\n                            </Col>\r\n                        </Row>\r\n                    </Grid>\r\n                </Row>;\r\n    }\r\n}\r\n\r\nconst Home = connect(mapStateToProps, mapDispatchToProps)(HomeContainer);\r\nexport default Home;\n\n\n// WEBPACK FOOTER //\n// ./src/components/containers/Home.tsx","import * as React from \"react\";\r\nimport { fetchComments, postComment, editComment, deleteComment } from \"../../actions/comments\";\r\nimport { incrementCommentCount, decrementCommentCount } from \"../../actions/images\";\r\nimport { CommentList } from \"../comments/CommentList\";\r\nimport { connect, Dispatch } from \"react-redux\";\r\nimport { Pagination } from \"../pagination/Pagination\";\r\n// import { CommentForm } from \"../comments/CommentForm\";\r\nimport { TextEditor } from \"../texteditor/TextEditor\";\r\n\r\nimport { getImageCommentsPageUrl, getImageCommentsDeleteUrl } from \"../../utilities/utils\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\nimport { withRouter, InjectedRouter } from \"react-router\";\r\nimport { Root } from \"../../interfaces/State\";\r\nimport { Data } from \"../../interfaces/Data\";\r\n\r\ntype cb = () => void;\r\n\r\ninterface StateToProps {\r\n    canEdit: (id: number) => boolean;\r\n    imageId: number;\r\n    skip: number;\r\n    take: number;\r\n    page: number;\r\n    totalPages: number;\r\n    comments: Data.Comment[];\r\n    getName: (userId: number) => string;\r\n    owner: Data.User;\r\n}\r\n\r\ninterface DispatchToProps {\r\n    postHandle: (imageId: number, text: string, cb: cb) => void;\r\n    fetchComments: (imageId: number, skip: number, take: number) => void;\r\n    editHandle: (commentId: number, imageId: number, text: string, cb: cb) => void;\r\n    deleteHandle: (commentId: number, cb: cb) => void;\r\n    replyHandle: (imageId: number, text: string, parentId: number, cb: cb) => void;\r\n    incrementCount: (imageId: number) => void;\r\n    decrementCount: (imageId: number) => void;\r\n    loadComments: (imageId: number, skip: number, take: number) => void;\r\n}\r\n\r\nconst mapStateToProps = (state: Root): StateToProps => {\r\n    return {\r\n        canEdit: (id: number) => state.usersInfo.currentUserId === id,\r\n        imageId: state.imagesInfo.selectedImageId,\r\n        skip: state.commentsInfo.skip,\r\n        take: state.commentsInfo.take,\r\n        page: state.commentsInfo.page,\r\n        totalPages: state.commentsInfo.totalPages,\r\n        comments: state.commentsInfo.comments,\r\n        getName: (userId: number) => {\r\n            const user = state.usersInfo.users[userId];\r\n            const { FirstName, LastName } = user;\r\n            return `${FirstName} ${LastName}`;\r\n        },\r\n        owner: state.usersInfo.users[state.imagesInfo.ownerId]\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<Root>): DispatchToProps => {\r\n    return {\r\n        postHandle: (imageId: number, text: string, cb: cb) => {\r\n            const url = globals.urls.imagecomments;\r\n            dispatch(postComment(url, imageId, text, null, cb));\r\n        },\r\n        fetchComments: (imageId: number, skip: number, take: number) => {\r\n            const url = getImageCommentsPageUrl(imageId, skip, take);\r\n            dispatch(fetchComments(url, skip, take));\r\n        },\r\n        editHandle: (commentId: number, _: number, text: string, cb: cb) => {\r\n            const url = globals.urls.imagecomments;\r\n            dispatch(editComment(url, commentId, text, cb));\r\n        },\r\n        deleteHandle: (commentId: number, cb: cb) => {\r\n            const url = getImageCommentsDeleteUrl(commentId);\r\n            dispatch(deleteComment(url, cb));\r\n        },\r\n        replyHandle: (imageId: number, text: string, parentId: number, cb: cb) => {\r\n            const url = globals.urls.imagecomments;\r\n            dispatch(postComment(url, imageId, text, parentId, cb));\r\n        },\r\n        incrementCount: (imageId: number) => dispatch(incrementCommentCount(imageId)),\r\n        decrementCount: (imageId: number) => dispatch(decrementCommentCount(imageId)),\r\n        loadComments: (imageId: number, skip: number, take: number) => {\r\n            const url = getImageCommentsPageUrl(imageId, skip, take);\r\n            dispatch(fetchComments(url, skip, take));\r\n        }\r\n    };\r\n};\r\n\r\nclass CommentsContainer extends React.Component<StateToProps & DispatchToProps & { router: InjectedRouter; location: any; }, null> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.pageHandle = this.pageHandle.bind(this);\r\n        this.deleteComment = this.deleteComment.bind(this);\r\n        this.editComment = this.editComment.bind(this);\r\n        this.replyComment = this.replyComment.bind(this);\r\n        this.postComment = this.postComment.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { page } = this.props.location.query;\r\n        this.getComments(page);\r\n    }\r\n\r\n    getComments(page: number = 1) {\r\n        const { fetchComments, imageId, take } = this.props;\r\n        if (!Number(page)) return;\r\n        const skipPages = page - 1;\r\n        const skipItems = (skipPages * take);\r\n        fetchComments(imageId, skipItems, take);\r\n    }\r\n\r\n    pageHandle(to: number) {\r\n        const { owner, imageId, page } = this.props;\r\n        const { push } = this.props.router;\r\n        const username = owner.Username;\r\n        if (page === to) return;\r\n        const url = `/${username}/gallery/image/${imageId}/comments?page=${to}`;\r\n        push(url);\r\n        this.getComments(to);\r\n    }\r\n\r\n    deleteComment(commentId: number, imageId: number) {\r\n        const { deleteHandle, loadComments, decrementCount, skip, take } = this.props;\r\n        const cb = () => {\r\n            decrementCount(imageId);\r\n            loadComments(imageId, skip, take);\r\n        };\r\n\r\n        deleteHandle(commentId, cb);\r\n    }\r\n\r\n    editComment(commentId: number, imageId: number, text: string) {\r\n        const { loadComments, skip, take, editHandle } = this.props;\r\n        const cb = () => loadComments(imageId, skip, take);\r\n        editHandle(commentId, imageId, text, cb);\r\n    }\r\n\r\n    replyComment(imageId: number, text: string, parentId: number) {\r\n        const { loadComments, incrementCount, skip, take, replyHandle } = this.props;\r\n        const cb = () => {\r\n            incrementCount(imageId);\r\n            loadComments(imageId, skip, take);\r\n        };\r\n\r\n        replyHandle(imageId, text, parentId, cb);\r\n    }\r\n\r\n    postComment(e: React.MouseEvent<any>) {\r\n        e.preventDefault();\r\n\r\n        const { imageId, loadComments, incrementCount, skip, take, postHandle } = this.props;\r\n        const editor = this.refs.editor as TextEditor;\r\n        const cb = () => {\r\n            incrementCount(imageId);\r\n            loadComments(imageId, skip, take);\r\n\r\n            // Clear input field\r\n            editor.setText(\"\");\r\n        };\r\n\r\n        const text = editor.getText();\r\n        postHandle(imageId, text, cb);\r\n    }\r\n\r\n    render() {\r\n        const { canEdit, comments, getName, imageId, page, totalPages } = this.props;\r\n        const { skip, take } = this.props;\r\n        const controls = {\r\n            skip,\r\n            take,\r\n            deleteComment: this.deleteComment,\r\n            editComment: this.editComment,\r\n            replyComment: this.replyComment\r\n        };\r\n\r\n\r\n        return  <div className=\"text-left\">\r\n                    <Row>\r\n                        <Col lgOffset={1} lg={11}>\r\n                            <CommentList\r\n                                contextId={imageId}\r\n                                comments={comments}\r\n                                getName={getName}\r\n                                canEdit={canEdit}\r\n                                {...controls}\r\n                            />\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col lgOffset={1} lg={10}>\r\n                            <Pagination\r\n                                totalPages={totalPages}\r\n                                page={page}\r\n                                pageHandle={this.pageHandle}\r\n                            />\r\n                        </Col>\r\n                    </Row>\r\n                    <hr />\r\n                    <Row>\r\n                        <Col lgOffset={1} lg={10}>\r\n                            <TextEditor\r\n                                markdown=\"\"\r\n                                placeholder=\"Skriv kommentar her...\"\r\n                                ref=\"editor\"\r\n                            />\r\n                            <button onClick={this.postComment} className=\"btn btn-primary\">Send</button>\r\n                        </Col>\r\n                    </Row>\r\n                </div>;\r\n    }\r\n}\r\n\r\nconst CommentsRedux = connect(mapStateToProps, mapDispatchToProps)(CommentsContainer);\r\nconst ImageComments = withRouter(CommentsRedux);\r\nexport default ImageComments;\n\n\n// WEBPACK FOOTER //\n// ./src/components/containers/ImageComments.tsx","import * as React from \"react\";\r\nimport { setSelectedImg, fetchSingleImage, deleteImage } from \"../../actions/images\";\r\nimport { setSkipComments, setTakeComments, setFocusedComment, receivedComments } from \"../../actions/comments\";\r\nimport { setError } from \"../../actions/error\";\r\nimport { connect, Dispatch } from \"react-redux\";\r\nimport { withRouter, InjectedRouter } from \"react-router\";\r\nimport { Modal, Image, Button, ButtonToolbar, Glyphicon } from \"react-bootstrap\";\r\nimport { Root } from \"../../interfaces/State\";\r\nimport { ErrorState } from \"../../interfaces/State\";\r\n\r\ninterface StateToProps {\r\n    canEdit: boolean;\r\n    hasImage: () => boolean;\r\n    filename: string;\r\n    previewUrl: string;\r\n    extension: string;\r\n    originalUrl: string;\r\n    uploaded: Date;\r\n    description: string;\r\n}\r\n\r\ninterface DispatchToProps {\r\n    setSelectedImageId: (id: number) => void;\r\n    deselectImage: () => void;\r\n    setError: (error: ErrorState) => void;\r\n    fetchImage: (id: number) => void;\r\n    deleteImage: (id: number, username: string) => void;\r\n    resetComments: () => void;\r\n}\r\n\r\nconst mapStateToProps = (state: Root) => {\r\n    const ownerId  = state.imagesInfo.ownerId;\r\n    const currentId = state.usersInfo.currentUserId;\r\n    const canEdit = (ownerId > 0 && currentId > 0 && ownerId === currentId);\r\n\r\n    const getImage = (id: number) => state.imagesInfo.images[id];\r\n    const image = () => getImage(state.imagesInfo.selectedImageId);\r\n    const filename = () => { if (image()) return image().Filename; return \"\"; };\r\n    const previewUrl = () => { if (image()) return image().PreviewUrl; return \"\"; };\r\n    const extension = () => { if (image()) return image().Extension; return \"\"; };\r\n    const originalUrl = () => { if (image()) return image().OriginalUrl; return \"\"; };\r\n    const uploaded = () => { if (image()) return image().Uploaded; return new Date(); };\r\n    const description = () => { if (image()) return image().Description; return \"\"; };\r\n\r\n    return {\r\n        canEdit: canEdit,\r\n        hasImage: () => Boolean(getImage(state.imagesInfo.selectedImageId)),\r\n        filename: filename(),\r\n        previewUrl: previewUrl(),\r\n        extension: extension(),\r\n        originalUrl: originalUrl(),\r\n        uploaded: uploaded(),\r\n        description: description()\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<Root>) => {\r\n    return {\r\n        setSelectedImageId: (id: number) => {\r\n            dispatch(setSelectedImg(id));\r\n        },\r\n        deselectImage: () => {\r\n            dispatch(setSelectedImg(undefined));\r\n        },\r\n        setError: (error: ErrorState) => {\r\n            dispatch(setError(error));\r\n        },\r\n        fetchImage: (id: number) => {\r\n            dispatch(fetchSingleImage(id));\r\n        },\r\n        deleteImage: (id: number, username: string) => {\r\n            dispatch(deleteImage(id, username));\r\n        },\r\n        resetComments: () => {\r\n            dispatch(setSkipComments(0));\r\n            dispatch(setTakeComments(10));\r\n            dispatch(setFocusedComment(-1));\r\n            dispatch(receivedComments([]));\r\n        }\r\n    };\r\n};\r\n\r\nclass ModalImage extends React.Component<StateToProps & DispatchToProps & { router: InjectedRouter, params: { id: string, username: string } }, null> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.deleteImageHandler = this.deleteImageHandler.bind(this);\r\n        this.close = this.close.bind(this);\r\n        this.seeAllCommentsView = this.seeAllCommentsView.bind(this);\r\n        this.reload = this.reload.bind(this);\r\n    }\r\n\r\n    close() {\r\n        const { deselectImage, resetComments } = this.props;\r\n        const { username } = this.props.params;\r\n        const { push } = this.props.router;\r\n\r\n        deselectImage();\r\n        const galleryUrl = `/${username}/gallery`;\r\n        resetComments();\r\n        push(galleryUrl);\r\n    }\r\n\r\n    deleteImageHandler() {\r\n        const { deleteImage, setSelectedImageId } = this.props;\r\n        const { id, username } = this.props.params;\r\n\r\n        deleteImage(Number(id), username);\r\n        setSelectedImageId(-1);\r\n    }\r\n\r\n    deleteImageView() {\r\n        const { canEdit } = this.props;\r\n        if (!canEdit) return null;\r\n        return <Button bsStyle=\"danger\" onClick={this.deleteImageHandler}>Slet billede</Button>;\r\n    }\r\n\r\n    reload() {\r\n        const { id, username } = this.props.params;\r\n        const { push } = this.props.router;\r\n\r\n        const path = `/${username}/gallery/image/${id}/comments`;\r\n        push(path);\r\n    }\r\n\r\n    seeAllCommentsView() {\r\n        const show = !Boolean(this.props.children);\r\n        if (!show) return null;\r\n\r\n        return  <p className=\"text-center\">\r\n                    <Button onClick={this.reload}>\r\n                        <Glyphicon glyph=\"refresh\"/> Se alle kommentarer?\r\n                    </Button>\r\n                </p>;\r\n    }\r\n\r\n    render() {\r\n        const { filename, previewUrl, extension, originalUrl, uploaded, hasImage, description } = this.props;\r\n        const show = hasImage();\r\n        const name = filename + \".\" + extension;\r\n        const uploadDate = moment(uploaded);\r\n        const dateString = \"Uploaded d. \" + uploadDate.format(\"D MMM YYYY \") + \"kl. \" + uploadDate.format(\"H:mm\");\r\n\r\n        return  <Modal show={show} onHide={this.close} bsSize=\"large\" animation={true}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>{name}<span><small> - {dateString}</small></span></Modal.Title>\r\n                    </Modal.Header>\r\n\r\n                    <Modal.Body>\r\n                        <a href={originalUrl} target=\"_blank\" rel=\"noopener\">\r\n                            <Image src={previewUrl} responsive className=\"center-block\"/>\r\n                        </a>\r\n                        <div className=\"image-selected-descriptiontext\">\r\n                            {description}\r\n                        </div>\r\n                    </Modal.Body>\r\n\r\n                    <Modal.Footer>\r\n                        {this.seeAllCommentsView()}\r\n                        {this.props.children}\r\n                        <hr />\r\n                        <ButtonToolbar style={{float: \"right\"}}>\r\n                            {this.deleteImageView()}\r\n                            <Button onClick={this.close}>Luk</Button>\r\n                        </ButtonToolbar>\r\n                    </Modal.Footer>\r\n                </Modal>;\r\n    }\r\n}\r\n\r\nconst SelectedImageRedux = connect(mapStateToProps, mapDispatchToProps)(ModalImage);\r\nconst SelectedImage = withRouter(SelectedImageRedux);\r\nexport default SelectedImage;\n\n\n// WEBPACK FOOTER //\n// ./src/components/containers/SelectedImage.tsx","import * as React from \"react\";\r\nimport { Comment } from \"../comments/Comment\";\r\nimport { connect, Dispatch } from \"react-redux\";\r\nimport { Well, Button, Glyphicon } from \"react-bootstrap\";\r\nimport { fetchAndFocusSingleComment, postComment, editComment, deleteComment } from \"../../actions/comments\";\r\nimport { withRouter, InjectedRouter } from \"react-router\";\r\nimport { getImageCommentsDeleteUrl } from \"../../utilities/utils\";\r\nimport { Root } from \"../../interfaces/State\";\r\nimport { Data } from \"../../interfaces/Data\";\r\n\r\ninterface StateToProps {\r\n    getName: (id: number) => string;\r\n    focusedId: number;\r\n    focused: Data.Comment;\r\n    imageId: number;\r\n    imageOwner: string;\r\n    canEdit: (id: number) => boolean;\r\n    skip: number;\r\n    take: number;\r\n}\r\n\r\ntype cb = () => void;\r\n\r\ninterface DispatchToProps {\r\n    editHandle: (commentId: number, imageId: number, text: string, cb: cb) => void;\r\n    deleteHandle: (commentId: number, cb: cb) => void;\r\n    replyHandle: (imageId: number, text: string, parentId: number, cb: cb) => void;\r\n    focusComment: (id: number) => void;\r\n\r\n}\r\n\r\nconst mapStateToProps = (state: Root): StateToProps => {\r\n    const { comments, focusedComment } = state.commentsInfo;\r\n    const { users } = state.usersInfo;\r\n    const { ownerId, selectedImageId } = state.imagesInfo;\r\n\r\n    return {\r\n        getName: (id) => {\r\n            const author = users[id];\r\n            return `${author.FirstName} ${author.LastName}`;\r\n        },\r\n        focusedId: focusedComment,\r\n        focused: comments[0],\r\n        imageId: selectedImageId,\r\n        imageOwner: users[ownerId].Username,\r\n        canEdit: (id) => state.usersInfo.currentUserId === id,\r\n        skip: state.commentsInfo.skip,\r\n        take: state.commentsInfo.take,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<Root>): DispatchToProps => {\r\n    return {\r\n        editHandle: (commentId: number, _: number, text: string, cb: cb) => {\r\n            const url = globals.urls.imagecomments;\r\n            dispatch<any>(editComment(url, commentId, text, cb));\r\n        },\r\n        deleteHandle: (commentId, cb) => {\r\n            const url = getImageCommentsDeleteUrl(commentId);\r\n            dispatch<any>(deleteComment(url, cb));\r\n        },\r\n        replyHandle: (imageId, text, parentId, cb) => {\r\n            const url = globals.urls.imagecomments;\r\n            dispatch<any>(postComment(url, imageId, text, parentId, cb));\r\n        },\r\n        focusComment: (id) => dispatch<any>(fetchAndFocusSingleComment(id))\r\n    };\r\n};\r\n\r\nclass SingleCommentRedux extends React.Component<StateToProps & DispatchToProps & { router: InjectedRouter }, null> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.allComments = this.allComments.bind(this);\r\n        this.deleteComment = this.deleteComment.bind(this);\r\n        this.editComment = this.editComment.bind(this);\r\n        this.replyComment = this.replyComment.bind(this);\r\n    }\r\n\r\n    allComments() {\r\n        const { imageId, imageOwner } = this.props;\r\n        const { push } = this.props.router;\r\n\r\n        const path = `/${imageOwner}/gallery/image/${imageId}/comments`;\r\n        push(path);\r\n    }\r\n\r\n    deleteComment(commentId: number, _: number) {\r\n        const { deleteHandle } = this.props;\r\n\r\n        deleteHandle(commentId, this.allComments);\r\n    }\r\n\r\n    editComment(commentId: number, contextId: number, text: string) {\r\n        const { editHandle, focusComment } = this.props;\r\n        const cb = () => focusComment(commentId);\r\n        editHandle(commentId, contextId, text, cb);\r\n    }\r\n\r\n    replyComment(contextId: number, text: string, parentId: number) {\r\n        const { replyHandle } = this.props;\r\n        replyHandle(contextId, text, parentId, this.allComments);\r\n    }\r\n\r\n    render() {\r\n        const { focusedId } = this.props;\r\n        if (focusedId < 0) return null;\r\n\r\n        const { Text, AuthorID, CommentID, PostedOn, Edited } = this.props.focused;\r\n        const { canEdit, imageId } = this.props;\r\n        const { skip, take } = this.props;\r\n        const props = {\r\n            skip,\r\n            take,\r\n            deleteComment: this.deleteComment,\r\n            editComment: this.editComment,\r\n            replyComment: this.replyComment\r\n        };\r\n\r\n        const name = this.props.getName(AuthorID);\r\n\r\n        return  <div className=\"text-left\">\r\n                    <Well>\r\n                        <Comment\r\n                            contextId={imageId}\r\n                            name={name}\r\n                            text={Text}\r\n                            commentId={CommentID}\r\n                            replies={[]}\r\n                            canEdit={canEdit}\r\n                            authorId={AuthorID}\r\n                            postedOn={PostedOn}\r\n                            edited={Edited}\r\n                            {...props}\r\n                        />\r\n                    </Well>\r\n                    <div>\r\n                        <p className=\"text-center\">\r\n                            <Button onClick={this.allComments}>\r\n                                <Glyphicon glyph=\"refresh\"/> Se alle kommentarer?\r\n                            </Button>\r\n                        </p>\r\n                    </div>\r\n                </div>;\r\n    }\r\n}\r\n\r\nconst SingleCommentConnect = connect(mapStateToProps, mapDispatchToProps)(SingleCommentRedux);\r\nconst SingleImageComment = withRouter(SingleCommentConnect);\r\nexport default SingleImageComment;\n\n\n// WEBPACK FOOTER //\n// ./src/components/containers/SingleImageComment.tsx","import * as React from \"react\";\r\nimport { connect, Dispatch } from \"react-redux\";\r\nimport { uploadImage, addSelectedImageId,  deleteImages, removeSelectedImageId, clearSelectedImageIds, fetchUserImages } from \"../../actions/images\";\r\nimport { ImageUpload } from \"../images/ImageUpload\";\r\nimport ImageList from \"../images/ImageList\";\r\nimport { find } from \"underscore\";\r\nimport { withRouter, PlainRoute } from \"react-router\";\r\nimport { Location } from \"history\";\r\nimport { Row, Col, Button } from \"react-bootstrap\";\r\nimport { Breadcrumb } from \"../breadcrumbs/Breadcrumb\";\r\nimport { values } from \"underscore\";\r\nimport UsedSpace from \"./UsedSpace\";\r\nimport { Root } from \"../../interfaces/State\";\r\nimport { Data } from \"../../interfaces/Data\";\r\n\r\n interface StateToProps {\r\n     images: Data.Image[];\r\n     canEdit: boolean;\r\n     selectedImageIds: number[];\r\n     fullName: string;\r\n }\r\n\r\n interface DispatchToProps {\r\n     uploadImage: (username: string, desription: string, formData: FormData) => void;\r\n     addSelectedImageId: (id: number) => void;\r\n     removeSelectedImageId: (id: number) => void;\r\n     deleteImages: (username: string, ids: number[]) => void;\r\n     clearSelectedImageIds: () => void;\r\n }\r\n\r\ninterface RouteParams {\r\n    username: string;\r\n}\r\n\r\ninterface Router {\r\n    router: {\r\n        setRouteLeaveHook: (route: PlainRoute, hook: (nextLocation: Location) => (string | boolean)) => void\r\n    };\r\n    route: PlainRoute;\r\n}\r\n\r\nconst mapStateToProps = (state: Root) => {\r\n    const { ownerId } = state.imagesInfo;\r\n    const currentId = state.usersInfo.currentUserId;\r\n    const canEdit = (ownerId > 0 && currentId > 0 && ownerId === currentId);\r\n    const user = state.usersInfo.users[ownerId];\r\n    const fullName = user ? `${user.FirstName} ${user.LastName}` : \"\";\r\n    const images: Data.Image[] = values(state.imagesInfo.images).reverse();\r\n\r\n    return {\r\n        images: images,\r\n        canEdit: canEdit,\r\n        selectedImageIds: state.imagesInfo.selectedImageIds,\r\n        fullName: fullName,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<Root>) => {\r\n    return {\r\n        uploadImage: (username: string, description: string, formData: FormData) => {\r\n            dispatch(uploadImage(username, description, formData, () => { dispatch(fetchUserImages(username)); }, () => { }));\r\n        },\r\n        addSelectedImageId: (id: number) => {\r\n            // Images to be deleted by selection:\r\n            dispatch(addSelectedImageId(id));\r\n        },\r\n        removeSelectedImageId: (id: number) => {\r\n            // Images to be deleted by selection:\r\n            dispatch(removeSelectedImageId(id));\r\n        },\r\n        deleteImages: (username: string, ids: number[]) => {\r\n            dispatch(deleteImages(username, ids));\r\n        },\r\n        clearSelectedImageIds: () => {\r\n            dispatch(clearSelectedImageIds());\r\n        }\r\n    };\r\n};\r\n\r\ninterface Props extends Router, StateToProps, DispatchToProps {\r\n    params: RouteParams;\r\n}\r\n\r\nclass UserImagesContainer extends React.Component<Props, null> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.imageIsSelected = this.imageIsSelected.bind(this);\r\n        this.deleteSelectedImages = this.deleteSelectedImages.bind(this);\r\n        this.clearSelected = this.clearSelected.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { username } = this.props.params;\r\n        const { router, route } = this.props;\r\n\r\n        document.title = username + \"'s billeder\";\r\n        router.setRouteLeaveHook(route, this.clearSelected);\r\n    }\r\n\r\n    clearSelected() {\r\n        const { clearSelectedImageIds } = this.props;\r\n        clearSelectedImageIds();\r\n        return true;\r\n    }\r\n\r\n    imageIsSelected(checkId: number) {\r\n        const { selectedImageIds } = this.props;\r\n        const res = find(selectedImageIds, (id) => {\r\n            return id === checkId;\r\n        });\r\n        return res ? true : false;\r\n    }\r\n\r\n    deleteSelectedImages() {\r\n        const { selectedImageIds, deleteImages } = this.props;\r\n        const { username } = this.props.params;\r\n        deleteImages(username, selectedImageIds);\r\n        this.clearSelected();\r\n    }\r\n\r\n    uploadView() {\r\n        const { canEdit, uploadImage, selectedImageIds } = this.props;\r\n        const { username } = this.props.params;\r\n        const hasImages = selectedImageIds.length > 0;\r\n\r\n        if (!canEdit) return null;\r\n\r\n        return  <Row>\r\n                    <Col lg={7}>\r\n                        <ImageUpload\r\n                            uploadImage={uploadImage}\r\n                            username={username}>\r\n                                {\"\\u00A0\"}\r\n                                <Button bsStyle=\"danger\" disabled={!hasImages} onClick={this.deleteSelectedImages}>Slet markeret billeder</Button>\r\n                        </ImageUpload>\r\n                    </Col>\r\n                </Row>;\r\n    }\r\n\r\n    uploadLimitView() {\r\n        const { canEdit } = this.props;\r\n        if (!canEdit) return null;\r\n        return  <Row>\r\n                    <Col lgOffset={2} lg={2}>\r\n                        <br />\r\n                        <UsedSpace />\r\n                    </Col>\r\n                </Row>;\r\n    }\r\n\r\n    render() {\r\n        const { username } = this.props.params;\r\n        const { images, fullName, canEdit, addSelectedImageId, removeSelectedImageId } = this.props;\r\n\r\n        return  <Row>\r\n                    <Row>\r\n                        <Col lgOffset={2} lg={8}>\r\n                            <Breadcrumb>\r\n                                <Breadcrumb.Item href=\"/\">\r\n                                    Forside\r\n                                </Breadcrumb.Item>\r\n                                <Breadcrumb.Item active>\r\n                                    {username}'s billeder\r\n                                </Breadcrumb.Item>\r\n                            </Breadcrumb>\r\n                        </Col>\r\n                    </Row>\r\n                    <Row>\r\n                        <Col lgOffset={2} lg={8}>\r\n                            <h1><span className=\"text-capitalize\">{fullName}</span>'s <small>billede galleri</small></h1>\r\n                            <hr />\r\n                            <ImageList\r\n                                images={images}\r\n                                canEdit={canEdit}\r\n                                addSelectedImageId={addSelectedImageId}\r\n                                removeSelectedImageId={removeSelectedImageId}\r\n                                imageIsSelected={this.imageIsSelected}\r\n                                username={username}\r\n                            />\r\n                            {this.uploadView()}\r\n                        </Col>\r\n                    </Row>\r\n                    {this.uploadLimitView()}\r\n                    {this.props.children}\r\n                </Row>;\r\n    }\r\n}\r\n\r\nconst UserImagesRedux = connect(mapStateToProps, mapDispatchToProps)(UserImagesContainer);\r\nconst UserImages = withRouter(UserImagesRedux);\r\nexport default UserImages;\n\n\n// WEBPACK FOOTER //\n// ./src/components/containers/UserImages.tsx","import * as React from \"react\";\r\nimport { connect, Dispatch } from \"react-redux\";\r\nimport { fetchUsers } from \"../../actions/users\";\r\nimport { UserList } from \"../users/UserList\";\r\nimport { Row, Col, PageHeader } from \"react-bootstrap\";\r\nimport { Breadcrumb } from \"../breadcrumbs/Breadcrumb\";\r\nimport { values } from \"underscore\";\r\nimport { Root } from \"../../interfaces/State\";\r\nimport { Data } from \"../../interfaces/Data\";\r\n\r\ninterface StateToProps {\r\n    users: Data.User[];\r\n}\r\n\r\ninterface DispatchToProps {\r\n    getUsers: () => void;\r\n}\r\n\r\nconst mapUsersToProps = (state: Root): StateToProps => {\r\n    return {\r\n        users: values(state.usersInfo.users) as Data.User[]\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<Root>) => {\r\n    return {\r\n        getUsers: () => {\r\n            dispatch<any>(fetchUsers());\r\n        }\r\n    };\r\n};\r\n\r\nclass UsersContainer extends React.Component<StateToProps & DispatchToProps, null> {\r\n    componentDidMount() {\r\n        document.title = \"Brugere\";\r\n    }\r\n\r\n    render() {\r\n        const { users } = this.props;\r\n        return  <Row>\r\n                    <Row>\r\n                        <Col lgOffset={2} lg={8}>\r\n                            <Breadcrumb>\r\n                                <Breadcrumb.Item href=\"/\">\r\n                                    Forside\r\n                                </Breadcrumb.Item>\r\n                                <Breadcrumb.Item active>\r\n                                    Brugere\r\n                                </Breadcrumb.Item>\r\n                            </Breadcrumb>\r\n                        </Col>\r\n                    </Row>\r\n                    <Col lgOffset={2} lg={8}>\r\n                        <PageHeader>\r\n                            Inuplan's <small>brugere</small>\r\n                        </PageHeader>\r\n                        <Row>\r\n                            <UserList users={users} />\r\n                        </Row>\r\n                    </Col>\r\n                </Row>;\r\n    }\r\n}\r\n\r\nconst Users = connect(mapUsersToProps, mapDispatchToProps)(UsersContainer);\r\nexport default Users;\n\n\n// WEBPACK FOOTER //\n// ./src/components/containers/Users.tsx","import * as React from \"react\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\n\r\nexport default class Forum extends React.PureComponent<null, null> {\r\n    render() {\r\n        return  <Row>\r\n                    <Col lgOffset={2} lg={8}>\r\n                        <h1>Forum <small>indl&aelig;g</small></h1>\r\n                        <hr />\r\n                        {this.props.children}\r\n                    </Col>\r\n                </Row>;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/shells/Forum.tsx","import * as React from \"react\";\r\nimport { connect, Dispatch } from \"react-redux\";\r\nimport { Grid, Navbar, Nav, NavDropdown, MenuItem } from \"react-bootstrap\";\r\nimport { Root } from \"../../interfaces/State\";\r\nimport { Error } from \"../containers/Error\";\r\nimport { clearError } from \"../../actions/error\";\r\nimport { NavLink, IndexNavLink } from \"../wrappers/Links\";\r\nimport { Components as C } from \"../../interfaces/Components\";\r\nimport { Spinner } from \"../loading/Spinner\";\r\n\r\ninterface StateToProps extends C.HasErrorProp {\r\n    name: string;\r\n    error: C.ErrorState;\r\n    loading: boolean;\r\n}\r\n\r\ninterface DispatchToProps {\r\n    clearError: Function;\r\n}\r\n\r\nconst mapStateToProps = (state: Root) : StateToProps => {\r\n    const user = state.usersInfo.users[state.usersInfo.currentUserId];\r\n    const name = user ? user.FirstName : \"User\";\r\n\r\n    return {\r\n        name: name,\r\n        hasError: state.statusInfo.hasError,\r\n        error: state.statusInfo.errorInfo,\r\n        loading: (state.statusInfo.loadStack.size > 0)\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<Root>) : DispatchToProps => {\r\n    return {\r\n        clearError: () => dispatch(clearError())\r\n    };\r\n};\r\n\r\nclass Shell extends React.Component<StateToProps & DispatchToProps, any> {\r\n    errorView() {\r\n        const { hasError, clearError, error } = this.props;\r\n        const { title, message } = error;\r\n        if (!hasError) return null;\r\n\r\n        return  <Error\r\n                    title={title}\r\n                    message={message}\r\n                    clearError={clearError} />;\r\n    }\r\n\r\n    render() {\r\n        const { name, loading } = this.props;\r\n        const employeeUrl = globals.urls.employeeHandbook;\r\n        const c5SearchUrl = globals.urls.c5Search;\r\n        return  <Grid fluid={true}>\r\n                    <Spinner show={loading} />\r\n                    <Navbar fixedTop>\r\n                        <Navbar.Header>\r\n                            <Navbar.Brand>\r\n                                <a href={globals.urls.intranetside} className=\"navbar-brand\">Inuplan Intranet</a>\r\n                            </Navbar.Brand>\r\n                            <Navbar.Toggle />\r\n                        </Navbar.Header>\r\n\r\n                        <Navbar.Collapse>\r\n                            <Nav>\r\n                                <IndexNavLink to=\"/\">Forside</IndexNavLink>\r\n                                <NavLink to=\"/forum\">Forum</NavLink>\r\n                                <NavLink to=\"/users\">Brugere</NavLink>\r\n                                <NavLink to=\"/about\">Om</NavLink>\r\n                            </Nav>\r\n\r\n                            <Navbar.Text pullRight>\r\n                                Hej, {name}!\r\n                            </Navbar.Text>\r\n\r\n                            <Nav pullRight>\r\n                                <NavDropdown eventKey={5} title=\"Links\" id=\"extern_links\">\r\n                                    <MenuItem href={employeeUrl} eventKey={5.1}>Medarbejder h&aring;ndbog</MenuItem>\r\n                                    <MenuItem href={c5SearchUrl} eventKey={5.2}>C5 S&oslash;gning</MenuItem>\r\n                                </NavDropdown>\r\n                            </Nav>\r\n\r\n                        </Navbar.Collapse>\r\n\r\n                    </Navbar>\r\n                        {this.errorView()}\r\n                        {this.props.children}\r\n                </Grid>;\r\n    }\r\n}\r\n\r\nconst Main = connect(mapStateToProps, mapDispatchToProps)(Shell);\r\nexport default Main;\n\n\n// WEBPACK FOOTER //\n// ./src/components/shells/Main.tsx","import store from \"../store/store\";\r\nimport { fetchLatestNews } from \"../actions/whatsnew\";\r\nimport { fetchThreads, fetchPost } from \"../actions/forum\";\r\nimport { RouterState } from \"react-router\";\r\nimport { fetchCurrentUser, fetchUsers } from \"../actions/users\";\r\nimport { fetchUserImages, setSelectedImg, setImageOwner } from \"../actions/images\";\r\nimport { fetchComments, setSkipComments, setTakeComments, fetchAndFocusSingleComment } from \"../actions/comments\";\r\nimport { getImageCommentsPageUrl, getForumCommentsPageUrl } from \"../utilities/utils\";\r\nimport { polyfill } from \"es6-promise\";\r\nimport { polyfill as objectPolyfill } from \"es6-object-assign\";\r\n\r\nexport const init = () => {\r\n    objectPolyfill();\r\n    polyfill();\r\n    store.dispatch(fetchCurrentUser(globals.currentUsername));\r\n    store.dispatch(fetchUsers());\r\n    moment.locale(\"da\");\r\n};\r\n\r\nexport const fetchWhatsNew = () => {\r\n    const getLatest = (skip: number, take: number): void => store.dispatch(fetchLatestNews(skip, take));\r\n    const { skip, take } = store.getState().whatsNewInfo;\r\n    getLatest(skip, take);\r\n};\r\n\r\nexport const fetchForum = (_: RouterState) => {\r\n    const { skip, take } = store.getState().forumInfo.titlesInfo;\r\n    store.dispatch<any>(fetchThreads(skip, take));\r\n};\r\n\r\nexport const fetchSinglePost = (nextState: RouterState) => {\r\n    const { id } = nextState.params;\r\n    store.dispatch<any>(fetchPost(Number(id)));\r\n};\r\n\r\ninterface ParamsId {\r\n    params: { id: string };\r\n}\r\n\r\ninterface ParamsUsername {\r\n    params: { username: string };\r\n}\r\n\r\ninterface LocationQueryPage {\r\n    location: {\r\n        query: {\r\n            page: string\r\n        }\r\n    };\r\n}\r\n\r\ninterface LocationQueryId {\r\n    location: {\r\n        query: {\r\n            id: string\r\n        }\r\n    };\r\n}\r\n\r\n\r\nexport const selectImage = (nextState: RouterState & ParamsId) => {\r\n    const imageId = Number(nextState.params.id);\r\n    store.dispatch(setSelectedImg(imageId));\r\n};\r\n\r\nexport const fetchImages = (nextState: RouterState & ParamsUsername) => {\r\n    const username = nextState.params.username;\r\n    store.dispatch(setImageOwner(username));\r\n    store.dispatch(fetchUserImages(username));\r\n\r\n    // reset comment state\r\n    store.dispatch(setSkipComments(undefined));\r\n    store.dispatch(setTakeComments(undefined));\r\n};\r\n\r\nexport const loadComments = (nextState: RouterState & ParamsId & LocationQueryPage) => {\r\n    const { id } = nextState.params;\r\n    const page = Number(nextState.location.query.page);\r\n    const { skip, take } = store.getState().commentsInfo;\r\n\r\n    const url = getImageCommentsPageUrl(Number(id), skip, take);\r\n    if (!page) {\r\n        store.dispatch(fetchComments(url, skip, take));\r\n    }\r\n    else {\r\n        const skipPages = page - 1;\r\n        const skipItems = (skipPages * take);\r\n        store.dispatch(fetchComments(url, skipItems, take));\r\n    }\r\n};\r\n\r\nexport const fetchComment = (nextState: RouterState & LocationQueryId) => {\r\n    const id = Number(nextState.location.query.id);\r\n    store.dispatch(fetchAndFocusSingleComment(id));\r\n};\r\n\r\nexport const fetchPostComments = (nextState: RouterState & ParamsId) => {\r\n    const { id } = nextState.params;\r\n    const { skip, take } = store.getState().commentsInfo;\r\n\r\n    const url = getForumCommentsPageUrl(Number(id), skip, take);\r\n    store.dispatch(fetchComments(url, skip, take));\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/utilities/onstartup.ts","import { ActionType as T } from \"../constants/actions\";\r\nimport { responseHandler, options } from \"../utilities/utils\";\r\nimport * as fetch from \"isomorphic-fetch\";\r\nimport { General } from \"../interfaces/General\";\r\nimport { fetchResult } from \"../constants/types\";\r\n\r\nexport const startLoading = () => {\r\n    return {\r\n        type: T.START_LOADING\r\n    };\r\n};\r\n\r\nexport const endLoading = () => {\r\n    return {\r\n        type: T.END_LOADING\r\n    };\r\n};\r\n\r\nexport const setUsedSpacekB = (usedSpace: number): General.Action<number> => {\r\n    return {\r\n        type: T.SET_USED_SPACE_KB,\r\n        payload: usedSpace\r\n    };\r\n};\r\n\r\nexport const setTotalSpacekB = (totalSpace: number): General.Action<number> => {\r\n    return {\r\n        type: T.SET_TOTAL_SPACE_KB,\r\n        payload: totalSpace\r\n    };\r\n};\r\n\r\nexport const fetchSpaceInfo = (url: string): fetchResult<any, void> => {\r\n    return (dispatch) => {\r\n        dispatch(startLoading());\r\n        const handler = responseHandler<{UsedSpaceKB: number, SpaceQuotaKB: number}>(dispatch)(r => r.json());\r\n        return fetch(url, options)\r\n            .then(handler)\r\n            .then(data => {\r\n                const usedSpace = data.UsedSpaceKB;\r\n                const totalSpace = data.SpaceQuotaKB;\r\n\r\n                dispatch(setUsedSpacekB(usedSpace));\r\n                dispatch(setTotalSpacekB(totalSpace));\r\n            });\r\n    };\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/actions/status.ts","import * as React from \"react\";\r\nimport { Media, Glyphicon  } from \"react-bootstrap\";\r\nimport { Components } from \"../../interfaces/Components\";\r\n\r\nexport class CommentDeleted extends React.Component<Components.CommentDeleted, null> {\r\n    render() {\r\n        const { replies, construct } = this.props;\r\n        const replyNodes = replies.map(reply => construct(reply));\r\n\r\n        return  <Media>\r\n                    <Media.Left className=\"comment-deleted-left\" />\r\n                    <Media.Body>\r\n                        <p className=\"text-muted comment-deleted\">\r\n                            <span>\r\n                                <Glyphicon glyph=\"remove-sign\" /> Kommentar slettet\r\n                            </span>\r\n                        </p>\r\n                        {replyNodes}\r\n                    </Media.Body>\r\n                </Media>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/comments/CommentDeleted.tsx","import * as React from \"react\";\r\nimport { Components } from \"../../interfaces/Components\";\r\nimport { TextEditor } from \"../texteditor/TextEditor\";\r\n\r\nexport class CommentForm extends React.Component<Components.CommentForm, null> {\r\n    constructor(props: any) {\r\n        super(props);\r\n\r\n        this.postComment = this.postComment.bind(this);\r\n    }\r\n\r\n    postComment(e: React.FormEvent<any>) {\r\n        e.preventDefault();\r\n\r\n        const { postHandle } = this.props;\r\n        const editor = this.refs.editor as TextEditor;\r\n        const text = editor.getText();\r\n        postHandle(text);\r\n\r\n        // Clear textarea\r\n        editor.setText(\"\");\r\n    }\r\n\r\n    render() {\r\n        return  <form onSubmit={this.postComment}>\r\n                    <label htmlFor=\"remark\">Kommentar</label>\r\n                    <TextEditor\r\n                        placeholder=\"Skriv tekst\"\r\n                        markdown=\"\"\r\n                        ref=\"editor\"\r\n                    />\r\n                    <button type=\"submit\" className=\"btn btn-primary\">Send</button>\r\n                </form>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/comments/CommentForm.tsx","import * as React from \"react\";\r\nimport { Row, Col, Alert } from \"react-bootstrap\";\r\nimport { Components as C } from \"../../interfaces/Components\";\r\n\r\nexport class Error extends React.Component<C.Error, any> {\r\n    render() {\r\n        const { clearError, title, message } = this.props;\r\n        return  <Row>\r\n                    <Col lgOffset={2} lg={8}>\r\n                        <Alert bsStyle=\"danger\" onDismiss={clearError}>\r\n                            <strong>{title}</strong>\r\n                            <p>{message}</p>\r\n                        </Alert>\r\n                    </Col>\r\n                </Row>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/containers/Error.tsx","import * as React from \"react\";\r\nimport { connect, Dispatch } from \"react-redux\";\r\nimport { fetchLatestNews } from \"../../actions/whatsnew\";\r\nimport { WhatsNewList } from \"../whatsnew/WhatsNewList\";\r\nimport { ForumHeader, ForumBody } from \"./ForumPost\";\r\nimport { Button, ButtonToolbar, Modal, Row, Col } from \"react-bootstrap\";\r\nimport { Pagination } from \"../pagination/Pagination\";\r\nimport { withRouter, InjectedRouter } from \"react-router\";\r\nimport { Root } from \"../../interfaces/State\";\r\nimport { Data } from \"../../interfaces/Data\";\r\n\r\ninterface StateProps {\r\n    items: Data.WhatsNew[];\r\n    getUser: (id: number) => Data.User;\r\n    skip: number;\r\n    take: number;\r\n    totalPages: number;\r\n    page: number;\r\n}\r\n\r\ninterface DispatchProps {\r\n    getLatest: (skip: number, take: number) => Dispatch<any>;\r\n}\r\n\r\ninterface ComponentState {\r\n    modal: boolean;\r\n    postPreview: Data.WhatsNewForumPost;\r\n    author: Data.User;\r\n    on: Date;\r\n}\r\n\r\nconst mapStateToProps = (state: Root): StateProps => {\r\n    return {\r\n        items: state.whatsNewInfo.items,\r\n        getUser: (id) => state.usersInfo.users[id],\r\n        skip: state.whatsNewInfo.skip,\r\n        take: state.whatsNewInfo.take,\r\n        totalPages: state.whatsNewInfo.totalPages,\r\n        page: state.whatsNewInfo.page,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: Dispatch<Root>): DispatchProps => {\r\n    return {\r\n        getLatest: (skip, take) => dispatch<any>(fetchLatestNews(skip, take)),\r\n    };\r\n};\r\n\r\nclass WhatsNewContainer extends React.Component<StateProps & DispatchProps & { router: InjectedRouter }, ComponentState> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            modal: false,\r\n            postPreview: null,\r\n            author: null,\r\n            on: null\r\n        };\r\n\r\n        this.pageHandle = this.pageHandle.bind(this);\r\n        this.previewPost = this.previewPost.bind(this);\r\n        this.closeModal = this.closeModal.bind(this);\r\n        this.modalView = this.modalView.bind(this);\r\n        this.navigateTo = this.navigateTo.bind(this);\r\n    }\r\n\r\n    pageHandle(to: number) {\r\n        const { getLatest, page, take } = this.props;\r\n        if (page === to) return;\r\n\r\n        const skipPages = to - 1;\r\n        const skipItems = (skipPages * take);\r\n        getLatest(skipItems, take);\r\n    }\r\n\r\n    previewPost(item: Data.WhatsNew) {\r\n        const { getUser } = this.props;\r\n        const author = getUser(item.AuthorID);\r\n        this.setState({\r\n            modal: true,\r\n            postPreview: item.Item as Data.WhatsNewForumPost,\r\n            author: author,\r\n            on: item.On\r\n        });\r\n    }\r\n\r\n    navigateTo(url: string) {\r\n        const { push } = this.props.router;\r\n        push(url);\r\n    }\r\n\r\n    closeModal() {\r\n        this.setState({\r\n            modal: false,\r\n            postPreview: null,\r\n            author: null,\r\n            on: null\r\n        });\r\n    }\r\n\r\n    modalView() {\r\n        if (!Boolean(this.state.postPreview)) return null;\r\n        const { Text, Title, ID } = this.state.postPreview;\r\n        const author = this.state.author;\r\n        const name = `${author.FirstName} ${author.LastName}`;\r\n        const link = `forum/post/${ID}/comments`;\r\n\r\n        return  <Modal show={this.state.modal} onHide={this.closeModal} bsSize=\"large\">\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>\r\n                            <ForumHeader\r\n                                lg={11}\r\n                                lgOffset={1}\r\n                                createdOn={this.state.on}\r\n                                title={Title}\r\n                                name={name}\r\n                            />\r\n                        </Modal.Title>\r\n                    </Modal.Header>\r\n\r\n                    <Modal.Body>\r\n                        <ForumBody text={Text} lg={11} lgOffset={1}>\r\n                        </ForumBody>\r\n                    </Modal.Body>\r\n\r\n                    <Modal.Footer>\r\n                        <ButtonToolbar style={{float: \"right\"}}>\r\n                            <Button bsStyle=\"primary\" onClick={() => this.navigateTo(link)}>\r\n                               Se kommentarer (forum)\r\n                            </Button>\r\n                            <Button onClick={this.closeModal}>Luk</Button>\r\n                        </ButtonToolbar>\r\n                    </Modal.Footer>\r\n                </Modal>;\r\n    }\r\n\r\n    render() {\r\n        const { items, getUser, totalPages, page } = this.props;\r\n\r\n        return  <Row>\r\n                    <Col>\r\n                        <h3>Sidste h&aelig;ndelser</h3>\r\n                        <hr />\r\n                        <WhatsNewList\r\n                            items={items}\r\n                            getUser={getUser}\r\n                            preview={this.previewPost}\r\n                        />\r\n                        <Pagination\r\n                            totalPages={totalPages}\r\n                            page={page}\r\n                            pageHandle={this.pageHandle}\r\n                        />\r\n                        {this.modalView()}\r\n                    </Col>\r\n                </Row>;\r\n    }\r\n}\r\n\r\nconst WhatsNew = withRouter(connect(mapStateToProps, mapDispatchToProps)(WhatsNewContainer));\r\nexport default WhatsNew;\n\n\n// WEBPACK FOOTER //\n// ./src/components/containers/WhatsNew.tsx","import * as React from \"react\";\r\nimport { Row, Col, Glyphicon, OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\nimport { getWords } from \"../../utilities/utils\";\r\nimport { Link } from \"react-router\";\r\nimport { Data } from \"../../interfaces/Data\";\r\n\r\ninterface ComponentProps {\r\n    title: Data.ForumTitle;\r\n    getAuthor: (id: number) => string;\r\n}\r\n\r\nexport class ForumTitle extends React.Component<ComponentProps, any> {\r\n    dateView(date: Date) {\r\n        const dayMonthYear = moment(date).format(\"D/MM/YY\");\r\n        return `${dayMonthYear}`;\r\n    }\r\n\r\n    modifiedView(modifiedOn: Date) {\r\n        if (!modifiedOn) return null;\r\n        const modifiedDate = moment(modifiedOn).format(\"D/MM/YY-H:mm\");\r\n        return `${modifiedDate}`;\r\n    }\r\n\r\n    tooltipView() {\r\n        return  <Tooltip id=\"tooltip\">Vigtig</Tooltip>;\r\n    }\r\n\r\n    stickyIcon(show: boolean) {\r\n        if (!show) return null;\r\n        return  <p className=\"sticky\">\r\n                    <OverlayTrigger placement=\"top\" overlay={this.tooltipView()}>\r\n                        <Glyphicon glyph=\"pushpin\" />\r\n                    </OverlayTrigger>\r\n                </p>;\r\n    }\r\n\r\n    dateModifiedView(title: Data.ForumTitle) {\r\n        const created = this.dateView(title.CreatedOn);\r\n        const updated = this.modifiedView(title.LastModified);\r\n        if (!updated) return <span>{created}</span>;\r\n\r\n        return  <span>\r\n                    {created}<br />\r\n                    ({updated})\r\n                </span>;\r\n    }\r\n\r\n    createSummary() {\r\n        const { title } = this.props;\r\n        if (!title.LatestComment) return \"Ingen kommentarer\";\r\n\r\n        if (title.LatestComment.Deleted) return \"Kommentar slettet\";\r\n        const text = title.LatestComment.Text;\r\n        return getWords(text, 5);\r\n    }\r\n\r\n    render() {\r\n        const { title, getAuthor } = this.props;\r\n        const name = getAuthor(title.AuthorID);\r\n        const latestComment  = this.createSummary();\r\n        const css = title.Sticky ? \"thread thread-pinned\" : \"thread\";\r\n        const path = `/forum/post/${title.ID}/comments`;\r\n\r\n        return  <Link to={path}>\r\n                    <Row className={css}>\r\n                        <Col lg={1} className=\"text-center\">{this.stickyIcon(title.Sticky)}</Col>\r\n                        <Col lg={5}>\r\n                            <h4><span className=\"text-capitalize\">{title.Title}</span></h4>\r\n                            <small>Af: {name}</small>\r\n                        </Col>\r\n                        <Col lg={2} className=\"text-left\">\r\n                            <p>{this.dateModifiedView(title)}</p>\r\n                        </Col>\r\n                        <Col lg={2} className=\"text-center\">\r\n                            <p>{title.ViewedBy.length}</p>\r\n                        </Col>\r\n                        <Col lg={2} className=\"text-center\">\r\n                            <p>{latestComment}</p>\r\n                        </Col>\r\n                    </Row>\r\n                </Link>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/forum/ForumTitle.tsx","import * as React from \"react\";\r\nimport { Link } from \"react-router\";\r\nimport { Row, Col, Image as ImageBs } from \"react-bootstrap\";\r\nimport { Components } from \"../../interfaces/Components\";\r\n\r\nexport class Image extends React.Component<Components.Image, null> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.checkboxHandler = this.checkboxHandler.bind(this);\r\n    }\r\n\r\n    checkboxHandler(e: React.MouseEvent<any>) {\r\n        const { image } = this.props;\r\n        const add = e.currentTarget.checked;\r\n        if (add) {\r\n            const { addSelectedImageId } = this.props;\r\n            addSelectedImageId(image.ImageID);\r\n        }\r\n        else {\r\n            const { removeSelectedImageId } = this.props;\r\n            removeSelectedImageId(image.ImageID);\r\n        }\r\n    }\r\n\r\n    commentIcon(count: number) {\r\n        const style = count === 0 ? \"col-lg-6 text-muted\" : \"col-lg-6 text-primary\";\r\n        const props = {\r\n            className: style\r\n        };\r\n\r\n        return  <div {... props}>\r\n                    <span className=\"glyphicon glyphicon-comment\" aria-hidden=\"true\"></span> {count}\r\n                </div>;\r\n    }\r\n\r\n    checkboxView() {\r\n        const { canEdit, imageIsSelected, image } = this.props;\r\n        const checked = imageIsSelected(image.ImageID);\r\n        return (canEdit ?\r\n            <Col lg={6} className=\"pull-right text-right\">\r\n                <label>\r\n                    Slet <input type=\"checkbox\" onClick={this.checkboxHandler} checked={checked} />\r\n                </label>\r\n            </Col>\r\n            : null);\r\n    }\r\n\r\nrender() {\r\n    const { image, username } = this.props;\r\n    const count = image.CommentCount;\r\n    const url = `/${username}/gallery/image/${image.ImageID}/comments`;\r\n    return  <div>\r\n                <Link to={url}>\r\n                    <ImageBs src={image.PreviewUrl} thumbnail />\r\n                </Link>\r\n                <Row>\r\n                    <Link to={url}>\r\n                        {this.commentIcon(count)}\r\n                    </Link>\r\n                    {this.checkboxView()}\r\n                </Row>\r\n            </div>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/images/Image.tsx","import * as React from \"react\";\r\nimport { Image } from \"./Image\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\nimport { Components } from \"../../interfaces/Components\";\r\nimport { Data } from \"../../interfaces/Data\";\r\n\r\nconst elementsPerRow = 4;\r\n\r\nexport default class ImageList extends React.Component<Components.ImageList, null> {\r\n    arrangeArray(images: Data.Image[]) {\r\n        const length = images.length;\r\n        const times = Math.ceil(length / elementsPerRow);\r\n\r\n        let result: Array<Data.Image[]> = [];\r\n        let start = 0;\r\n        for (let i = 0; i < times; i++) {\r\n            start = i * elementsPerRow;\r\n            const end = start + elementsPerRow;\r\n            const last = end > length;\r\n            if (last) {\r\n                const row = images.slice(start);\r\n                result.push(row);\r\n            } else {\r\n                const row = images.slice(start, end);\r\n                result.push(row);\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    imagesView(images: Data.Image[]) {\r\n        if (images.length === 0) return null;\r\n        const { addSelectedImageId, removeSelectedImageId, canEdit, imageIsSelected, username } = this.props;\r\n        const result = this.arrangeArray(images);\r\n        const view = result.map((row, i) => {\r\n            const imgs = row.map((img) => {\r\n                return  <Col lg={3} key={img.ImageID}>\r\n                            <Image\r\n                                image={img}\r\n                                canEdit={canEdit}\r\n                                addSelectedImageId={addSelectedImageId}\r\n                                removeSelectedImageId={removeSelectedImageId}\r\n                                imageIsSelected={imageIsSelected}\r\n                                username={username}\r\n                            />\r\n                        </Col>;\r\n            });\r\n\r\n            const rowId = \"rowId\" + i;\r\n            return  <Row key={rowId}>\r\n                        {imgs}\r\n                    </Row>;\r\n        });\r\n\r\n        return view;\r\n    }\r\n\r\n\r\n    render() {\r\n        const { images } = this.props;\r\n        return  <Row>\r\n                    {this.imagesView(images)}\r\n                </Row>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/images/ImageList.tsx","import * as React from \"react\";\r\n\r\ninterface SpinnerProps {\r\n    show: boolean;\r\n}\r\n\r\nexport class Spinner extends React.Component<SpinnerProps, null> {\r\n    constructor(props: SpinnerProps) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        const { show } = this.props;\r\n\r\n        if (!show) return null;\r\n\r\n        return  <div className=\"dim\">\r\n                    <div className=\"center\">\r\n                        <div className=\"loading cssload-loader\">\r\n                            <span className=\"cssload-loader-inner\">\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/loading/Spinner.tsx","import * as React from \"react\";\r\nimport TextStyles, { Style } from \"../../constants/TextStyles\";\r\n\r\ninterface StyleButtonProps {\r\n    active: boolean;\r\n    label: string;\r\n    onClick: (styleType: TextStyles, style: Style) => void;\r\n    style: Style;\r\n    styleType: TextStyles;\r\n    key: string;\r\n}\r\n\r\nexport class StyleButton extends React.Component<StyleButtonProps, null> {\r\n    constructor(props: any) {\r\n        super(props);\r\n\r\n        this.onClick = this.onClick.bind(this);\r\n    }\r\n\r\n    onClick(e: React.MouseEvent<any>) {\r\n        e.preventDefault();\r\n\r\n        const { styleType, style, onClick } = this.props;\r\n        onClick(styleType, style);\r\n    }\r\n\r\n    render() {\r\n        const { label, active } = this.props;\r\n        const css = active ? \"richEditor-styleButton richEditor-activeButton\" : \"richEditor-styleButton\";\r\n        return  <span className={css} onClick={this.onClick}>\r\n                    {label}\r\n                </span>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/texteditor/StyleButton.tsx","import * as React from \"react\";\r\nimport { StyleButton } from \"./StyleButton\";\r\nimport TextStyles, { Style } from \"../../constants/TextStyles\";\r\nimport { OrderedSet } from \"immutable\";\r\n\r\ninterface ToolbarBlockState {\r\n}\r\n\r\ninterface ToolbarBlockProps {\r\n    currentBlockType: Style;\r\n    currentInlineType: OrderedSet<string>;\r\n    onStyleClick: (styleType: TextStyles, style: Style) => void;\r\n}\r\n\r\nexport class ToolbarBlock extends React.Component<ToolbarBlockProps, ToolbarBlockState> {\r\n    constructor(props: any) {\r\n        super(props);\r\n\r\n        this.isActiveBlock = this.isActiveBlock.bind(this);\r\n    }\r\n\r\n    isActiveBlock(style: Style) {\r\n        const { currentBlockType } = this.props;\r\n        const active = style === currentBlockType;\r\n        return active;\r\n    }\r\n\r\n    isActiveInline(style: Style) {\r\n        const { currentInlineType } = this.props;\r\n        const active = currentInlineType.contains(style);\r\n        return active;\r\n    }\r\n\r\n    render() {\r\n        const { onStyleClick } = this.props;\r\n        return  <div className=\"richEditor-controls\">\r\n                    <StyleButton\r\n                        key=\"H1\"\r\n                        active={this.isActiveBlock(\"header-one\")}\r\n                        label=\"Overskrift 1\"\r\n                        onClick={onStyleClick}\r\n                        style=\"header-one\"\r\n                        styleType={TextStyles.Block}\r\n                    />\r\n                    <StyleButton\r\n                        key=\"H2\"\r\n                        active={this.isActiveBlock(\"header-two\")}\r\n                        label=\"Overskrift 2\"\r\n                        onClick={onStyleClick}\r\n                        style=\"header-two\"\r\n                        styleType={TextStyles.Block}\r\n                    />\r\n                    <StyleButton\r\n                        key=\"H3\"\r\n                        active={this.isActiveBlock(\"header-three\")}\r\n                        label=\"Overskrift 3\"\r\n                        onClick={onStyleClick}\r\n                        style=\"header-three\"\r\n                        styleType={TextStyles.Block}\r\n                    />\r\n                    <StyleButton\r\n                        key=\"Normal\"\r\n                        active={this.isActiveBlock(\"unstyled\")}\r\n                        label=\"Normal\"\r\n                        onClick={onStyleClick}\r\n                        style=\"unstyled\"\r\n                        styleType={TextStyles.Block}\r\n                    />\r\n                    <StyleButton\r\n                        key=\"OL\"\r\n                        active={this.isActiveBlock(\"ordered-list-item\")}\r\n                        label=\"Liste\"\r\n                        onClick={onStyleClick}\r\n                        style=\"ordered-list-item\"\r\n                        styleType={TextStyles.Block}\r\n                    />\r\n                    <StyleButton\r\n                        key=\"UL\"\r\n                        active={this.isActiveBlock(\"unordered-list-item\")}\r\n                        label=\"Punkter\"\r\n                        onClick={onStyleClick}\r\n                        style=\"unordered-list-item\"\r\n                        styleType={TextStyles.Block}\r\n                    />\r\n                    <br />\r\n                    <StyleButton\r\n                        key=\"BOLD\"\r\n                        active={this.isActiveInline(\"BOLD\")}\r\n                        label=\"Fed\"\r\n                        onClick={onStyleClick}\r\n                        style=\"BOLD\"\r\n                        styleType={TextStyles.Inline}\r\n                    />\r\n                    <StyleButton\r\n                        key=\"ITALIC\"\r\n                        active={this.isActiveInline(\"ITALIC\")}\r\n                        label=\"Kursiv\"\r\n                        onClick={onStyleClick}\r\n                        style=\"ITALIC\"\r\n                        styleType={TextStyles.Inline}\r\n                    />\r\n                    <StyleButton\r\n                        key=\"CODE\"\r\n                        active={this.isActiveInline(\"CODE\")}\r\n                        label=\"Marker\"\r\n                        onClick={onStyleClick}\r\n                        style=\"CODE\"\r\n                        styleType={TextStyles.Inline}\r\n                    />\r\n                </div>;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/texteditor/ToolbarBlock.tsx","import * as React from \"react\";\r\nimport { Link } from \"react-router\";\r\nimport { Row, Col, Panel } from \"react-bootstrap\";\r\nimport { Components } from \"../../interfaces/Components\";\r\n\r\ninterface TitleProp {\r\n    title: string;\r\n}\r\n\r\nexport class User extends React.Component<Components.User, null> {\r\n    render() {\r\n        const { username, firstName, lastName, email } = this.props;\r\n        const emailLink = \"mailto:\" + email;\r\n        const gallery = \"/\" + username + \"/gallery\";\r\n\r\n        return  <Col lg={3}>\r\n                    <Panel header={`${firstName} ${lastName}`}>\r\n                        <UserItem title=\"Brugernavn\">{username}</UserItem>\r\n                        <UserItem title=\"Email\"><a href={emailLink}>{email}</a></UserItem>\r\n                        <UserItem title=\"Billeder\"><Link to={gallery}>Billeder</Link></UserItem>\r\n                    </Panel>\r\n                </Col>;\r\n    }\r\n}\r\n\r\nclass UserHeading extends React.Component<null, null> {\r\n    render() {\r\n        return  <Col lg={6}>\r\n                    <strong>{this.props.children}</strong>\r\n                </Col>;\r\n    }\r\n}\r\n\r\nclass UserBody extends React.Component<null, null> {\r\n    render() {\r\n        return  <Col lg={6}>\r\n                    {this.props.children}\r\n                </Col>;\r\n    }\r\n}\r\n\r\nclass UserItem extends React.Component<TitleProp, null> {\r\n    render() {\r\n        const { title } = this.props;\r\n        return  <Row>\r\n                    <UserHeading>{title}</UserHeading>\r\n                    <UserBody>{this.props.children}</UserBody>\r\n                </Row>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/users/User.tsx","import * as React from \"react\";\r\nimport { User } from \"./User\";\r\nimport { Row } from \"react-bootstrap\";\r\nimport { Components } from \"../../interfaces/Components\";\r\n\r\nexport class UserList extends React.Component<Components.UserList, null> {\r\n    userNodes() {\r\n        const { users } = this.props;\r\n        return users.map((user) => {\r\n            const userId = `userId_${user.ID}`;\r\n            return  <User\r\n                          username={user.Username}\r\n                          userId={user.ID}\r\n                          firstName={user.FirstName}\r\n                          lastName={user.LastName}\r\n                          email={user.Email}\r\n                          profileUrl={user.ProfileImage}\r\n                          roles={user.Role}\r\n                          key={userId}\r\n                      />;\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return  <Row>\r\n                    {this.userNodes()}\r\n                </Row>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/users/UserList.tsx","import * as React from \"react\";\r\nimport { WhatsNewTooltip } from \"./WhatsNewTooltip\";\r\nimport { CommentProfile } from \"../comments/CommentProfile\";\r\nimport { getWords, timeText } from \"../../utilities/utils\";\r\nimport { Media, Glyphicon, Tooltip } from \"react-bootstrap\";\r\nimport { Data } from \"../../interfaces/Data\";\r\n\r\ninterface StateProps {\r\n    on: Date;\r\n    author: Data.User;\r\n    title: string;\r\n    text: string;\r\n    sticky: boolean;\r\n    commentCount: number;\r\n    preview: (index: number) => void;\r\n    index: number;\r\n}\r\n\r\nexport class WhatsNewForumPost extends React.Component<StateProps, any> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.showModal = this.showModal.bind(this);\r\n    }\r\n\r\n    fullname() {\r\n        const { author } = this.props;\r\n        return author.FirstName + \" \" + author.LastName;\r\n    }\r\n\r\n    when() {\r\n        const { on } = this.props;\r\n        return \"indlg \" + timeText(on);\r\n    }\r\n\r\n    summary() {\r\n        const { text } = this.props;\r\n        return getWords(text, 5);\r\n    }\r\n\r\n    overlay() {\r\n        const { commentCount } = this.props;\r\n        return <Tooltip id=\"tooltip_post\">Forum indl&aelig;g, antal kommentarer: {commentCount}</Tooltip>;\r\n    }\r\n\r\n    showModal(event: React.MouseEvent<HTMLAnchorElement>) {\r\n        event.preventDefault();\r\n\r\n        const { preview, index } = this.props;\r\n        preview(index);\r\n    }\r\n\r\n    render() {\r\n        const { title } = this.props;\r\n        const name = this.fullname();\r\n         return <WhatsNewTooltip tooltip=\"Forum indlg\">\r\n                    <Media.ListItem className=\"whatsnewItem hover-shadow\">\r\n                        <CommentProfile />\r\n                        <Media.Body>\r\n                            <blockquote>\r\n                                <a href=\"#\" onClick={this.showModal}>{this.summary()}...</a>\r\n                                <footer>{name} {this.when()}<br /><Glyphicon glyph=\"list-alt\" /> {title}</footer>\r\n                            </blockquote>\r\n                        </Media.Body>\r\n                    </Media.ListItem>\r\n                </WhatsNewTooltip>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/whatsnew/WhatsNewForumPost.tsx","import * as React from \"react\";\r\nimport { CommentProfile } from \"../comments/CommentProfile\";\r\nimport { WhatsNewTooltip } from \"./WhatsNewTooltip\";\r\nimport { formatText, getWords, timeText } from \"../../utilities/utils\";\r\nimport { Link } from \"react-router\";\r\nimport { Media, Glyphicon } from \"react-bootstrap\";\r\nimport { Data } from \"../../interfaces/Data\";\r\n\r\ninterface StateProps {\r\n    commentId: number;\r\n    text: string;\r\n    uploadedBy: Data.User;\r\n    imageId: number;\r\n    on: Date;\r\n    author: Data.User;\r\n    filename: string;\r\n}\r\n\r\nexport class WhatsNewItemComment extends React.Component<StateProps, any> {\r\n    createSummary() {\r\n        const { text } = this.props;\r\n        return formatText(getWords(text, 5) + \"...\");\r\n    }\r\n\r\n    fullname() {\r\n        const { author } = this.props;\r\n        return author ? author.FirstName + \" \" + author.LastName : \"User\";\r\n    }\r\n\r\n    when() {\r\n        const { on } = this.props;\r\n        return \"sagde \" + timeText(on);\r\n    }\r\n\r\n    render() {\r\n        const { imageId, uploadedBy, commentId, filename } = this.props;\r\n        const username = uploadedBy.Username;\r\n        const name = this.fullname();\r\n        const summary = this.createSummary();\r\n        const link = `${username}/gallery/image/${imageId}/comment?id=${commentId}`;\r\n        return  <WhatsNewTooltip tooltip=\"Kommentar\">\r\n                    <Media.ListItem className=\"whatsnewItem hover-shadow\">\r\n                        <CommentProfile />\r\n                        <Media.Body>\r\n                            <blockquote>\r\n                                <Link to={link}><em><p dangerouslySetInnerHTML={summary}></p></em></Link>\r\n                                <footer>{name} {this.when()}<br /><Glyphicon glyph=\"comment\" /> {filename}</footer>\r\n                            </blockquote>\r\n                        </Media.Body>\r\n                    </Media.ListItem>\r\n                </WhatsNewTooltip>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/whatsnew/WhatsNewItemComment.tsx","import * as React from \"react\";\r\nimport { CommentProfile } from \"../comments/CommentProfile\";\r\nimport { WhatsNewTooltip } from \"./WhatsNewTooltip\";\r\nimport { Media } from \"react-bootstrap\";\r\nimport { timeText } from \"../../utilities/utils\";\r\nimport { Link } from \"react-router\";\r\nimport { Image, Glyphicon, Tooltip } from \"react-bootstrap\";\r\nimport { Data } from \"../../interfaces/Data\";\r\n\r\ninterface StateProps {\r\n    on: Date;\r\n    imageId: number;\r\n    author: Data.User;\r\n    filename: string;\r\n    extension: string;\r\n    thumbnail: string;\r\n    description: string;\r\n}\r\n\r\nexport class WhatsNewItemImage extends React.Component<StateProps, any> {\r\n    when() {\r\n        const { on } = this.props;\r\n        return \"uploadede \" + timeText(on);\r\n    }\r\n\r\n    overlay() {\r\n        return <Tooltip id=\"tooltip_img\">Bruger billede</Tooltip>;\r\n    }\r\n\r\n    render() {\r\n        const { imageId, author, filename, extension, thumbnail, description } = this.props;\r\n        const username = author.Username;\r\n        const file = `${filename}.${extension}`;\r\n        const link = `${username}/gallery/image/${imageId}`;\r\n        const name = `${author.FirstName} ${author.LastName}`;\r\n\r\n        return  <WhatsNewTooltip tooltip=\"Uploadet billede\">\r\n                    <Media.ListItem className=\"whatsnewItem hover-shadow\">\r\n                            <CommentProfile />\r\n                            <Media.Body>\r\n                                <blockquote>\r\n                                    <span className=\"image-whatsnew-descriptiontext\">{description}</span><br />\r\n                                    <Link to={link}>\r\n                                        <Image src={thumbnail} thumbnail />\r\n                                    </Link>\r\n                                    <footer>{name} {this.when()}<br /><Glyphicon glyph=\"picture\" /> {file}</footer>\r\n                                </blockquote>\r\n                            </Media.Body>\r\n                    </Media.ListItem>\r\n                </WhatsNewTooltip>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/whatsnew/WhatsNewItemImage.tsx","import * as React from \"react\";\r\nimport { WhatsNewItemImage } from \"./WhatsNewItemImage\";\r\nimport { WhatsNewItemComment } from \"./WhatsNewItemComment\";\r\nimport { WhatsNewForumPost } from \"./WhatsNewForumPost\";\r\nimport { Media } from \"react-bootstrap\";\r\nimport { Data, WhatsNewType } from \"../../interfaces/Data\";\r\n\r\ninterface StateProps {\r\n    items: Data.WhatsNew[];\r\n    getUser: (id: number) => Data.User;\r\n    preview: (item: Data.WhatsNew) => void;\r\n}\r\n\r\nexport class WhatsNewList extends React.Component<StateProps, any> {\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.previewPostHandle = this.previewPostHandle.bind(this);\r\n    }\r\n\r\n    previewPostHandle(index: number) {\r\n        const { items, preview } = this.props;\r\n        const item = items[index];\r\n        preview(item);\r\n    }\r\n\r\n    constructItems(): JSX.Element[] {\r\n        const { items, getUser } = this.props;\r\n        const generateKey = (id: number) => \"whatsnew_\" + id;\r\n        return items.map( (item , index ) => {\r\n            const itemKey = generateKey(item.ID);\r\n            const author = getUser(item.AuthorID);\r\n            switch (item.Type) {\r\n                case WhatsNewType.Image:\r\n                {\r\n                    const image = item.Item as Data.WhatsNewImage;\r\n                    return  <WhatsNewItemImage\r\n                                on={item.On}\r\n                                imageId={image.ImageID}\r\n                                filename={image.Filename}\r\n                                extension={image.Extension}\r\n                                thumbnail={image.ThumbnailUrl}\r\n                                author={author}\r\n                                description={image.Description}\r\n                                key={itemKey}\r\n                            />;\r\n                }\r\n                case WhatsNewType.Comment:\r\n                {\r\n                    const comment = item.Item as Data.WhatsNewComment;\r\n                    return  <WhatsNewItemComment\r\n                                commentId={comment.ID}\r\n                                text={comment.Text}\r\n                                uploadedBy={comment.ImageUploadedBy}\r\n                                imageId={comment.ImageID}\r\n                                filename={comment.Filename}\r\n                                on={item.On}\r\n                                author={author}\r\n                                key={itemKey}\r\n                            />;\r\n                }\r\n                case WhatsNewType.ForumPost:\r\n                {\r\n                    const post = item.Item as Data.WhatsNewForumPost;\r\n                    return  <WhatsNewForumPost\r\n                                on={item.On}\r\n                                author={author}\r\n                                title={post.Title}\r\n                                text={post.Text}\r\n                                sticky={post.Sticky}\r\n                                commentCount={post.CommentCount}\r\n                                preview={this.previewPostHandle}\r\n                                index={index}\r\n                                key={itemKey}\r\n                            />;\r\n                }\r\n                default:\r\n                {\r\n                    return null;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const itemNodes = this.constructItems();\r\n        return  <Media.List>\r\n                    {itemNodes}\r\n                </Media.List>;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/whatsnew/WhatsNewList.tsx","import { Link, IndexLink } from \"react-router\";\r\nimport * as React from \"react\";\r\n\r\ninterface LinkProps {\r\n    to: string;\r\n}\r\n\r\nexport class NavLink extends React.Component<LinkProps, any> {\r\n    static contextTypes = {\r\n        router: React.PropTypes.object\r\n    };\r\n\r\n    render() {\r\n        let isActive = this.context.router.isActive(this.props.to, true),\r\n            className = isActive ? \"active\" : \"\";\r\n\r\n        return (\r\n            <li className={className}>\r\n                <Link to={this.props.to}>\r\n                    {this.props.children}\r\n                </Link>\r\n            </li>\r\n        );\r\n    }\r\n}\r\n\r\nexport class IndexNavLink extends React.Component<LinkProps, any> {\r\n    static contextTypes = {\r\n        router: React.PropTypes.object\r\n    };\r\n\r\n    render() {\r\n        let isActive = this.context.router.isActive(this.props.to, true),\r\n            className = isActive ? \"active\" : \"\";\r\n\r\n        return (\r\n            <li className={className}>\r\n                <IndexLink to={this.props.to}>\r\n                    {this.props.children}\r\n                </IndexLink>\r\n            </li>\r\n        );\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/wrappers/Links.tsx","import { combineReducers } from \"redux\";\r\nimport { ActionType as T } from \"../constants/actions\";\r\nimport { Data } from \"../interfaces/Data\";\r\nimport { reducer } from \"../constants/types\";\r\nimport { CommentsState } from \"../interfaces/State\";\r\n\r\ntype Comment = Data.Comment;\r\n\r\nconst comments: reducer<Comment[]> = (state = [], action) => {\r\n    switch (action.type) {\r\n        case T.RECIEVED_COMMENTS:\r\n            return action.payload || [];\r\n        case T.ADD_COMMENT:\r\n            return [...state, action.payload[0]];\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst skip: reducer<number> = (state = 0, action) => {\r\n    switch (action.type) {\r\n        case T.SET_SKIP_COMMENTS:\r\n            return action.payload || 0;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst take: reducer<number> = (state = 10, action) => {\r\n    switch (action.type) {\r\n        case T.SET_TAKE_COMMENTS:\r\n            return action.payload || 10;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst page: reducer<number> = (state = 1, action) => {\r\n    switch (action.type) {\r\n        case T.SET_CURRENT_PAGE:\r\n            return action.payload || 1;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst totalPages: reducer<number> = (state = 0, action) => {\r\n    switch (action.type) {\r\n        case T.SET_TOTAL_PAGES:\r\n            return action.payload || 0;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst focusedComment: reducer<number> = (state = -1, action) => {\r\n    switch (action.type) {\r\n        case T.SET_FOCUSED_COMMENT:\r\n            return action.payload || -1;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst commentsInfo = combineReducers<CommentsState>({\r\n    comments,\r\n    skip,\r\n    take,\r\n    page,\r\n    totalPages,\r\n    focusedComment\r\n});\r\n\r\nexport default commentsInfo;\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/commentsInfo.ts","import { combineReducers } from \"redux\";\r\nimport { ActionType as T } from \"../constants/actions\";\r\nimport { reducer } from \"../constants/types\";\r\nimport { ErrorState } from \"../interfaces/State\";\r\n\r\nexport const title: reducer<string> = (state = \"\", action) => {\r\n    switch (action.type) {\r\n        case T.SET_ERROR_TITLE:\r\n            return action.payload || \"\";\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const message: reducer<string> = (state = \"\", action) => {\r\n    switch (action.type) {\r\n        case T.SET_ERROR_MESSAGE:\r\n            return action.payload || \"\";\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst errorInfo = combineReducers<ErrorState>({\r\n    title,\r\n    message\r\n});\r\n\r\nexport default errorInfo;\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/errorInfo.ts","import { combineReducers } from \"redux\";\r\nimport { union } from \"../utilities/utils\";\r\nimport { ActionType as T } from \"../constants/actions\";\r\nimport { Data } from \"../interfaces/Data\";\r\nimport { reducer } from \"../constants/types\";\r\nimport { ForumTitlesState, ForumState } from \"../interfaces/State\";\r\n\r\nconst skipThreads: reducer<number> = (state = 0, action) => {\r\n    switch (action.type) {\r\n        case T.SET_SKIP_THREADS:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst takeThreads: reducer<number> = (state = 10, action) => {\r\n    switch (action.type) {\r\n        case T.SET_TAKE_THREADS:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst pageThreads: reducer<number> = (state = 1, action) => {\r\n    switch (action.type) {\r\n        case T.SET_PAGE_THREADS:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst totalPagesThread: reducer<number> = (state = 1, action) => {\r\n    switch (action.type) {\r\n        case T.SET_TOTAL_PAGES_THREADS:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst selectedThread: reducer<number> = (state = -1, action) => {\r\n    switch (action.type) {\r\n        case T.SET_SELECTEDTHREAD_ID:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst titles: reducer<Partial<Data.ForumTitle>[]> = (state = [], action) => {\r\n    switch (action.type) {\r\n        case T.ADD_THREAD_TITLE:\r\n            return union(action.payload, state, (t1, t2) => t1.ID === t2.ID);\r\n        case T.SET_THREAD_TITLES:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst postContent: reducer<string> = (state = \"\", action) => {\r\n    switch (action.type) {\r\n        case T.SET_POST_CONTENT:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst titlesInfo = combineReducers<ForumTitlesState>({\r\n    titles,\r\n    skip: skipThreads,\r\n    take: takeThreads,\r\n    page: pageThreads,\r\n    totalPages: totalPagesThread,\r\n    selectedThread\r\n});\r\n\r\nconst forumInfo = combineReducers<ForumState>({\r\n    titlesInfo,\r\n    postContent\r\n});\r\n\r\nexport default forumInfo;\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/forumInfo.ts","import { combineReducers } from \"redux\";\r\nimport { Data } from \"../interfaces/Data\";\r\nimport { General } from \"../interfaces/General\";\r\nimport { ActionType } from \"../constants/Actions\";\r\nimport { put, union } from \"../utilities/utils\";\r\nimport { filter, omit } from \"underscore\";\r\nimport { ImagesState } from \"../interfaces/State\";\r\n\r\ntype ImageReducer = General.KeyValue<Data.Image>;\r\ntype Action<T> = General.Action<T>;\r\n\r\nconst ownerId = (state: number = -1, action: Action<number>): number => {\r\n    switch (action.type) {\r\n        case ActionType.SET_IMAGES_OWNER:\r\n        {\r\n            return action.payload || -1;\r\n        }\r\n        default:\r\n        {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n\r\nconst images = (state: ImageReducer = {}, action: Action<ImageReducer | Partial<Data.Image>>): ImageReducer => {\r\n    switch (action.type) {\r\n        case ActionType.ADD_IMAGE:\r\n        {\r\n            const image = (<Data.Image>action.payload);\r\n            return put(state, image.ImageID, image);\r\n        }\r\n        case ActionType.RECIEVED_USER_IMAGES:\r\n        {\r\n            return (<ImageReducer>action.payload);\r\n        }\r\n        case ActionType.REMOVE_IMAGE:\r\n        {\r\n            const id = (<Data.Image>action.payload).ImageID;\r\n            const removed: ImageReducer = omit(state, id.toString());\r\n            return removed;\r\n        }\r\n        case ActionType.INCR_IMG_COMMENT_COUNT:\r\n        {\r\n            const id = (<Data.Image>action.payload).ImageID;\r\n            const image = state[id];\r\n            image.CommentCount++;\r\n\r\n            const result = put(state, id, image);\r\n            return result;\r\n        }\r\n        case ActionType.DECR_IMG_COMMENT_COUNT:\r\n        {\r\n            const id = (<Data.Image>action.payload).ImageID;\r\n            const image = state[id];\r\n            image.CommentCount--;\r\n\r\n            const result = put(state, id, image);\r\n            return result;\r\n        }\r\n        default:\r\n        {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n\r\nconst selectedImageId = (state: number = -1, action: Action<number>): number => {\r\n    switch (action.type) {\r\n        case ActionType.SET_SELECTED_IMG:\r\n        {\r\n            return action.payload || -1;\r\n        }\r\n        default:\r\n        {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n\r\nconst selectedImageIds = (state: number[] = [], action: Action<number[] | number>): number[] => {\r\n    switch (action.type) {\r\n        case ActionType.ADD_SELECTED_IMAGE_ID:\r\n        {\r\n            const id = <number>action.payload;\r\n            return union(state, [id], (id1, id2) => id1 === id2);\r\n        }\r\n        case ActionType.REMOVE_SELECTED_IMAGE_ID:\r\n        {\r\n            return filter(state, (id) => id !== action.payload);\r\n        }\r\n        case ActionType.CLEAR_SELECTED_IMAGE_IDS:\r\n        {\r\n            return [];\r\n        }\r\n        default:\r\n        {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n\r\nconst imagesInfo = combineReducers<ImagesState>({\r\n    ownerId,\r\n    images,\r\n    selectedImageId,\r\n    selectedImageIds\r\n});\r\n\r\nexport default imagesInfo;\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/imagesInfo.ts","import { combineReducers } from \"redux\";\r\nimport usersInfo from \"./usersInfo\";\r\nimport imagesInfo from \"./imagesInfo\";\r\nimport commentsInfo from \"./commentsInfo\";\r\nimport forumInfo from \"./forumInfo\";\r\nimport statusInfo from \"./statusInfo\";\r\nimport whatsNewInfo from \"./whatsNewInfo\";\r\nimport { Root } from \"../interfaces/State\";\r\n\r\nconst rootReducer = combineReducers<Root>({\r\n    usersInfo,\r\n    imagesInfo,\r\n    commentsInfo,\r\n    forumInfo,\r\n    statusInfo,\r\n    whatsNewInfo\r\n});\r\n\r\nexport default rootReducer;\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/root.ts","import { combineReducers } from \"redux\";\r\nimport { ActionType as T } from \"../constants/Actions\";\r\nimport { StatusState, SpaceState } from \"../interfaces/State\";\r\nimport errorInfo from \"./errorInfo\";\r\nimport { reducer } from \"../constants/types\";\r\nimport { Stack } from \"immutable\";\r\n\r\nexport const hasError: reducer<boolean> = (state = false, action) => {\r\n    switch (action.type) {\r\n        case T.SET_HAS_ERROR:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const message: reducer<string> = (state = \"\", action) => {\r\n    switch (action.type) {\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const loadStack: reducer<Stack<boolean>> = (state = Stack<boolean>(), action) => {\r\n    switch (action.type) {\r\n        case T.START_LOADING: {\r\n            const result = state.push(true);\r\n            return result;\r\n        }\r\n        case T.END_LOADING: {\r\n            const result = state.pop();\r\n            return result;\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const usedSpacekB: reducer<number> = (state = 0, action) => {\r\n    switch (action.type) {\r\n        case T.SET_USED_SPACE_KB:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const totalSpacekB: reducer<number> = (state = -1, action) => {\r\n    switch (action.type) {\r\n        case T.SET_TOTAL_SPACE_KB:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const spaceInfo = combineReducers<SpaceState>({\r\n    usedSpacekB,\r\n    totalSpacekB\r\n});\r\n\r\nconst statusInfo = combineReducers<StatusState>({\r\n    hasError,\r\n    errorInfo,\r\n    spaceInfo,\r\n    message,\r\n    loadStack\r\n});\r\n\r\nexport default statusInfo;\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/statusInfo.ts","import { combineReducers } from \"redux\";\r\nimport { Data } from \"../interfaces/Data\";\r\nimport { General } from \"../interfaces/General\";\r\nimport { ActionType } from \"../constants/Actions\";\r\nimport { UsersState } from \"../interfaces/State\";\r\n\r\ntype UserReducer = General.KeyValue<Data.User>;\r\ntype Action<T> = General.Action<T>;\r\n\r\nconst users = (state: UserReducer = {}, action: Action<General.KeyValue<Data.User>>): UserReducer => {\r\n    switch (action.type) {\r\n        case ActionType.RECIEVED_USERS:\r\n        {\r\n            // Discard old users and replace with current users\r\n            return action.payload;\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst currentUserId = (state: number = -1, action: Action<number>): number => {\r\n    switch (action.type) {\r\n        case ActionType.SET_CURRENT_USER_ID:\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst usersInfo = combineReducers<UsersState>({\r\n    currentUserId,\r\n    users\r\n});\r\n\r\nexport default usersInfo;\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/usersInfo.ts","import { combineReducers } from \"redux\";\r\nimport { Data } from \"../interfaces/Data\";\r\nimport { ActionType as T } from \"../constants/Actions\";\r\nimport { WhatsNewState } from \"../interfaces/State\";\r\nimport { reducer } from \"../constants/types\";\r\n\r\nconst skip: reducer<number> = (state = 0, action) => {\r\n    switch (action.type) {\r\n        case T.SET_SKIP_WHATS_NEW:\r\n            return action.payload || 0;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst take: reducer<number> = (state = 10, action) => {\r\n    switch (action.type) {\r\n        case T.SET_TAKE_WHATS_NEW:\r\n            return action.payload || 10;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst page: reducer<number> = (state = 1, action) => {\r\n    switch (action.type) {\r\n        case T.SET_PAGE_WHATS_NEW:\r\n            return action.payload || 1;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst totalPages: reducer<number> = (state = 0, action) => {\r\n    switch (action.type) {\r\n        case T.SET_TOTAL_PAGES_WHATS_NEW:\r\n            return action.payload || 0;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst items: reducer<Data.WhatsNew[]> = (state = [], action) => {\r\n    switch (action.type) {\r\n        case T.SET_LATEST:\r\n            return action.payload || [];\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst whatsNewInfo = combineReducers<WhatsNewState>({\r\n    skip,\r\n    take,\r\n    page,\r\n    totalPages,\r\n    items\r\n});\r\n\r\nexport default whatsNewInfo;\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/whatsNewInfo.ts","// ** Libraries **\r\nimport * as React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport { Router, Route, IndexRoute, browserHistory } from \"react-router\";\r\nimport { Provider } from \"react-redux\";\r\n\r\n// ** User modules\r\nimport Main from \"./components/shells/Main\";\r\nimport Home from \"./components/containers/Home\";\r\nimport Forum from \"./components/shells/Forum\";\r\nimport ForumList from \"./components/containers/ForumList\";\r\nimport ForumPost from \"./components/containers/ForumPost\";\r\nimport ForumComments from \"./components/containers/ForumComments\";\r\nimport Users from \"./components/containers/Users\";\r\nimport UserImages from \"./components/containers/UserImages\";\r\nimport SelectedImage from \"./components/containers/SelectedImage\";\r\nimport ImageComments from \"./components/containers/ImageComments\";\r\nimport SingleImageComment from \"./components/containers/SingleImageComment\";\r\nimport About from \"./components/containers/About\";\r\nimport store from \"./store/store\";\r\nimport {\r\n    init, fetchForum, selectImage, fetchImages,\r\n    loadComments, fetchComment, fetchWhatsNew,\r\n    fetchSinglePost, fetchPostComments\r\n} from \"./utilities/onstartup\";\r\n\r\n// ** User methods\r\ninit();\r\n\r\nclass App extends React.Component<null, null> {\r\n    render() {\r\n        return  <Provider store={store}>\r\n                    <Router history={browserHistory}>\r\n                        <Route path=\"/\" component={Main}>\r\n                            <IndexRoute component={Home} onEnter={fetchWhatsNew} />\r\n                            <Route path=\"forum\" component={Forum}>\r\n                                <IndexRoute component={ForumList} onEnter={fetchForum} />\r\n                                <Route path=\"post/:id\" component={ForumPost} onEnter={fetchSinglePost}>\r\n                                    <Route path=\"comments\" component={ForumComments} onEnter={fetchPostComments} />\r\n                                </Route>\r\n                            </Route>\r\n                            <Route path=\"users\" component={Users} />\r\n                            <Route path=\":username/gallery\" component={UserImages} onEnter={fetchImages}>\r\n                                <Route path=\"image/:id\" component={SelectedImage} onEnter={selectImage}>\r\n                                    <Route path=\"comments\" component={ImageComments} onEnter={loadComments} />\r\n                                    <Route path=\"comment\" component={SingleImageComment} onEnter={fetchComment} />\r\n                                </Route>\r\n                            </Route>\r\n                            <Route path=\"about\" component={About} />\r\n                        </Route>\r\n                    </Router>\r\n                </Provider>;\r\n    }\r\n}\r\n\r\nrender(<App />, document.getElementById(\"content\"));\n\n\n// WEBPACK FOOTER //\n// ./src/app.tsx","import { ActionType } from \"../constants/actions\";\r\nimport * as fetch from \"isomorphic-fetch\";\r\nimport { options, normalizeComment, responseHandler } from \"../utilities/utils\";\r\nimport { General } from \"../interfaces/General\";\r\nimport { Action as ReduxAction } from \"redux\";\r\nimport { Data } from \"../interfaces/Data\";\r\nimport { fetchResult } from \"../constants/types\";\r\nimport { Dispatch } from \"react-redux\";\r\n\r\ntype Action<T> = General.Action<T>;\r\n\r\nexport const setSkipComments = (skip: number): Action<number> => {\r\n    return {\r\n        type: ActionType.SET_SKIP_COMMENTS,\r\n        payload: skip\r\n    };\r\n};\r\n\r\nexport const setDefaultSkip = (): ReduxAction => {\r\n    return {\r\n        type: ActionType.SET_DEFAULT_SKIP\r\n    };\r\n};\r\n\r\nexport const setDefaultTake = (): ReduxAction => {\r\n    return {\r\n        type: ActionType.SET_DEFAULT_TAKE\r\n    };\r\n};\r\n\r\nexport const setTakeComments = (take: number): Action<number> => {\r\n    return {\r\n        type: ActionType.SET_TAKE_COMMENTS,\r\n        payload: take\r\n    };\r\n};\r\n\r\nexport const setCurrentPage = (page: number): Action<number> => {\r\n    return {\r\n        type: ActionType.SET_CURRENT_PAGE,\r\n        payload: page\r\n    };\r\n};\r\n\r\nexport const setTotalPages = (totalPages: number): Action<number> => {\r\n    return {\r\n        type: ActionType.SET_TOTAL_PAGES,\r\n        payload: totalPages\r\n    };\r\n};\r\n\r\nexport const setDefaultComments = (): ReduxAction => {\r\n    return {\r\n        type: ActionType.SET_DEFAULT_COMMENTS\r\n    };\r\n};\r\n\r\nexport const receivedComments = (comments: Data.Comment[]): Action<Data.Comment[]> => {\r\n    return {\r\n        type: ActionType.RECIEVED_COMMENTS,\r\n        payload: comments\r\n    };\r\n};\r\n\r\nexport const addComment = (comment: Data.Comment): Action<Data.Comment[]> => {\r\n    return {\r\n        type: ActionType.ADD_COMMENT,\r\n        payload: [comment]\r\n    };\r\n};\r\n\r\nexport const setFocusedComment = (commentId: number): Action<number> => {\r\n    return {\r\n        type: ActionType.SET_FOCUSED_COMMENT,\r\n        payload: commentId\r\n    };\r\n};\r\n\r\nexport const newCommentFromServer = (comment: Data.Raw.Comment): Action<Data.Comment[]> => {\r\n    const normalize = normalizeComment(comment);\r\n    return addComment(normalize);\r\n};\r\n\r\nexport const fetchComments = (url: string, skip: number, take: number): fetchResult<any, void> => {\r\n    return (dispatch: Dispatch<any>) => {\r\n        const handler = responseHandler<Data.Raw.Pagination<Data.Raw.Comment>>(dispatch)(r => r.json());\r\n        return fetch(url, options)\r\n            .then(handler)\r\n            .then(data => {\r\n                // Unprocessed comments\r\n                const pageComments = data.CurrentItems;\r\n\r\n                // Set (re-set) info\r\n                dispatch(setSkipComments(skip));\r\n                dispatch(setTakeComments(take));\r\n                dispatch(setCurrentPage(data.CurrentPage));\r\n                dispatch(setTotalPages(data.TotalPages));\r\n\r\n                // normalize\r\n                const comments = pageComments.map(normalizeComment);\r\n                dispatch(receivedComments(comments));\r\n            });\r\n    };\r\n};\r\n\r\nexport const postComment = (url: string, contextId: number, text: string, parentCommentId: number, cb: () => void) => {\r\n    return (_: Dispatch<any>) => {\r\n        const headers = new Headers();\r\n        headers.append(\"Content-Type\", \"application/json\");\r\n        const body = JSON.stringify({\r\n            Text: text,\r\n            ContextID: contextId,\r\n            ParentID: parentCommentId\r\n        });\r\n\r\n        const opt = <RequestInit>Object.assign({}, options, {\r\n            method: \"POST\",\r\n            body: body,\r\n            headers: headers\r\n        });\r\n\r\n        return fetch(url, opt)\r\n            .then(cb);\r\n    };\r\n};\r\n\r\nexport const editComment = (url: string, commentId: number, text: string, cb: () => void): fetchResult<any, void> => {\r\n    return (_) => {\r\n        const headers = new Headers();\r\n        headers.append(\"Content-Type\", \"application/json\");\r\n        const opt = <RequestInit>Object.assign({}, options, {\r\n            method: \"PUT\",\r\n            body: JSON.stringify({ ID: commentId, Text: text }),\r\n            headers: headers\r\n        });\r\n\r\n        return fetch(url, opt)\r\n            .then(cb);\r\n    };\r\n};\r\n\r\nexport const deleteComment = (url: string, cb: () => void): fetchResult<any, void> => {\r\n    return (_) => {\r\n        const opt = Object.assign({}, options, {\r\n            method: \"DELETE\"\r\n        });\r\n\r\n        return fetch(url, opt)\r\n            .then(cb);\r\n    };\r\n};\r\n\r\nexport const fetchAndFocusSingleComment = (id: number): fetchResult<any, void> => {\r\n    return (dispatch) => {\r\n        const url = `${globals.urls.imagecomments}/GetSingle?id=${id}`;\r\n        const handler = responseHandler<Data.Raw.Comment>(dispatch)(r => r.json());\r\n\r\n        return fetch(url, options)\r\n            .then(handler)\r\n            .then(c => {\r\n                const comment = normalizeComment(c);\r\n                dispatch(receivedComments([comment]));\r\n                dispatch(setFocusedComment(comment.CommentID));\r\n            });\r\n    };\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/actions/comments.ts","import * as fetch from \"isomorphic-fetch\";\r\nimport { ActionType } from \"../constants/actions\";\r\nimport { addUser } from \"./users\";\r\nimport { objMap, responseHandler, options } from \"../utilities/utils\";\r\nimport { Dispatch } from \"redux\";\r\nimport { Root } from \"../interfaces/State\";\r\nimport { General } from \"../interfaces/General\";\r\nimport { Data } from \"../interfaces/Data\";\r\nimport { normalizeImage as normalize } from \"../utilities/normalize\";\r\nimport { Action as ReduxAction } from \"redux\";\r\nimport { startLoading } from \"../actions/status\";\r\n\r\nexport const setImagesOwner = (id: number): General.Action<number> => {\r\n    return {\r\n        type: ActionType.SET_IMAGES_OWNER,\r\n        payload: id\r\n    };\r\n};\r\n\r\nexport const recievedUserImages = (images: General.KeyValue<Data.Image>): General.Action<General.KeyValue<Data.Image>> => {\r\n    return {\r\n        type: ActionType.RECIEVED_USER_IMAGES,\r\n        payload: images\r\n    };\r\n};\r\n\r\nexport const setSelectedImg = (id: number): General.Action<number> => {\r\n    return {\r\n        type: ActionType.SET_SELECTED_IMG,\r\n        payload: id\r\n    };\r\n};\r\n\r\nexport const addImage = (img: Data.Image): General.Action<Data.Image> => {\r\n    return {\r\n        type: ActionType.ADD_IMAGE,\r\n        payload: img\r\n    };\r\n};\r\n\r\nexport const removeImage = (id: number): General.Action<Partial<Data.Image>> => {\r\n    return {\r\n        type: ActionType.REMOVE_IMAGE,\r\n        payload: { ImageID: id }\r\n    };\r\n};\r\n\r\nexport const addSelectedImageId = (id: number): General.Action<number> => {\r\n    return {\r\n        type: ActionType.ADD_SELECTED_IMAGE_ID,\r\n        payload: id\r\n    };\r\n};\r\n\r\nexport const removeSelectedImageId = (id: number): General.Action<number> => {\r\n    return {\r\n        type: ActionType.REMOVE_SELECTED_IMAGE_ID,\r\n        payload: id\r\n    };\r\n};\r\n\r\nexport const clearSelectedImageIds = (): ReduxAction => {\r\n    return {\r\n        type: ActionType.CLEAR_SELECTED_IMAGE_IDS,\r\n    };\r\n};\r\n\r\nexport const incrementCommentCount = (imageId: number): General.Action<Partial<Data.Image>> => {\r\n    return {\r\n        type: ActionType.INCR_IMG_COMMENT_COUNT,\r\n        payload: { ImageID: imageId }\r\n    };\r\n};\r\n\r\nexport const decrementCommentCount = (imageId: number): General.Action<Partial<Data.Image>> => {\r\n    return {\r\n        type: ActionType.DECR_IMG_COMMENT_COUNT,\r\n        payload: { ImageID: imageId }\r\n    };\r\n};\r\n\r\nexport const newImageFromServer = (image: Data.Raw.ImageDTO): General.Action<Data.Image> => {\r\n    const normalized = normalize(image);\r\n    return addImage(normalized);\r\n};\r\n\r\nexport const deleteImage = (id: number, username: string) => {\r\n    return (dispatch: Dispatch<Root>) => {\r\n        dispatch(startLoading());\r\n        const url = `${globals.urls.images}?username=${username}&id=${id}`;\r\n        const opt = <RequestInit>Object.assign({}, options, {\r\n            method: \"DELETE\"\r\n        });\r\n        const handler = responseHandler(dispatch)((r) => r.json());\r\n        const result = fetch(url, opt)\r\n            .then(handler)\r\n            .then(() => { dispatch(removeImage(id)); })\r\n            .catch((reason: any) => console.log(reason));\r\n\r\n        return result;\r\n    };\r\n};\r\n\r\nexport const uploadImage = (username: string, description: string, formData: FormData, onSuccess: () => void, onError: (reason: any) => void) => {\r\n    return (dispatch: Dispatch<Root>) => {\r\n        dispatch(startLoading());\r\n\r\n        const url = `${globals.urls.images}?username=${username}&description=${description}`;\r\n        const opt = <RequestInit>Object.assign({}, options, {\r\n            method: \"POST\",\r\n            body: formData\r\n        });\r\n\r\n        const handler = responseHandler(dispatch)(_ => null);\r\n\r\n        return fetch(url, opt)\r\n            .then(handler)\r\n            .then(onSuccess, onError);\r\n    };\r\n};\r\n\r\nexport const fetchUserImages = (username: string) => {\r\n    return (dispatch: Dispatch<Root>) => {\r\n        dispatch(startLoading());\r\n        const url = `${globals.urls.images}?username=${username}`;\r\n        const handler: (r: Response) => Promise<Data.Raw.ImageDTO[]> = responseHandler(dispatch)(r => r.json());\r\n\r\n        return fetch(url, options)\r\n            .then(handler)\r\n            .then((data: Data.Raw.ImageDTO[]) => {\r\n                const normalized = data.map(normalize);\r\n                const obj = objMap<Data.Image, Data.Image>(normalized, (img) => img.ImageID, (img) => img);\r\n                dispatch(recievedUserImages(obj));\r\n            });\r\n    };\r\n};\r\n\r\nexport const deleteImages = (username: string, imageIds: number[] = []) => {\r\n    return (dispatch: Dispatch<Root>) => {\r\n        dispatch(startLoading());\r\n        const ids = imageIds.join(\",\");\r\n        const url = `${globals.urls.images}?username=${username}&ids=${ids}`;\r\n        const opt = Object.assign({}, options, {\r\n            method: \"DELETE\"\r\n        });\r\n\r\n        const handler = responseHandler(dispatch)(_ => null);\r\n\r\n        return fetch(url, opt)\r\n            .then(handler)\r\n            .then(() => { dispatch(clearSelectedImageIds()); })\r\n            .then(() => { dispatch<any>(fetchUserImages(username)); });\r\n    };\r\n};\r\n\r\nexport const setImageOwner = (username: string) => {\r\n    return (dispatch: Dispatch<Root>, getState: () => Root) => {\r\n        // Lazy evaluation\r\n        const findOwner = () => {\r\n            const users = getState().usersInfo.users;\r\n            let user: Data.User = null;\r\n            for (let key in users) {\r\n                user = users[key];\r\n                if (user.Username === username) {\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return user;\r\n        };\r\n\r\n        let owner = findOwner();\r\n\r\n        if (owner) {\r\n            const ownerId = owner.ID;\r\n            dispatch(setImagesOwner(ownerId));\r\n            return Promise.resolve();\r\n        }\r\n        else {\r\n            dispatch(startLoading());\r\n            const url = `${globals.urls.users}?username=${username}`;\r\n            const handler = responseHandler<Data.User>(dispatch)(r => r.json());\r\n            return fetch(url, options)\r\n                .then(handler)\r\n                .then(user => { dispatch(addUser(user)); })\r\n                .then(() => {\r\n                    owner = findOwner();\r\n                    dispatch(setImagesOwner(owner.ID));\r\n                });\r\n        }\r\n    };\r\n};\r\n\r\nexport const fetchSingleImage = (id: number) => {\r\n    return (dispatch: Dispatch<Root>) => {\r\n        dispatch(startLoading());\r\n        const url = `${globals.urls.images}/getbyid?id=${id}`;\r\n        const handler = responseHandler<Data.Raw.ImageDTO>(dispatch)(r => r.json());\r\n        return fetch(url, options)\r\n            .then(handler)\r\n            .then(img => {\r\n                if (!img) return;\r\n                const normalizedImage = normalize(img);\r\n                dispatch(addImage(normalizedImage));\r\n            });\r\n    };\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/actions/images.ts"],"sourceRoot":""}