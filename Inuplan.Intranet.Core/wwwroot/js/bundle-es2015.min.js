"use strict";function _interopDefault(n){return n&&typeof n=="object"&&"default"in n?n["default"]:n}function union(n,t,i){for(var u,r=n.concat(t),f=0;f<r.length;f++)for(u=f+1;u<r.length;u++)i(r[f],r[u])&&(r.splice(u,1),u--);return r}function setCurrentUserId(n){return{type:SET_CURRENT_USER_ID,id:n}}function addUser(n){return{type:ADD_USER,user:n}}function recievedUsers(n){return{type:RECIEVED_USERS,users:n}}function fetchCurrentUser(n){return function(t){var i=getUrl(n),r=responseHandler.bind(this,t);return fetch(i,options).then(r).then(function(n){t(setCurrentUserId(n.ID));t(addUser(n))},onReject)}}function fetchUsers(){return function(n){var t=responseHandler.bind(this,n);return fetch(globals.urls.users,options).then(t).then(function(t){return n(recievedUsers(t))},onReject)}}function setCurrentPage(n){return{type:SET_CURRENT_PAGE,page:n}}function setTotalPages(n){return{type:SET_TOTAL_PAGES,totalPages:n}}function receivedComments(n){return{type:RECIEVED_COMMENTS,comments:n}}function fetchComments(n,t,i){return function(r){var u=globals.urls.comments+"?imageId="+n+"&skip="+t+"&take="+i,f=responseHandler.bind(this,r);return fetch(u,options).then(f).then(function(n){var u=n.CurrentItems,f,e;r(setSkipComments(t));r(setTakeComments(i));r(setCurrentPage(n.CurrentPage));r(setTotalPages(n.TotalPages));f=function(n){n.Deleted||r(addUser(n.Author))};visitComments(u,f);e=u.map(normalizeComment);r(receivedComments(e))},onReject)}}function recievedUserImages(n){return{type:RECIEVED_USER_IMAGES,images:n}}function removeImage(n){return{type:REMOVE_IMAGE,id:n}}function addSelectedImageId(n){return{type:ADD_SELECTED_IMAGE_ID,id:n}}function removeSelectedImageId(n){return{type:REMOVE_SELECTED_IMAGE_ID,id:n}}function clearSelectedImageIds(){return{type:CLEAR_SELECTED_IMAGE_IDS}}function requestDeleteImage(n,t){return function(i){var r=globals.urls.images+"?username="+t+"&id="+n,u=Object.assign({},options,{method:"DELETE"}),f=responseHandler.bind(this,i);return fetch(r,u).then(f).then(function(){return i(removeImage(n))},onReject)}}function uploadImage(n,t){return function(i){var r=globals.urls.images+"?username="+n,u=Object.assign({},options,{method:"POST",body:t}),f=responseHandler.bind(this,i);return fetch(r,u).then(f).then(function(){return i(fetchUserImages(n))},onReject)}}function fetchUserImages(n){return function(t){var i=globals.urls.images+"?username="+n,r=responseHandler.bind(this,t),u=function(n){var i=n.map(normalizeImage);t(recievedUserImages(i.reverse()))};return fetch(i,options).then(r).then(u,onReject)}}function deleteImages(n,t){return t===void 0&&(t=[]),function(i){var r=t.join(),u=globals.urls.images+"?username="+n+"&ids="+r,f=Object.assign({},options,{method:"DELETE"}),e=responseHandler.bind(this,i);return fetch(u,f).then(e).then(function(){return i(clearSelectedImageIds())},onReject).then(function(){return i(fetchUserImages(n))})}}var React=_interopDefault(require("react")),ReactDOM=_interopDefault(require("react-dom")),reactRedux=require("react-redux"),redux=require("redux"),thunk=_interopDefault(require("redux-thunk")),underscore=require("underscore"),reactRouter=require("react-router"),fetch=_interopDefault(require("isomorphic-fetch")),marked=_interopDefault(require("marked")),SET_SELECTED_IMG="SET_SELECTED_IMG",UNSET_SELECTED_IMG="UNSET_SELECTED_IMG",REMOVE_IMAGE="REMOVE_IMAGE",SET_IMAGES_OWNER="SET_IMAGES_OWNER",RECIEVED_USER_IMAGES="RECIEVED_USER_IMAGES",ADD_SELECTED_IMAGE_ID="ADD_SELECTED_IMAGE_ID",REMOVE_SELECTED_IMAGE_ID="REMOVE_SELECTED_IMAGE_ID",CLEAR_SELECTED_IMAGE_IDS="CLEAR_SELECTED_IMAGE_IDS",SET_CURRENT_USER_ID="SET_CURRENT_USER_ID",ADD_USER="ADD_USER",RECIEVED_USERS="RECIEVED_USERS",RECIEVED_COMMENTS="RECIEVED_COMMENTS",SET_CURRENT_PAGE="SET_CURRENT_PAGE",SET_TOTAL_PAGES="SET_TOTAL_PAGES",SET_SKIP_COMMENTS="SET_SKIP_COMMENTS",SET_TAKE_COMMENTS="SET_TAKE_COMMENTS",INCR_COMMENT_COUNT="INCR_COMMENT_COUNT",DECR_COMMENT_COUNT="DECR_COMMENT_COUNT",SET_DEFAULT_SKIP="SET_DEFAULT_SKIP",SET_DEFAULT_TAKE="SET_DEFAULT_TAKE",SET_DEFAULT_COMMENTS="SET_DEFAULT_COMMENTS",SET_ERROR_TITLE="SET_ERROR_TITLE",SET_ERROR_MESSAGE="SET_ERROR_MESSAGE",SET_HAS_ERROR="SET_HAS_ERROR",CLEAR_ERROR_TITLE="CLEAR_ERROR_TITLE",CLEAR_ERROR_MESSAGE="CLEAR_ERROR_MESSAGE",setErrorTitle=function(n){return{type:SET_ERROR_TITLE,title:n}},clearErrorTitle=function(){return{type:CLEAR_ERROR_TITLE}},setErrorMessage=function(n){return{type:SET_ERROR_MESSAGE,message:n}},clearErrorMessage=function(){return{type:CLEAR_ERROR_MESSAGE}},clearError=function(){return function(n){return n(clearErrorTitle()),n(clearErrorMessage()),n(setHasError(!1)),Promise.resolve()}},setHasError=function(n){return{type:SET_HAS_ERROR,hasError:n}},setError=function(n){return function(t){return t(setHasError(!0)),t(setErrorTitle(n.title)),t(setErrorMessage(n.message)),Promise.resolve()}},HttpError=function(n,t){this.title=n;this.message=t},normalizeImage=function(n){return{ImageID:n.ImageID,Filename:n.Filename,Extension:n.Extension,OriginalUrl:n.OriginalUrl,PreviewUrl:n.PreviewUrl,ThumbnailUrl:n.ThumbnailUrl,CommentCount:n.CommentCount,Uploaded:new Date(n.Uploaded)}},normalizeComment=function(n){var t=n.Replies?n.Replies:[],i=t.map(normalizeComment),r=n.Deleted?-1:n.Author.ID;return{CommentID:n.ID,AuthorID:r,Deleted:n.Deleted,PostedOn:n.PostedOn,Text:n.Text,Replies:i}},visitComments=function(n,t){for(var r=function(n){return n.Replies?n.Replies:[]},i=0;i<n.length;i++)depthFirstSearch(n[i],r,t)},depthFirstSearch=function(n,t,i){var u,r;for(i(n),u=t(n),r=0;r<u.length;r++)depthFirstSearch(u[r],t,i)},userEquality=function(n,t){return n.ID==t.ID},responseHandler=function(n,t){if(t.ok)return t.json();switch(t.status){case 400:n(setError(new HttpError("400 Bad Request","The request was not well-formed")));break;case 404:n(setError(new HttpError("404 Not Found","Could not find resource")));break;case 408:n(setError(new HttpError("408 Request Timeout","The server did not respond in time")));case 500:n(setError(new HttpError("500 Server Error","Something went wrong with the API-server")));break;default:n(setError(new HttpError("Oops","Something went wrong!")))}return Promise.reject()},onReject=function(){},users=function(n,t){n===void 0&&(n=[]);switch(t.type){case ADD_USER:return union(n,[t.user],userEquality);case RECIEVED_USERS:return t.users;default:return n}},currentUserId=function(n,t){n===void 0&&(n=-1);switch(t.type){case SET_CURRENT_USER_ID:return t.id;default:return n}},usersInfo=redux.combineReducers({currentUserId:currentUserId,users:users}),ownerId=function(n,t){n===void 0&&(n=-1);switch(t.type){case SET_IMAGES_OWNER:return t.id;default:return n}},images=function(n,t){n===void 0&&(n=[]);switch(t.type){case RECIEVED_USER_IMAGES:return t.images;case REMOVE_IMAGE:return n.filter(function(n){return n.ImageID!=t.id});case INCR_COMMENT_COUNT:return n.map(function(n){return n.ImageID==t.imageId&&n.CommentCount++,n});case DECR_COMMENT_COUNT:return n.map(function(n){return n.ImageID==t.imageId&&n.CommentCount--,n});default:return n}},selectedImageId=function(n,t){n===void 0&&(n=-1);switch(t.type){case SET_SELECTED_IMG:return t.id;case UNSET_SELECTED_IMG:return-1;default:return n}},selectedImageIds=function(n,t){n===void 0&&(n=[]);switch(t.type){case ADD_SELECTED_IMAGE_ID:return union(n,[t.id],function(n,t){return n==t});case REMOVE_SELECTED_IMAGE_ID:return underscore.filter(n,function(n){return n!=t.id});case CLEAR_SELECTED_IMAGE_IDS:return[];default:return n}},imagesInfo=redux.combineReducers({ownerId:ownerId,images:images,selectedImageId:selectedImageId,selectedImageIds:selectedImageIds}),comments=function(n,t){n===void 0&&(n=[]);switch(t.type){case RECIEVED_COMMENTS:return t.comments;case SET_DEFAULT_COMMENTS:return[];default:return n}},skip=function(n,t){n===void 0&&(n=0);switch(t.type){case SET_SKIP_COMMENTS:return t.skip;case SET_DEFAULT_SKIP:return 0;default:return n}},take=function(n,t){n===void 0&&(n=10);switch(t.type){case SET_TAKE_COMMENTS:return t.take;case SET_DEFAULT_TAKE:return 10;default:return n}},page=function(n,t){n===void 0&&(n=1);switch(t.type){case SET_CURRENT_PAGE:return t.page;default:return n}},totalPages=function(n,t){n===void 0&&(n=1);switch(t.type){case SET_TOTAL_PAGES:return t.totalPages;default:return n}},commentsInfo=redux.combineReducers({comments:comments,skip:skip,take:take,page:page,totalPages:totalPages}),title=function(n,t){n===void 0&&(n="");switch(t.type){case SET_ERROR_TITLE:return t.title;case CLEAR_ERROR_TITLE:return"";default:return n}},message$1=function(n,t){n===void 0&&(n="");switch(t.type){case SET_ERROR_MESSAGE:return t.message;case CLEAR_ERROR_MESSAGE:return"";default:return n}},errorInfo=redux.combineReducers({title:title,message:message$1}),hasError=function(n,t){n===void 0&&(n=!1);switch(t.type){case SET_HAS_ERROR:return t.hasError;default:return n}},message=function(n,t){n===void 0&&(n="");switch(t.type){default:return n}},done=function(n,t){n===void 0&&(n=!0);switch(t.type){default:return n}},statusInfo=redux.combineReducers({hasError:hasError,errorInfo:errorInfo,message:message,done:done}),rootReducer=redux.combineReducers({usersInfo:usersInfo,imagesInfo:imagesInfo,commentsInfo:commentsInfo,statusInfo:statusInfo}),store=redux.createStore(rootReducer,redux.applyMiddleware(thunk)),options={mode:"cors",credentials:"include"},getUrl=function(n){return globals.urls.users+"?username="+n},NavLink=function(n){function t(t){n.call(this,t)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.render=function(){var n=this.context.router.isActive(this.props.to,!0),t=n?"active":"";return React.createElement("li",{className:t},React.createElement(reactRouter.Link,this.props,this.props.children))},t}(React.Component),IndexNavLink,setDefaultComments;NavLink.contextTypes={router:React.PropTypes.object};IndexNavLink=function(n){function t(t){n.call(this,t)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.render=function(){var n=this.context.router.isActive(this.props.to,!0),t=n?"active":"";return React.createElement("li",{className:t},React.createElement(reactRouter.IndexLink,this.props,this.props.children))},t}(React.Component);IndexNavLink.contextTypes={router:React.PropTypes.object};var Error=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.render=function(){var n=this.props,t=n.clearError,i=n.title,r=n.message;return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-offset-2 col-lg-8"},React.createElement("div",{className:"alert alert-danger",role:"alert"},React.createElement("button",{onClick:t,type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},React.createElement("span",{"aria-hidden":"true"},"×")),React.createElement("strong",null,i),React.createElement("p",null,r))))},t}(React.Component),mapStateToProps=function(n){return{hasError:n.statusInfo.hasError,error:n.statusInfo.errorInfo}},mapDispatchToProps=function(n){return{clearError:function(){return n(clearError())}}},Shell=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.errorView=function(){var n=this.props,i=n.hasError,r=n.clearError,t=n.error,u=t.title,f=t.message;return i?React.createElement(Error,{title:u,message:f,clearError:r}):null},t.prototype.render=function(){return React.createElement("div",{className:"container-fluid"},React.createElement("div",{className:"navbar navbar-default navbar-static-top"},React.createElement("div",{className:"container"},React.createElement("div",{className:"navbar-header"},React.createElement("button",{type:"button",className:"navbar-toggle","data-toggle":"collapse","data-target":".navbar-collapse"},React.createElement("span",{className:"sr-only"},"Toggle navigation"),React.createElement("span",{className:"icon-bar"}),React.createElement("span",{className:"icon-bar"}),React.createElement("span",{className:"icon-bar"})),React.createElement(reactRouter.Link,{to:"/",className:"navbar-brand"},"Inuplan Intranet")),React.createElement("div",{className:"navbar-collapse collapse"},React.createElement("ul",{className:"nav navbar-nav"},React.createElement(IndexNavLink,{to:"/"},"Forside"),React.createElement(NavLink,{to:"/users"},"Brugere"),React.createElement(NavLink,{to:"/about"},"Om")),React.createElement("p",{className:"nav navbar-text navbar-right"},"Hej, ",globals.currentUsername,"!")))),this.errorView(),this.props.children)},t}(React.Component),Main=reactRedux.connect(mapStateToProps,mapDispatchToProps)(Shell),About=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){document.title="Om"},t.prototype.render=function(){return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-offset-2 col-lg-8"},React.createElement("p",null,"Dette er en single page application! ",React.createElement("br",null),"Teknologier brugt:"),React.createElement("ul",null,React.createElement("li",null,"React"),React.createElement("li",null,"Redux"),React.createElement("li",null,"ReactRouter"),React.createElement("li",null,"Asp.net Core RC 2"),React.createElement("li",null,"Asp.net Web API 2"))))},t}(React.Component),mapStateToProps$1=function(n){return{user:n.usersInfo.users.filter(function(n){return n.Username.toUpperCase()==globals.currentUsername.toUpperCase()})[0]}},HomeView=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){document.title="Forside"},t.prototype.render=function(){var t=this.props,n=t.user,i=n?n.FirstName:"User";return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-offset-2 col-lg-8"},React.createElement("div",{className:"jumbotron"},React.createElement("h1",null,"Velkommen ",React.createElement("small",null,i,"!")),React.createElement("p",{className:"lead"},"Til Inuplans intranet side"))))},t}(React.Component),Home=reactRedux.connect(mapStateToProps$1,null)(HomeView),User=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.render=function(){var n="mailto:"+this.props.email,t="/"+this.props.username+"/gallery";return React.createElement("div",{className:"col-lg-3 panel panel-default",style:{paddingTop:"8px",paddingBottom:"8px"}},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-6"},React.createElement("strong",null,"Brugernavn")),React.createElement("div",{className:"col-lg-6"},this.props.username)),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-6"},React.createElement("strong",null,"Fornavn")),React.createElement("div",{className:"col-lg-6"},this.props.firstName)),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-6"},React.createElement("strong",null,"Efternavn")),React.createElement("div",{className:"col-lg-6"},this.props.lastName)),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-6"},React.createElement("strong",null,"Email")),React.createElement("div",{className:"col-lg-6"},React.createElement("a",{href:n},this.props.email))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-6"},React.createElement("strong",null,"Billeder")),React.createElement("div",{className:"col-lg-6"},React.createElement(reactRouter.Link,{to:t},"Billeder"))))},t}(React.Component),UserList=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.userNodes=function(){var n=this.props,t=n.users;return t.map(function(n){var t="userId_"+n.ID;return React.createElement(User,{username:n.Username,userId:n.ID,firstName:n.FirstName,lastName:n.LastName,email:n.Email,profileUrl:n.ProfileImage,roles:n.Roles,key:t})})},t.prototype.render=function(){var n=this.userNodes();return React.createElement("div",{className:"row"},n)},t}(React.Component),mapUsersToProps=function(n){return{users:n.usersInfo.users}},mapDispatchToProps$1=function(n){return{getUsers:function(){n(fetchUsers())}}},UsersContainer=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){document.title="Brugere";this.props.getUsers()},t.prototype.render=function(){var n=this.props,t=n.users;return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-offset-2 col-lg-8"},React.createElement("div",{className:"page-header"},React.createElement("h1",null,"Inuplan's ",React.createElement("small",null,"brugere"))),React.createElement("div",{className:"row"},React.createElement(UserList,{users:t}))))},t}(React.Component),Users=reactRedux.connect(mapUsersToProps,mapDispatchToProps$1)(UsersContainer),setSkipComments=function(n){return{type:SET_SKIP_COMMENTS,skip:n}},setDefaultSkip=function(){return{type:SET_DEFAULT_SKIP}},setDefaultTake=function(){return{type:SET_DEFAULT_TAKE}},setTakeComments=function(n){return{type:SET_TAKE_COMMENTS,take:n}};setDefaultComments=function(){return{type:SET_DEFAULT_COMMENTS}};var postReply=function(n,t,i){return function(r,u){var f=u().commentsInfo,s=f.skip,h=f.take,c=globals.urls.comments+"?imageId="+n+"&replyId="+t,e=new Headers,o;return e.append("Content-Type","application/json"),o=Object.assign({},options,{method:"POST",body:JSON.stringify({Text:i}),headers:e}),fetch(c,o).then(function(){r(incrementCommentCount(n));r(fetchComments(n,s,h))})}},postComment=function(n,t){return function(i,r){var u=r().commentsInfo,o=u.skip,s=u.take,h=globals.urls.comments+"?imageId="+n,f=new Headers,e;return f.append("Content-Type","application/json"),e=Object.assign({},options,{method:"POST",body:JSON.stringify({Text:t}),headers:f}),fetch(h,e).then(function(){i(incrementCommentCount(n));i(fetchComments(n,o,s))},onReject)}},editComment=function(n,t,i){return function(r,u){var f=u().commentsInfo,s=f.skip,h=f.take,c=globals.urls.comments+"?imageId="+t,e=new Headers,o;return e.append("Content-Type","application/json"),o=Object.assign({},options,{method:"PUT",body:JSON.stringify({ID:n,Text:i}),headers:e}),fetch(c,o).then(function(){r(fetchComments(t,s,h))},onReject)}},deleteComment=function(n,t){return function(i,r){var u=r().commentsInfo,f=u.skip,e=u.take,o=globals.urls.comments+"?commentId="+n,s=Object.assign({},options,{method:"DELETE"});return fetch(o,s).then(function(){i(fetchComments(t,f,e));i(decrementCommentCount(t))},onReject)}},incrementCommentCount=function(n){return{type:INCR_COMMENT_COUNT,imageId:n}},decrementCommentCount=function(n){return{type:DECR_COMMENT_COUNT,imageId:n}};var setSelectedImg=function(n){return{type:SET_SELECTED_IMG,id:n}},removeModal=function(){return function(n,t){var i=t();return n(unsetSelectedImg()),n(setDefaultSkip()),n(setDefaultTake()),n(setDefaultComments()),Promise.resolve()}},unsetSelectedImg=function(){return{type:UNSET_SELECTED_IMG}};var ImageUpload=function(n){function t(t){n.call(this,t);this.handleSubmit=this.handleSubmit.bind(this)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.clearInput=function(n){if(n.value){try{n.value=""}catch(u){}if(n.value){var t=document.createElement("form"),i=n.parentNode,r=n.nextSibling;t.appendChild(n);t.reset();i.insertBefore(n,r)}}},t.prototype.getFiles=function(){var n=document.getElementById("files");return n?n.files:[]},t.prototype.handleSubmit=function(n){var u=this.props,o=u.uploadImage,s=u.username,t,r,i,f,e;if(n.preventDefault(),t=this.getFiles(),t.length!=0){for(r=new FormData,i=0;i<t.length;i++)f=t[i],r.append("file",f);o(s,r);e=document.getElementById("files");this.clearInput(e)}},t.prototype.deleteBtn=function(){var n=this.props,i=n.hasImages,t=n.deleteSelectedImages;return i?React.createElement("button",{type:"button",className:"btn btn-danger",onClick:t},"Slet markeret billeder"):React.createElement("button",{type:"button",className:"btn btn-danger",onClick:t,disabled:"disabled"},"Slet markeret billeder")},t.prototype.render=function(){return React.createElement("div",{className:"row"},React.createElement("br",null),React.createElement("div",{className:"col-lg-4"},React.createElement("form",{onSubmit:this.handleSubmit,id:"form-upload",enctype:"multipart/form-data"},React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"files"},"Upload filer:"),React.createElement("input",{type:"file",className:"form-control",id:"files",name:"files",multiple:!0})),React.createElement("button",{type:"submit",className:"btn btn-primary",id:"upload"},"Upload")," ",this.deleteBtn())))},t}(React.Component),Image=function(n){function t(t){n.call(this,t);this.selectImage=this.selectImage.bind(this);this.checkboxHandler=this.checkboxHandler.bind(this)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.selectImage=function(){var n=this.props,t=n.selectImage,i=n.image;t(i.ImageID)},t.prototype.checkboxHandler=function(n){var e=this.props,t=e.image,o=n.currentTarget.checked,i,r,u,f;o?(i=this.props,r=i.addSelectedImageId,r(t.ImageID)):(u=this.props,f=u.removeSelectedImageId,f(t.ImageID))},t.prototype.commentIcon=function(n){return n==0?React.createElement("div",{className:"col-lg-6 text-muted",onClick:this.selectImage,style:{cursor:"pointer"}},React.createElement("span",{className:"glyphicon glyphicon-comment","aria-hidden":"true"})," ",n):React.createElement("div",{className:"col-lg-6 text-primary",onClick:this.selectImage,style:{cursor:"pointer"}},React.createElement("span",{className:"glyphicon glyphicon-comment","aria-hidden":"true"})," ",n)},t.prototype.checkboxView=function(){var n=this.props,t=n.canEdit,i=n.imageIsSelected,r=n.image,u=i(r.ImageID);return t?React.createElement("div",{className:"col-lg-6 pull-right text-right"},React.createElement("label",null,"Slet ",React.createElement("input",{type:"checkbox",onClick:this.checkboxHandler,checked:u}))):null},t.prototype.render=function(){var t=this.props,n=t.image,i=n.CommentCount;return React.createElement("div",null,React.createElement("a",{onClick:this.selectImage,style:{cursor:"pointer",textDecoration:"none"}},React.createElement("img",{src:n.PreviewUrl,className:"img-thumbnail"})),React.createElement("div",{className:"row"},this.commentIcon(i),this.checkboxView()))},t}(React.Component),elementsPerRow=4,ImageList=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.arrangeArray=function(n){for(var u,e,o,s,f=n.length,h=Math.ceil(f/elementsPerRow),i=[],t=0,r=0;r<h;r++)t=r*elementsPerRow,u=t+elementsPerRow,e=u>f,e?(o=n.slice(t),i.push(o)):(s=n.slice(t,u),i.push(s));return i},t.prototype.imagesView=function(n){if(n.length==0)return null;var t=this.props,i=t.selectImage,r=t.addSelectedImageId,u=t.removeSelectedImageId,s=t.deleteSelectedImages,f=t.canEdit,e=t.imageIsSelected,o=this.arrangeArray(n);return o.map(function(n,t){var o=n.map(function(n){return React.createElement("div",{className:"col-lg-3",key:n.ImageID},React.createElement(Image,{image:n,selectImage:i,canEdit:f,addSelectedImageId:r,removeSelectedImageId:u,imageIsSelected:e}))}),s="rowId"+t;return React.createElement("div",{className:"row",key:s},o)})},t.prototype.render=function(){var n=this.props,t=n.images;return React.createElement("div",{className:"row"},this.imagesView(t))},t}(React.Component),CommentDeleted=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.render=function(){var n=this.props,t=n.replies,i=n.handlers,r=n.constructComments,u=r(t,i);return React.createElement("div",{className:"media pull-left text-left"},React.createElement("div",{className:"media-left",style:{minWidth:"74px"}}),React.createElement("div",{className:"media-body"},React.createElement("small",null,"slettet"),u))},t}(React.Component),ids=function(n){return{replyId:n+"_reply",editId:n+"_edit",deleteId:n+"_delete",editCollapse:n+"_editCollapse",replyCollapse:n+"_replyCollapse"}},CommentControls=function(n){function t(t){n.call(this,t);this.state={text:t.text,reply:""};this.edit=this.edit.bind(this);this.reply=this.reply.bind(this);this.handleTextChange=this.handleTextChange.bind(this);this.handleReplyChange=this.handleReplyChange.bind(this)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.edit=function(){var n=this.props,i=n.editHandle,t=n.commentId,r=this.state,u=r.text,f=ids(t),e=f.editCollapse;i(t,u);$("#"+e).collapse("hide")},t.prototype.reply=function(){var n=this.props,i=n.replyHandle,t=n.commentId,r=this.state,u=r.reply,f=ids(t),e=f.replyCollapse;i(t,u);$("#"+e).collapse("hide");this.setState({reply:""})},t.prototype.showTooltip=function(n){var t=this.props,i=t.commentId,r="#"+i+"_"+n;$(r).tooltip("show")},t.prototype.handleTextChange=function(n){this.setState({text:n.target.value})},t.prototype.handleReplyChange=function(n){this.setState({reply:n.target.value})},t.prototype.render=function(){var s=this,t=this.props,h=t.text,u=t.commentId,c=t.canEdit,l=t.deleteHandle,n=ids(u),f=n.editCollapse,r=n.replyCollapse,e=n.replyId,a=n.editId,v=n.deleteId,o="#"+f,i="#"+r;return c?React.createElement("div",{className:"row"},React.createElement("div",{className:"row",style:{paddingBottom:"5px",paddingLeft:"15px"}},React.createElement("div",{className:"col-lg-4"},React.createElement("a",{onClick:l.bind(null,u),style:{textDecoration:"none",cursor:"pointer"}},React.createElement("span",{onMouseEnter:this.showTooltip.bind(this,"delete"),id:v,"data-toggle":"tooltip",title:"Slet",className:"label label-danger"},React.createElement("span",{className:"glyphicon glyphicon-trash"}))," "),React.createElement("a",{"data-toggle":"collapse","data-target":o,style:{textDecoration:"none",cursor:"pointer"}},React.createElement("span",{onMouseEnter:this.showTooltip.bind(this,"edit"),id:a,"data-toggle":"tooltip",title:"Ændre",className:"label label-success"},React.createElement("span",{className:"glyphicon glyphicon-pencil"}))," "),React.createElement("a",{"data-toggle":"collapse","data-target":i,style:{textDecoration:"none",cursor:"pointer"}},React.createElement("span",{onMouseEnter:this.showTooltip.bind(this,"reply"),id:e,"data-toggle":"tooltip",title:"Svar",className:"label label-primary"},React.createElement("span",{className:"glyphicon glyphicon-envelope"}))))),React.createElement("div",{className:"row",style:{paddingBottom:"5px"}},React.createElement("div",{className:"col-lg-offset-1 col-lg-10 collapse",id:f},React.createElement("textarea",{className:"form-control",value:this.state.text,onChange:this.handleTextChange,rows:"4"}),React.createElement("br",null),React.createElement("button",{type:"button","data-toggle":"collapse",onClick:function(){return s.setState({text:h})},"data-target":o,className:"btn btn-default"},"Luk"),React.createElement("button",{type:"button",className:"btn btn-info",onClick:this.edit},"Gem ændringer"))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-offset-1 col-lg-10 collapse",id:r},React.createElement("textarea",{className:"form-control",value:this.state.reply,onChange:this.handleReplyChange,rows:"4"}),React.createElement("br",null),React.createElement("button",{type:"button","data-toggle":"collapse","data-target":i,className:"btn btn-default"},"Luk"),React.createElement("button",{type:"button",className:"btn btn-info",onClick:this.reply},"Svar")))):React.createElement("div",{className:"row"},React.createElement("div",{className:"row",style:{paddingBottom:"5px",paddingLeft:"15px"}},React.createElement("div",{className:"col-lg-4"},React.createElement("a",{"data-toggle":"collapse","data-target":i},React.createElement("span",{onMouseEnter:this.showTooltip.bind(this,"reply"),id:e,"data-toggle":"tooltip",title:"Svar",className:"label label-primary"},React.createElement("span",{className:"glyphicon glyphicon-envelope"}))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-offset-1 col-lg-10 collapse",id:r},React.createElement("textarea",{className:"form-control",value:this.state.reply,onChange:this.handleReplyChange,rows:"4"}),React.createElement("br",null),React.createElement("button",{type:"button","data-toggle":"collapse","data-target":i,className:"btn btn-default"},"Luk"),React.createElement("button",{type:"button",className:"btn btn-info",onClick:this.reply},"Svar"))))},t}(React.Component),CommentProfile=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.render=function(){return React.createElement("div",{className:"media-left"},React.createElement("img",{className:"media-object img-rounded",src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PCEtLQpTb3VyY2UgVVJMOiBob2xkZXIuanMvNjR4NjQKQ3JlYXRlZCB3aXRoIEhvbGRlci5qcyAyLjYuMC4KTGVhcm4gbW9yZSBhdCBodHRwOi8vaG9sZGVyanMuY29tCihjKSAyMDEyLTIwMTUgSXZhbiBNYWxvcGluc2t5IC0gaHR0cDovL2ltc2t5LmNvCi0tPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PCFbQ0RBVEFbI2hvbGRlcl8xNTRkZThkNTU3NiB0ZXh0IHsgZmlsbDojQUFBQUFBO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1mYW1pbHk6QXJpYWwsIEhlbHZldGljYSwgT3BlbiBTYW5zLCBzYW5zLXNlcmlmLCBtb25vc3BhY2U7Zm9udC1zaXplOjEwcHQgfSBdXT48L3N0eWxlPjwvZGVmcz48ZyBpZD0iaG9sZGVyXzE1NGRlOGQ1NTc2Ij48cmVjdCB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIGZpbGw9IiNFRUVFRUUiLz48Zz48dGV4dCB4PSIxNC41IiB5PSIzNi41Ij42NHg2NDwvdGV4dD48L2c+PC9nPjwvc3ZnPg==","data-holder-rendered":"true",style:{width:"64px",height:"64px"}}),this.props.children)},t}(React.Component),Comment=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.rawMarkup=function(n){if(n){var t=marked(n,{sanitize:!0});return{__html:t}}},t.prototype.render=function(){var n=this.props,f=n.commentId,e=n.postedOn,i=n.authorId,r=n.text,o=n.replies,t=n.handlers,s=n.constructComments,h=t.replyHandle,c=t.editHandle,l=t.deleteHandle,a=t.canEdit,v=t.getUser,u=v(i),y=u.FirstName+" "+u.LastName,p=a(i),w=s(o,t);return React.createElement("div",{className:"media pull-left text-left"},React.createElement(CommentProfile,null),React.createElement("div",{className:"media-body"},React.createElement("h5",{className:"media-heading"},React.createElement("strong",null,y)," ",React.createElement(PostedOn,{postedOn:e})),React.createElement("span",{dangerouslySetInnerHTML:this.rawMarkup(r)}),React.createElement(CommentControls,{canEdit:p,commentId:f,deleteHandle:l,editHandle:c,replyHandle:h,text:r}),w))},t}(React.Component),PostedOn=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.ago=function(){var i=this.props,n=i.postedOn,r=moment(n).fromNow(),u=moment().diff(n,"hours",!0),t;return u>=12.5?(t=moment(n),"d. "+t.format("D MMM YYYY ")+"kl. "+t.format("H:mm")):"for "+r},t.prototype.render=function(){return React.createElement("small",null,"sagde ",this.ago())},t}(React.Component),compactHandlers=function(n,t,i,r,u){return{replyHandle:n,editHandle:t,deleteHandle:i,canEdit:r,getUser:u}},CommentList=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.constructComments=function i(n,t){if(n&&n.length!=0)return n.map(function(n){var r="commentId"+n.CommentID;return n.Deleted?React.createElement("div",{className:"media",key:r},React.createElement(CommentDeleted,{key:r,replies:n.Replies,handlers:t,constructComments:i})):React.createElement("div",{className:"media",key:r},React.createElement(Comment,{key:r,postedOn:n.PostedOn,authorId:n.AuthorID,text:n.Text,replies:n.Replies,commentId:n.CommentID,handlers:t,constructComments:i}))})},t.prototype.render=function(){var n=this.props,t=n.comments,i=n.replyHandle,r=n.editHandle,u=n.deleteHandle,f=n.canEdit,e=n.getUser,h=n.userId,o=compactHandlers(i,r,u,f,e),s=this.constructComments(t,o);return React.createElement("div",null,s)},t}(React.Component),Pagination=function(n){function t(){n.apply(this,arguments)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.prevView=function(){var n=this.props,t=n.currentPage,i=n.prev,r=!(t===1);return r?React.createElement("li",null,React.createElement("a",{href:"#","aria-label":"Previous",onClick:i},React.createElement("span",{"aria-hidden":"true"},"«"))):React.createElement("li",{className:"disabled"},React.createElement("span",{"aria-hidden":"true"},"«"))},t.prototype.nextView=function(){var n=this.props,t=n.totalPages,i=n.currentPage,r=n.next,u=!(t===i)&&!(t===0);return u?React.createElement("li",null,React.createElement("a",{href:"#","aria-label":"Next",onClick:r},React.createElement("span",{"aria-hidden":"true"},"»"))):React.createElement("li",{className:"disabled"},React.createElement("span",{"aria-hidden":"true"},"»"))},t.prototype.render=function(){for(var t,u,i=this.props,f=i.totalPages,e=i.imageId,o=i.currentPage,s=i.getPage,r=[],n=1;n<=f;n++)t="page_item_"+(e+n),n===o?r.push(React.createElement("li",{className:"active",key:t},React.createElement("a",{href:"#",key:t},n))):r.push(React.createElement("li",{key:t,onClick:s.bind(null,n)},React.createElement("a",{href:"#",key:t},n)));return u=r.length>0,u?React.createElement("div",null,React.createElement("div",{className:"col-lg-offset-1 col-lg-9"},React.createElement("nav",null,React.createElement("ul",{className:"pagination"},this.prevView(),r,this.nextView())))):null},t}(React.Component),CommentForm=function(n){function t(t){n.call(this,t);this.state={Text:""};this.postComment=this.postComment.bind(this);this.handleTextChange=this.handleTextChange.bind(this)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.postComment=function(n){n.preventDefault();var t=this.props,i=t.postHandle;i(this.state.Text);this.setState({Text:""})},t.prototype.handleTextChange=function(n){this.setState({Text:n.target.value})},t.prototype.render=function(){return React.createElement("form",{onSubmit:this.postComment},React.createElement("label",{htmlFor:"remark"},"Kommentar"),React.createElement("textarea",{className:"form-control",onChange:this.handleTextChange,value:this.state.Text,placeholder:"Skriv kommentar her...",id:"remark",rows:"4"}),React.createElement("br",null),React.createElement("button",{type:"submit",className:"btn btn-primary"},"Send"))},t}(React.Component),mapStateToProps$3=function(n){return{imageId:n.imagesInfo.selectedImageId,skip:n.commentsInfo.skip,take:n.commentsInfo.take,page:n.commentsInfo.page,totalPages:n.commentsInfo.totalPages,comments:n.commentsInfo.comments,getUser:function(t){return underscore.find(n.usersInfo.users,function(n){return n.ID==t})},canEdit:function(t){return n.usersInfo.currentUserId==t},userId:n.usersInfo.currentUserId}},mapDispatchToProps$3=function(n){return{loadComments:function(t,i,r){n(fetchComments(t,i,r))},postReply:function(t,i,r){n(postReply(t,i,r))},postComment:function(t,i){n(postComment(t,i))},editComment:function(t,i,r){n(editComment(i,t,r))},deleteComment:function(t,i){n(deleteComment(i,t))}}},CommentsContainer=function(n){function t(t){n.call(this,t);this.nextPage=this.nextPage.bind(this);this.getPage=this.getPage.bind(this);this.previousPage=this.previousPage.bind(this)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.nextPage=function(){var n=this.props,i=n.loadComments,r=n.imageId,u=n.skip,t=n.take,f=u+t;i(r,f,t)},t.prototype.getPage=function(n){var t=this.props,r=t.loadComments,u=t.imageId,i=t.take,f=n-1,e=f*i;r(u,e,i)},t.prototype.previousPage=function(){var n=this.props,i=n.loadComments,r=n.imageId,u=n.skip,t=n.take,f=u-t;i(r,f,t)},t.prototype.componentDidMount=function(){var n=this.props,t=n.loadComments,i=n.imageId,r=n.skip,u=n.take;t(i,r,u)},t.prototype.render=function(){var n=this.props,i=n.comments,r=n.postReply,u=n.editComment,f=n.postComment,e=n.deleteComment,o=n.canEdit,s=n.getUser,l=n.userId,t=n.imageId,h=n.page,c=n.totalPages;return React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-offset-1 col-lg-11"},React.createElement(CommentList,{comments:i,replyHandle:r.bind(null,t),editHandle:u.bind(null,t),deleteHandle:e.bind(null,t),canEdit:o,getUser:s}))),React.createElement("div",{className:"row text-left"},React.createElement(Pagination,{imageId:t,currentPage:h,totalPages:c,next:this.nextPage,prev:this.previousPage,getPage:this.getPage})),React.createElement("hr",null),React.createElement("div",{className:"row text-left"},React.createElement("div",{className:"col-lg-offset-1 col-lg-10"},React.createElement(CommentForm,{postHandle:f.bind(null,t)}))))},t}(React.Component),Comments=reactRedux.connect(mapStateToProps$3,mapDispatchToProps$3)(CommentsContainer),Modal=function(n){function t(t){n.call(this,t);this.deleteImage=this.deleteImage.bind(this)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){var n=this.props,t=n.deselectImage;$(ReactDOM.findDOMNode(this)).modal("show");$(ReactDOM.findDOMNode(this)).on("hide.bs.modal",function(){t()})},t.prototype.deleteImage=function(){var n=this.props,t=n.deleteImage,i=n.image,r=n.username,u=i.ImageID;t(u,r);$(ReactDOM.findDOMNode(this)).modal("hide")},t.prototype.deleteImageView=function(){var n=this.props,t=n.canEdit;return t?React.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.deleteImage},"Slet billede"):null},t.prototype.render=function(){var i=this.props,n=i.image,c=n.ImageID,r=n.Filename,u=n.PreviewUrl,f=n.Extension,e=n.OriginalUrl,o=n.Uploaded,s=r+"."+f,t=moment(o),h="Uploaded d. "+t.format("D MMM YYYY ")+"kl. "+t.format("H:mm");return React.createElement("div",{className:"modal fade"},React.createElement("div",{className:"modal-dialog modal-lg"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header"},React.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},React.createElement("span",{"aria-hidden":"true"},"×")),React.createElement("h4",{className:"modal-title text-center"},s,React.createElement("span",null,React.createElement("small",null," - ",h)))),React.createElement("div",{className:"modal-body"},React.createElement("a",{href:e,target:"_blank"},React.createElement("img",{className:"img-responsive center-block",src:u}))),React.createElement("div",{className:"modal-footer"},React.createElement(Comments,null),React.createElement("hr",null),this.deleteImageView(),React.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"Luk"),React.createElement("div",{className:"row"}," ")))))},t}(React.Component),mapStateToProps$2=function(n){return{images:n.imagesInfo.images,canEdit:function(n){return globals.currentUsername==n},getUser:function(t){return n.usersInfo.users.filter(function(n){return n.Username.toUpperCase()==t.toUpperCase()})[0]},selectedImageId:n.imagesInfo.selectedImageId,selectedImageIds:n.imagesInfo.selectedImageIds}},mapDispatchToProps$2=function(n){return{loadImages:function(t){n(fetchUserImages(t))},deleteImage:function(t,i){n(requestDeleteImage(t,i))},uploadImage:function(t,i){n(uploadImage(t,i))},setSelectedImage:function(t){n(setSelectedImg(t))},deselectImage:function(){n(removeModal())},addSelectedImageId:function(t){n(addSelectedImageId(t))},removeSelectedImageId:function(t){n(removeSelectedImageId(t))},deleteImages:function(t,i){n(deleteImages(t,i))},clearSelectedImageIds:function(){n(clearSelectedImageIds())}}},UserImagesContainer=function(n){function t(t){n.call(this,t);this.imageIsSelected=this.imageIsSelected.bind(this);this.deleteSelectedImages=this.deleteSelectedImages.bind(this);this.clearSelected=this.clearSelected.bind(this)}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){var i=this.props.params,t=i.username,n=this.props,r=n.loadImages,u=n.router,f=n.route;u.setRouteLeaveHook(f,this.clearSelected);r(t);document.title=t+"'s billeder"},t.prototype.clearSelected=function(){var n=this.props,t=n.clearSelectedImageIds;return t(),!0},t.prototype.getImage=function(n){var t=this.props,i=t.images;return i.filter(function(t){return t.ImageID==n})[0]},t.prototype.imageIsSelected=function(n){var t=this.props,i=t.selectedImageIds,r=underscore.find(i,function(t){return t==n});return r?!0:!1},t.prototype.deleteSelectedImages=function(){var n=this.props,t=n.selectedImageIds,i=n.deleteImages,r=this.props.params,u=r.username;i(u,t)},t.prototype.uploadView=function(){var n=this.props,i=n.canEdit,r=n.uploadImage,u=n.selectedImageIds,f=this.props.params,t=f.username,e=i(t),o=u.length>0;return e?React.createElement(ImageUpload,{uploadImage:r,username:t,deleteSelectedImages:this.deleteSelectedImages,hasImages:o}):null},t.prototype.modalView=function(){var r=this,n=this.props,t=n.selectedImageId,u=n.canEdit,f=n.deselectImage,e=n.deleteImage,o=this.props.params,i=o.username,s=t>0,h=function(){return r.getImage(t)};return s?React.createElement(Modal,{image:h(),canEdit:u(i),deselectImage:f,deleteImage:e,username:i}):null},t.prototype.render=function(){var r=this.props.params,i=r.username,n=this.props,u=n.images,f=n.getUser,e=n.setSelectedImage,o=n.canEdit,s=n.addSelectedImageId,h=n.removeSelectedImageId,t=f(i),c=t?t.FirstName+" "+t.LastName:"User";return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-offset-2 col-lg-8"},React.createElement("h1",null,React.createElement("span",{className:"text-capitalize"},c.toLowerCase(),"'s")," ",React.createElement("small",null,"billede galleri")),React.createElement("hr",null),React.createElement(ImageList,{images:u,selectImage:e,canEdit:o(i),addSelectedImageId:s,removeSelectedImageId:h,imageIsSelected:this.imageIsSelected}),this.modalView(),this.uploadView()))},t}(React.Component),UserImagesRedux=reactRedux.connect(mapStateToProps$2,mapDispatchToProps$2)(UserImagesContainer),UserImages=reactRouter.withRouter(UserImagesRedux);store.dispatch(fetchCurrentUser(globals.currentUsername));moment.locale("da");ReactDOM.render(React.createElement(reactRedux.Provider,{store:store},React.createElement(reactRouter.Router,{history:reactRouter.browserHistory},React.createElement(reactRouter.Route,{path:"/",component:Main},React.createElement(reactRouter.IndexRoute,{component:Home}),React.createElement(reactRouter.Route,{path:"users",component:Users}),React.createElement(reactRouter.Route,{path:"about",component:About}),React.createElement(reactRouter.Route,{path:":username/gallery",component:UserImages})))),document.getElementById("content"));