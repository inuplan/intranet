"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e["default"]:e}function union(e,t,r){for(var n=e.concat(t),a=0;a<n.length;a++)for(var o=a+1;o<n.length;o++)r(n[a],n[o])&&(n.splice(o,1),o--);return n}function setCurrentUserId(e){return{type:SET_CURRENT_USER_ID,id:e}}function addUser(e){return{type:ADD_USER,user:e}}function recievedUsers(e){return{type:RECIEVED_USERS,users:e}}function fetchCurrentUser(e){return function(t){var r=getUrl(e),n=responseHandler.bind(this,t);return fetch(r,options).then(n).then(function(e){t(setCurrentUserId(e.ID)),t(addUser(e))},onReject)}}function fetchUsers(){return function(e){var t=responseHandler.bind(this,e);return fetch(globals.urls.users,options).then(t).then(function(t){return e(recievedUsers(t))},onReject)}}function setCurrentPage(e){return{type:SET_CURRENT_PAGE,page:e}}function setTotalPages(e){return{type:SET_TOTAL_PAGES,totalPages:e}}function receivedComments(e){return{type:RECIEVED_COMMENTS,comments:e}}function fetchComments(e,t,r){return function(n){var a=globals.urls.comments+"?imageId="+e+"&skip="+t+"&take="+r,o=responseHandler.bind(this,n);return fetch(a,options).then(o).then(function(e){var a=e.CurrentItems;n(setSkipComments(t)),n(setTakeComments(r)),n(setCurrentPage(e.CurrentPage)),n(setTotalPages(e.TotalPages));var o=function(e){e.Deleted||n(addUser(e.Author))};visitComments(a,o);var c=a.map(normalizeComment);n(receivedComments(c))},onReject)}}function recievedUserImages(e){return{type:RECIEVED_USER_IMAGES,images:e}}function removeImage(e){return{type:REMOVE_IMAGE,id:e}}function addSelectedImageId(e){return{type:ADD_SELECTED_IMAGE_ID,id:e}}function removeSelectedImageId(e){return{type:REMOVE_SELECTED_IMAGE_ID,id:e}}function clearSelectedImageIds(){return{type:CLEAR_SELECTED_IMAGE_IDS}}function requestDeleteImage(e,t){return function(r){var n=globals.urls.images+"?username="+t+"&id="+e,a=Object.assign({},options,{method:"DELETE"}),o=responseHandler.bind(this,r);return fetch(n,a).then(o).then(function(){return r(removeImage(e))},undf)}}function uploadImage(e,t){return function(r){var n=globals.urls.images+"?username="+e,a=Object.assign({},options,{method:"POST",body:t}),o=responseHandler.bind(this,r);return fetch(n,a).then(o).then(function(){return r(fetchUserImages(e))},onReject)}}function fetchUserImages(e){return function(t,r){var n=globals.urls.images+"?username="+e,a=responseHandler.bind(this,t),o=function(e){var r=e.map(normalizeImage);t(recievedUserImages(r.reverse()))};return fetch(n,options).then(a).then(o,onReject)}}function deleteImages(e,t){return void 0===t&&(t=[]),function(r){var n=t.join(),a=globals.urls.images+"?username="+e+"&ids="+n,o=Object.assign({},options,{method:"DELETE"}),c=responseHandler.bind(this,r);return fetch(a,o).then(c).then(function(){return r(clearSelectedImageIds())},onReject).then(function(){return r(fetchUserImages(e))})}}var React=_interopDefault(require("react")),ReactDOM=_interopDefault(require("react-dom")),reactRedux=require("react-redux"),redux=require("redux"),thunk=_interopDefault(require("redux-thunk")),underscore=require("underscore"),reactRouter=require("react-router"),fetch=_interopDefault(require("isomorphic-fetch")),marked=_interopDefault(require("marked")),SET_SELECTED_IMG="SET_SELECTED_IMG",UNSET_SELECTED_IMG="UNSET_SELECTED_IMG",REMOVE_IMAGE="REMOVE_IMAGE",SET_IMAGES_OWNER="SET_IMAGES_OWNER",RECIEVED_USER_IMAGES="RECIEVED_USER_IMAGES",ADD_SELECTED_IMAGE_ID="ADD_SELECTED_IMAGE_ID",REMOVE_SELECTED_IMAGE_ID="REMOVE_SELECTED_IMAGE_ID",CLEAR_SELECTED_IMAGE_IDS="CLEAR_SELECTED_IMAGE_IDS",SET_CURRENT_USER_ID="SET_CURRENT_USER_ID",ADD_USER="ADD_USER",RECIEVED_USERS="RECIEVED_USERS",RECIEVED_COMMENTS="RECIEVED_COMMENTS",SET_CURRENT_PAGE="SET_CURRENT_PAGE",SET_TOTAL_PAGES="SET_TOTAL_PAGES",SET_SKIP_COMMENTS="SET_SKIP_COMMENTS",SET_TAKE_COMMENTS="SET_TAKE_COMMENTS",INCR_COMMENT_COUNT="INCR_COMMENT_COUNT",DECR_COMMENT_COUNT="DECR_COMMENT_COUNT",SET_DEFAULT_SKIP="SET_DEFAULT_SKIP",SET_DEFAULT_TAKE="SET_DEFAULT_TAKE",SET_DEFAULT_COMMENTS="SET_DEFAULT_COMMENTS",SET_ERROR_TITLE="SET_ERROR_TITLE",SET_ERROR_MESSAGE="SET_ERROR_MESSAGE",SET_HAS_ERROR="SET_HAS_ERROR",CLEAR_ERROR_TITLE="CLEAR_ERROR_TITLE",CLEAR_ERROR_MESSAGE="CLEAR_ERROR_MESSAGE",setErrorTitle=function(e){return{type:SET_ERROR_TITLE,title:e}},clearErrorTitle=function(){return{type:CLEAR_ERROR_TITLE}},setErrorMessage=function(e){return{type:SET_ERROR_MESSAGE,message:e}},clearErrorMessage=function(){return{type:CLEAR_ERROR_MESSAGE}},clearError=function(){return function(e){return e(clearErrorTitle()),e(clearErrorMessage()),e(setHasError(!1)),Promise.resolve()}},setHasError=function(e){return{type:SET_HAS_ERROR,hasError:e}},setError=function(e){return function(t){return t(setHasError(!0)),t(setErrorTitle(e.title)),t(setErrorMessage(e.message)),Promise.resolve()}},HttpError=function(e,t){this.title=e,this.message=t},normalizeImage=function(e){return{ImageID:e.ImageID,Filename:e.Filename,Extension:e.Extension,OriginalUrl:e.OriginalUrl,PreviewUrl:e.PreviewUrl,ThumbnailUrl:e.ThumbnailUrl,CommentCount:e.CommentCount}},normalizeComment=function(e){var t=e.Replies?e.Replies:[],r=t.map(normalizeComment),n=e.Deleted?-1:e.Author.ID;return{CommentID:e.ID,AuthorID:n,Deleted:e.Deleted,PostedOn:e.PostedOn,Text:e.Text,Replies:r}},visitComments=function(e,t){for(var r=function(e){return e.Replies?e.Replies:[]},n=0;n<e.length;n++)depthFirstSearch(e[n],r,t)},depthFirstSearch=function(e,t,r){r(e);for(var n=t(e),a=0;a<n.length;a++)depthFirstSearch(n[a],t,r)},userEquality=function(e,t){return e.ID==t.ID},responseHandler=function(e,t){if(t.ok)return t.json();switch(t.status){case 400:e(setError(new HttpError("400 Bad Request","The request was not well-formed")));break;case 404:e(setError(new HttpError("404 Not Found","Could not find resource")));break;case 408:e(setError(new HttpError("408 Request Timeout","The server did not respond in time")));case 500:e(setError(new HttpError("500 Server Error","Something went wrong with the API-server")));break;default:e(setError(new HttpError("Oops","Something went wrong!")))}return Promise.reject()},onReject=function(){},users=function(e,t){switch(void 0===e&&(e=[]),t.type){case ADD_USER:return union(e,[t.user],userEquality);case RECIEVED_USERS:return t.users;default:return e}},currentUserId=function(e,t){switch(void 0===e&&(e=-1),t.type){case SET_CURRENT_USER_ID:return t.id;default:return e}},usersInfo=redux.combineReducers({currentUserId:currentUserId,users:users}),ownerId=function(e,t){switch(void 0===e&&(e=-1),t.type){case SET_IMAGES_OWNER:return t.id;default:return e}},images=function(e,t){switch(void 0===e&&(e=[]),t.type){case RECIEVED_USER_IMAGES:return t.images;case REMOVE_IMAGE:return e.filter(function(e){return e.ImageID!=t.id});case INCR_COMMENT_COUNT:return e.map(function(e){return e.ImageID==t.imageId&&e.CommentCount++,e});case DECR_COMMENT_COUNT:return e.map(function(e){return e.ImageID==t.imageId&&e.CommentCount--,e});default:return e}},selectedImageId=function(e,t){switch(void 0===e&&(e=-1),t.type){case SET_SELECTED_IMG:return t.id;case UNSET_SELECTED_IMG:return-1;default:return e}},selectedImageIds=function(e,t){switch(void 0===e&&(e=[]),t.type){case ADD_SELECTED_IMAGE_ID:return union(e,[t.id],function(e,t){return e==t});case REMOVE_SELECTED_IMAGE_ID:return underscore.filter(e,function(e){return e!=t.id});case CLEAR_SELECTED_IMAGE_IDS:return[];default:return e}},imagesInfo=redux.combineReducers({ownerId:ownerId,images:images,selectedImageId:selectedImageId,selectedImageIds:selectedImageIds}),comments=function(e,t){switch(void 0===e&&(e=[]),t.type){case RECIEVED_COMMENTS:return t.comments;case SET_DEFAULT_COMMENTS:return[];default:return e}},skip=function(e,t){switch(void 0===e&&(e=0),t.type){case SET_SKIP_COMMENTS:return t.skip;case SET_DEFAULT_SKIP:return 0;default:return e}},take=function(e,t){switch(void 0===e&&(e=10),t.type){case SET_TAKE_COMMENTS:return t.take;case SET_DEFAULT_TAKE:return 10;default:return e}},page=function(e,t){switch(void 0===e&&(e=1),t.type){case SET_CURRENT_PAGE:return t.page;default:return e}},totalPages=function(e,t){switch(void 0===e&&(e=1),t.type){case SET_TOTAL_PAGES:return t.totalPages;default:return e}},commentsInfo=redux.combineReducers({comments:comments,skip:skip,take:take,page:page,totalPages:totalPages}),title=function(e,t){switch(void 0===e&&(e=""),t.type){case SET_ERROR_TITLE:return t.title;case CLEAR_ERROR_TITLE:return"";default:return e}},message$1=function(e,t){switch(void 0===e&&(e=""),t.type){case SET_ERROR_MESSAGE:return t.message;case CLEAR_ERROR_MESSAGE:return"";default:return e}},errorInfo=redux.combineReducers({title:title,message:message$1}),hasError=function(e,t){switch(void 0===e&&(e=!1),t.type){case SET_HAS_ERROR:return t.hasError;default:return e}},message=function(e,t){switch(void 0===e&&(e=""),t.type){default:return e}},done=function(e,t){switch(void 0===e&&(e=!0),t.type){default:return e}},statusInfo=redux.combineReducers({hasError:hasError,errorInfo:errorInfo,message:message,done:done}),rootReducer=redux.combineReducers({usersInfo:usersInfo,imagesInfo:imagesInfo,commentsInfo:commentsInfo,statusInfo:statusInfo}),store=redux.createStore(rootReducer,redux.applyMiddleware(thunk)),options={mode:"cors",credentials:"include"},getUrl=function(e){return globals.urls.users+"?username="+e},NavLink=function(e){function t(t,r){e.call(this,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.context.router.isActive(this.props.to,!0),t=e?"active":"";return React.createElement("li",{className:t},React.createElement(reactRouter.Link,this.props,this.props.children))},t}(React.Component);NavLink.contextTypes={router:React.PropTypes.object};var IndexNavLink=function(e){function t(t,r){e.call(this,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.context.router.isActive(this.props.to,!0),t=e?"active":"";return React.createElement("li",{className:t},React.createElement(reactRouter.IndexLink,this.props,this.props.children))},t}(React.Component);IndexNavLink.contextTypes={router:React.PropTypes.object};var Error=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.clearError,r=e.title,n=e.message;return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-offset-2 col-lg-8"},React.createElement("div",{className:"alert alert-danger",role:"alert"},React.createElement("button",{onClick:t,type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},React.createElement("span",{"aria-hidden":"true"},"×")),React.createElement("strong",null,r),React.createElement("p",null,n))))},t}(React.Component),mapStateToProps=function(e){return{hasError:e.statusInfo.hasError,error:e.statusInfo.errorInfo}},mapDispatchToProps=function(e){return{clearError:function(){return e(clearError())}}},Shell=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.errorView=function(){var e=this.props,t=e.hasError,r=e.clearError,n=e.error,a=n.title,o=n.message;return t?React.createElement(Error,{title:a,message:o,clearError:r}):null},t.prototype.render=function(){return React.createElement("div",{className:"container-fluid"},React.createElement("div",{className:"navbar navbar-default navbar-static-top"},React.createElement("div",{className:"container"},React.createElement("div",{className:"navbar-header"},React.createElement("button",{type:"button",className:"navbar-toggle","data-toggle":"collapse","data-target":".navbar-collapse"},React.createElement("span",{className:"sr-only"},"Toggle navigation"),React.createElement("span",{className:"icon-bar"}),React.createElement("span",{className:"icon-bar"}),React.createElement("span",{className:"icon-bar"})),React.createElement(reactRouter.Link,{to:"/",className:"navbar-brand"},"Inuplan Intranet")),React.createElement("div",{className:"navbar-collapse collapse"},React.createElement("ul",{className:"nav navbar-nav"},React.createElement(IndexNavLink,{to:"/"},"Forside"),React.createElement(NavLink,{to:"/users"},"Brugere"),React.createElement(NavLink,{to:"/about"},"Om")),React.createElement("p",{className:"nav navbar-text navbar-right"},"Hej, ",globals.currentUsername,"!")))),this.errorView(),this.props.children)},t}(React.Component),Main=reactRedux.connect(mapStateToProps,mapDispatchToProps)(Shell),About=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){document.title="Om"},t.prototype.render=function(){return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-offset-2 col-lg-8"},React.createElement("p",null,"Dette er en single page application! ",React.createElement("br",null),"Teknologier brugt:"),React.createElement("ul",null,React.createElement("li",null,"React"),React.createElement("li",null,"Redux"),React.createElement("li",null,"ReactRouter"),React.createElement("li",null,"Asp.net Core RC 2"),React.createElement("li",null,"Asp.net Web API 2"))))},t}(React.Component),mapStateToProps$1=function(e){return{user:e.usersInfo.users.filter(function(e){return e.Username.toUpperCase()==globals.currentUsername.toUpperCase()})[0]}},HomeView=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){document.title="Forside"},t.prototype.render=function(){var e=this.props,t=e.user,r=t?t.FirstName:"User";return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-offset-2 col-lg-8"},React.createElement("div",{className:"jumbotron"},React.createElement("h1",null,"Velkommen ",React.createElement("small",null,r,"!")),React.createElement("p",{className:"lead"},"Til Inuplans intranet side"))))},t}(React.Component),Home=reactRedux.connect(mapStateToProps$1,null)(HomeView),User=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e="mailto:"+this.props.email,t="/"+this.props.username+"/gallery";return React.createElement("div",{className:"col-lg-3 panel panel-default",style:{paddingTop:"8px",paddingBottom:"8px"}},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-6"},React.createElement("strong",null,"Brugernavn")),React.createElement("div",{className:"col-lg-6"},this.props.username)),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-6"},React.createElement("strong",null,"Fornavn")),React.createElement("div",{className:"col-lg-6"},this.props.firstName)),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-6"},React.createElement("strong",null,"Efternavn")),React.createElement("div",{className:"col-lg-6"},this.props.lastName)),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-6"},React.createElement("strong",null,"Email")),React.createElement("div",{className:"col-lg-6"},React.createElement("a",{href:e},this.props.email))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-6"},React.createElement("strong",null,"Billeder")),React.createElement("div",{className:"col-lg-6"},React.createElement(reactRouter.Link,{to:t},"Billeder"))))},t}(React.Component),UserList=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.userNodes=function(){var e=this.props,t=e.users;return t.map(function(e){var t="userId_"+e.ID;return React.createElement(User,{username:e.Username,userId:e.ID,firstName:e.FirstName,lastName:e.LastName,email:e.Email,profileUrl:e.ProfileImage,roles:e.Roles,key:t})})},t.prototype.render=function(){var e=this.userNodes();return React.createElement("div",{className:"row"},e)},t}(React.Component),mapUsersToProps=function(e){return{users:e.usersInfo.users}},mapDispatchToProps$1=function(e){return{getUsers:function(){e(fetchUsers())}}},UsersContainer=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){document.title="Brugere",this.props.getUsers()},t.prototype.render=function(){var e=this.props,t=e.users;return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-offset-2 col-lg-8"},React.createElement("div",{className:"page-header"},React.createElement("h1",null,"Inuplan's ",React.createElement("small",null,"brugere"))),React.createElement("div",{className:"row"},React.createElement(UserList,{users:t}))))},t}(React.Component),Users=reactRedux.connect(mapUsersToProps,mapDispatchToProps$1)(UsersContainer),setSkipComments=function(e){return{type:SET_SKIP_COMMENTS,skip:e}},setDefaultSkip=function(){return{type:SET_DEFAULT_SKIP}},setDefaultTake=function(){return{type:SET_DEFAULT_TAKE}},setTakeComments=function(e){return{type:SET_TAKE_COMMENTS,take:e}},setDefaultComments=function(){return{type:SET_DEFAULT_COMMENTS}},postReply=function(e,t,r){return function(n,a){var o=a().commentsInfo,c=o.skip,s=o.take,l=globals.urls.comments+"?imageId="+e+"&replyId="+t,i=new Headers;i.append("Content-Type","application/json");var m=Object.assign({},options,{method:"POST",body:JSON.stringify({Text:r}),headers:i});return fetch(l,m).then(function(){n(incrementCommentCount(e)),n(fetchComments(e,c,s))})}},postComment=function(e,t){return function(r,n){var a=n().commentsInfo,o=a.skip,c=a.take,s=globals.urls.comments+"?imageId="+e,l=new Headers;l.append("Content-Type","application/json");var i=Object.assign({},options,{method:"POST",body:JSON.stringify({Text:t}),headers:l});return fetch(s,i).then(function(){r(incrementCommentCount(e)),r(fetchComments(e,o,c))},onReject)}},editComment=function(e,t,r){return function(n,a){var o=a().commentsInfo,c=o.skip,s=o.take,l=globals.urls.comments+"?imageId="+t,i=new Headers;i.append("Content-Type","application/json");var m=Object.assign({},options,{method:"PUT",body:JSON.stringify({ID:e,Text:r}),headers:i});return fetch(l,m).then(function(){n(fetchComments(t,c,s))},onReject)}},deleteComment=function(e,t){return function(r,n){var a=n().commentsInfo,o=a.skip,c=a.take,s=globals.urls.comments+"?commentId="+e,l=Object.assign({},options,{method:"DELETE"});return fetch(s,l).then(function(){r(fetchComments(t,o,c)),r(decrementCommentCount(t))},onReject)}},incrementCommentCount=function(e){return{type:INCR_COMMENT_COUNT,imageId:e}},decrementCommentCount=function(e){return{type:DECR_COMMENT_COUNT,imageId:e}},setSelectedImg=function(e){return{type:SET_SELECTED_IMG,id:e}},removeModal=function(){return function(e,t){t();return e(unsetSelectedImg()),e(setDefaultSkip()),e(setDefaultTake()),e(setDefaultComments()),Promise.resolve()}},unsetSelectedImg=function(){return{type:UNSET_SELECTED_IMG}},ImageUpload=function(e){function t(t){e.call(this,t),this.handleSubmit=this.handleSubmit.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clearInput=function(e){if(e.value){try{e.value=""}catch(t){}if(e.value){var r=document.createElement("form"),n=e.parentNode,a=e.nextSibling;r.appendChild(e),r.reset(),n.insertBefore(e,a)}}},t.prototype.getFiles=function(){var e=document.getElementById("files");return e?e.files:[]},t.prototype.handleSubmit=function(e){var t=this.props,r=t.uploadImage,n=t.username;e.preventDefault();var a=this.getFiles();if(0!=a.length){for(var o=new FormData,c=0;c<a.length;c++){var s=a[c];o.append("file",s)}r(n,o);var l=document.getElementById("files");this.clearInput(l)}},t.prototype.deleteBtn=function(){var e=this.props,t=e.hasImages,r=e.deleteSelectedImages;return t?React.createElement("button",{type:"button",className:"btn btn-danger",onClick:r},"Slet markeret billeder"):React.createElement("button",{type:"button",className:"btn btn-danger",onClick:r,disabled:"disabled"},"Slet markeret billeder")},t.prototype.render=function(){return React.createElement("div",{className:"row"},React.createElement("br",null),React.createElement("div",{className:"col-lg-4"},React.createElement("form",{onSubmit:this.handleSubmit,id:"form-upload",enctype:"multipart/form-data"},React.createElement("div",{className:"form-group"},React.createElement("label",{htmlFor:"files"},"Upload filer:"),React.createElement("input",{type:"file",className:"form-control",id:"files",name:"files",multiple:!0})),React.createElement("button",{type:"submit",className:"btn btn-primary",id:"upload"},"Upload")," ",this.deleteBtn())))},t}(React.Component),Image=function(e){function t(t){e.call(this,t),this.selectImage=this.selectImage.bind(this),this.checkboxHandler=this.checkboxHandler.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.selectImage=function r(){var e=this.props,r=e.selectImage,t=e.image;r(t.ImageID)},t.prototype.checkboxHandler=function(e){var t=this.props,r=t.image,n=e.currentTarget.checked;if(n){var a=this.props,o=a.addSelectedImageId;o(r.ImageID)}else{var c=this.props,s=c.removeSelectedImageId;s(r.ImageID)}},t.prototype.commentIcon=function(e){return 0==e?React.createElement("div",{className:"col-lg-6 text-muted",onClick:this.selectImage,style:{cursor:"pointer"}},React.createElement("span",{className:"glyphicon glyphicon-comment","aria-hidden":"true"})," ",e):React.createElement("div",{className:"col-lg-6 text-primary",onClick:this.selectImage,style:{cursor:"pointer"}},React.createElement("span",{className:"glyphicon glyphicon-comment","aria-hidden":"true"})," ",e)},t.prototype.checkboxView=function(){var e=this.props,t=e.canEdit,r=e.imageIsSelected,n=e.image,a=r(n.ImageID);return t?React.createElement("div",{className:"col-lg-6 pull-right text-right"},React.createElement("label",null,"Slet ",React.createElement("input",{type:"checkbox",onClick:this.checkboxHandler,checked:a}))):null},t.prototype.render=function(){var e=this.props,t=e.image,r=t.CommentCount;return React.createElement("div",null,React.createElement("a",{onClick:this.selectImage,style:{cursor:"pointer",textDecoration:"none"}},React.createElement("img",{src:t.PreviewUrl,className:"img-thumbnail"})),React.createElement("div",{className:"row"},this.commentIcon(r),this.checkboxView()))},t}(React.Component),elementsPerRow=4,ImageList=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.arrangeArray=function(e){for(var t=e.length,r=Math.ceil(t/elementsPerRow),n=[],a=0,o=0;o<r;o++){a=o*elementsPerRow;var c=a+elementsPerRow,s=c>t;if(s){var l=e.slice(a);n.push(l)}else{var i=e.slice(a,c);n.push(i)}}return n},t.prototype.imagesView=function(e){if(0==e.length)return null;var t=this.props,r=t.selectImage,n=t.addSelectedImageId,a=t.removeSelectedImageId,o=(t.deleteSelectedImages,t.canEdit),c=t.imageIsSelected,s=this.arrangeArray(e),l=s.map(function(e,t){var s=e.map(function(e){return React.createElement("div",{className:"col-lg-3",key:e.ImageID},React.createElement(Image,{image:e,selectImage:r,canEdit:o,addSelectedImageId:n,removeSelectedImageId:a,imageIsSelected:c}))}),l="rowId"+t;return React.createElement("div",{className:"row",key:l},s)});return l},t.prototype.render=function(){var e=this.props,t=e.images;return React.createElement("div",{className:"row"},this.imagesView(t))},t}(React.Component),CommentDeleted=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=this.props,t=e.replies,r=e.handlers,n=e.constructComments,a=n(t,r);return React.createElement("div",{className:"media pull-left text-left"},React.createElement("div",{className:"media-left",style:{minWidth:"74px"}}),React.createElement("div",{className:"media-body"},React.createElement("small",null,"slettet"),a))},t}(React.Component),ids=function(e){return{replyId:e+"_reply",editId:e+"_edit",deleteId:e+"_delete",editCollapse:e+"_editCollapse",replyCollapse:e+"_replyCollapse"}},CommentControls=function(e){function t(t){e.call(this,t),this.state={text:t.text,reply:""},this.edit=this.edit.bind(this),this.reply=this.reply.bind(this),this.handleTextChange=this.handleTextChange.bind(this),this.handleReplyChange=this.handleReplyChange.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.edit=function(){var e=this.props,t=e.editHandle,r=e.commentId,n=this.state,a=n.text,o=ids(r),c=o.editCollapse;t(r,a),$("#"+c).collapse("hide")},t.prototype.reply=function r(){var e=this.props,t=e.replyHandle,n=e.commentId,a=this.state,r=a.reply,o=ids(n),c=o.replyCollapse;t(n,r),$("#"+c).collapse("hide"),this.setState({reply:""})},t.prototype.showTooltip=function(e){var t=this.props,r=t.commentId,n="#"+r+"_"+e;$(n).tooltip("show")},t.prototype.handleTextChange=function(e){this.setState({text:e.target.value})},t.prototype.handleReplyChange=function(e){this.setState({reply:e.target.value})},t.prototype.render=function(){var e=this,t=this.props,r=t.text,n=t.commentId,a=t.canEdit,o=t.deleteHandle,c=ids(n),s=c.editCollapse,l=c.replyCollapse,i=c.replyId,m=c.editId,p=c.deleteId,u="#"+s,d="#"+l;return a?React.createElement("div",{className:"row"},React.createElement("div",{className:"row",style:{paddingBottom:"5px",paddingLeft:"15px"}},React.createElement("div",{className:"col-lg-4"},React.createElement("a",{onClick:o.bind(null,n),style:{textDecoration:"none",cursor:"pointer"}},React.createElement("span",{onMouseEnter:this.showTooltip.bind(this,"delete"),id:p,"data-toggle":"tooltip",title:"Slet",className:"label label-danger"},React.createElement("span",{className:"glyphicon glyphicon-trash"}))," "),React.createElement("a",{"data-toggle":"collapse","data-target":u,style:{textDecoration:"none",cursor:"pointer"}},React.createElement("span",{onMouseEnter:this.showTooltip.bind(this,"edit"),id:m,"data-toggle":"tooltip",title:"Ændre",className:"label label-success"},React.createElement("span",{className:"glyphicon glyphicon-pencil"}))," "),React.createElement("a",{"data-toggle":"collapse","data-target":d,style:{textDecoration:"none",cursor:"pointer"}},React.createElement("span",{onMouseEnter:this.showTooltip.bind(this,"reply"),id:i,"data-toggle":"tooltip",title:"Svar",className:"label label-primary"},React.createElement("span",{className:"glyphicon glyphicon-envelope"}))))),React.createElement("div",{className:"row",style:{paddingBottom:"5px"}},React.createElement("div",{className:"col-lg-offset-1 col-lg-10 collapse",id:s},React.createElement("textarea",{className:"form-control",value:this.state.text,onChange:this.handleTextChange,rows:"4"}),React.createElement("br",null),React.createElement("button",{type:"button","data-toggle":"collapse",onClick:function(){return e.setState({text:r})},"data-target":u,className:"btn btn-default"},"Luk"),React.createElement("button",{type:"button",className:"btn btn-info",onClick:this.edit},"Gem ændringer"))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-offset-1 col-lg-10 collapse",id:l},React.createElement("textarea",{className:"form-control",value:this.state.reply,onChange:this.handleReplyChange,rows:"4"}),React.createElement("br",null),React.createElement("button",{type:"button","data-toggle":"collapse","data-target":d,className:"btn btn-default"},"Luk"),React.createElement("button",{type:"button",className:"btn btn-info",onClick:this.reply},"Svar")))):React.createElement("div",{className:"row"},React.createElement("div",{className:"row",style:{paddingBottom:"5px",paddingLeft:"15px"}},React.createElement("div",{className:"col-lg-4"},React.createElement("a",{"data-toggle":"collapse","data-target":d},React.createElement("span",{onMouseEnter:this.showTooltip.bind(this,"reply"),id:i,"data-toggle":"tooltip",title:"Svar",className:"label label-primary"},React.createElement("span",{className:"glyphicon glyphicon-envelope"}))))),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-offset-1 col-lg-10 collapse",id:l},React.createElement("textarea",{className:"form-control",value:this.state.reply,onChange:this.handleReplyChange,rows:"4"}),React.createElement("br",null),React.createElement("button",{type:"button","data-toggle":"collapse","data-target":d,className:"btn btn-default"},"Luk"),React.createElement("button",{type:"button",className:"btn btn-info",onClick:this.reply},"Svar"))))},t}(React.Component),CommentProfile=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){return React.createElement("div",{className:"media-left"},React.createElement("img",{className:"media-object img-rounded",src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PCEtLQpTb3VyY2UgVVJMOiBob2xkZXIuanMvNjR4NjQKQ3JlYXRlZCB3aXRoIEhvbGRlci5qcyAyLjYuMC4KTGVhcm4gbW9yZSBhdCBodHRwOi8vaG9sZGVyanMuY29tCihjKSAyMDEyLTIwMTUgSXZhbiBNYWxvcGluc2t5IC0gaHR0cDovL2ltc2t5LmNvCi0tPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PCFbQ0RBVEFbI2hvbGRlcl8xNTRkZThkNTU3NiB0ZXh0IHsgZmlsbDojQUFBQUFBO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1mYW1pbHk6QXJpYWwsIEhlbHZldGljYSwgT3BlbiBTYW5zLCBzYW5zLXNlcmlmLCBtb25vc3BhY2U7Zm9udC1zaXplOjEwcHQgfSBdXT48L3N0eWxlPjwvZGVmcz48ZyBpZD0iaG9sZGVyXzE1NGRlOGQ1NTc2Ij48cmVjdCB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIGZpbGw9IiNFRUVFRUUiLz48Zz48dGV4dCB4PSIxNC41IiB5PSIzNi41Ij42NHg2NDwvdGV4dD48L2c+PC9nPjwvc3ZnPg==","data-holder-rendered":"true",style:{width:"64px",height:"64px"}}),this.props.children)},t}(React.Component),Comment=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.rawMarkup=function r(e){if(e){var r=marked(e,{sanitize:!0});return{__html:r}}},t.prototype.render=function(){var e=this.props,t=e.commentId,r=e.postedOn,n=e.authorId,a=e.text,o=e.replies,c=e.handlers,s=e.constructComments,l=c.replyHandle,i=c.editHandle,m=c.deleteHandle,p=c.canEdit,u=c.getUser,d=u(n),E=d.FirstName+" "+d.LastName,g=p(n),h=s(o,c);return React.createElement("div",{className:"media pull-left text-left"},React.createElement(CommentProfile,null),React.createElement("div",{className:"media-body"},React.createElement("h5",{className:"media-heading"},React.createElement("strong",null,E)," ",React.createElement(PostedOn,{postedOn:r})),React.createElement("span",{dangerouslySetInnerHTML:this.rawMarkup(a)}),React.createElement(CommentControls,{canEdit:g,commentId:t,deleteHandle:m,editHandle:i,replyHandle:l,text:a}),h))},t}(React.Component),PostedOn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.ago=function r(){var e=this.props,t=e.postedOn,r=moment(t).fromNow(),n=moment().diff(t,"hours",!0);if(n>=12.5){var a=moment(t);return"d. "+a.format("D MMM YYYY ")+"kl. "+a.format("H:mm")}return"for "+r},t.prototype.render=function(){return React.createElement("small",null,"sagde ",this.ago())},t}(React.Component),compactHandlers=function(e,t,r,n,a){return{replyHandle:e,editHandle:t,deleteHandle:r,canEdit:n,getUser:a}},CommentList=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),
t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.constructComments=function r(e,t){if(e&&0!=e.length)return e.map(function(e){var n="commentId"+e.CommentID;return e.Deleted?React.createElement("div",{className:"media",key:n},React.createElement(CommentDeleted,{key:n,replies:e.Replies,handlers:t,constructComments:r})):React.createElement("div",{className:"media",key:n},React.createElement(Comment,{key:n,postedOn:e.PostedOn,authorId:e.AuthorID,text:e.Text,replies:e.Replies,commentId:e.CommentID,handlers:t,constructComments:r}))})},t.prototype.render=function(){var e=this.props,t=e.comments,r=e.replyHandle,n=e.editHandle,a=e.deleteHandle,o=e.canEdit,c=e.getUser,s=(e.userId,compactHandlers(r,n,a,o,c)),l=this.constructComments(t,s);return React.createElement("div",null,l)},t}(React.Component),Pagination=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.prevView=function(){var e=this.props,t=e.currentPage,r=e.prev,n=!(1===t);return n?React.createElement("li",null,React.createElement("a",{href:"#","aria-label":"Previous",onClick:r},React.createElement("span",{"aria-hidden":"true"},"«"))):React.createElement("li",{className:"disabled"},React.createElement("span",{"aria-hidden":"true"},"«"))},t.prototype.nextView=function(){var e=this.props,t=e.totalPages,r=e.currentPage,n=e.next,a=!(t===r||0===t);return a?React.createElement("li",null,React.createElement("a",{href:"#","aria-label":"Next",onClick:n},React.createElement("span",{"aria-hidden":"true"},"»"))):React.createElement("li",{className:"disabled"},React.createElement("span",{"aria-hidden":"true"},"»"))},t.prototype.render=function(){for(var e=this.props,t=e.totalPages,r=e.imageId,n=e.currentPage,a=e.getPage,o=[],c=1;c<=t;c++){var s="page_item_"+(r+c);c===n?o.push(React.createElement("li",{className:"active",key:s},React.createElement("a",{href:"#",key:s},c))):o.push(React.createElement("li",{key:s,onClick:a.bind(null,c)},React.createElement("a",{href:"#",key:s},c)))}var l=o.length>0;return l?React.createElement("div",null,React.createElement("div",{className:"col-lg-offset-1 col-lg-9"},React.createElement("nav",null,React.createElement("ul",{className:"pagination"},this.prevView(),o,this.nextView())))):null},t}(React.Component),CommentForm=function(e){function t(t){e.call(this,t),this.state={Text:""},this.postComment=this.postComment.bind(this),this.handleTextChange=this.handleTextChange.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.postComment=function(e){e.preventDefault();var t=this.props,r=t.postHandle;r(this.state.Text),this.setState({Text:""})},t.prototype.handleTextChange=function(e){this.setState({Text:e.target.value})},t.prototype.render=function(){return React.createElement("form",{onSubmit:this.postComment},React.createElement("label",{htmlFor:"remark"},"Kommentar"),React.createElement("textarea",{className:"form-control",onChange:this.handleTextChange,value:this.state.Text,placeholder:"Skriv kommentar her...",id:"remark",rows:"4"}),React.createElement("br",null),React.createElement("button",{type:"submit",className:"btn btn-primary"},"Send"))},t}(React.Component),mapStateToProps$3=function(e){return{imageId:e.imagesInfo.selectedImageId,skip:e.commentsInfo.skip,take:e.commentsInfo.take,page:e.commentsInfo.page,totalPages:e.commentsInfo.totalPages,comments:e.commentsInfo.comments,getUser:function(t){return underscore.find(e.usersInfo.users,function(e){return e.ID==t})},canEdit:function(t){return e.usersInfo.currentUserId==t},userId:e.usersInfo.currentUserId}},mapDispatchToProps$3=function(e){return{loadComments:function(t,r,n){e(fetchComments(t,r,n))},postReply:function(t,r,n){e(postReply(t,r,n))},postComment:function(t,r){e(postComment(t,r))},editComment:function(t,r,n){e(editComment(r,t,n))},deleteComment:function(t,r){e(deleteComment(r,t))}}},CommentsContainer=function(e){function t(t){e.call(this,t),this.nextPage=this.nextPage.bind(this),this.getPage=this.getPage.bind(this),this.previousPage=this.previousPage.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.nextPage=function(){var e=this.props,t=e.loadComments,r=e.imageId,n=e.skip,a=e.take,o=n+a;t(r,o,a)},t.prototype.getPage=function(e){var t=this.props,r=t.loadComments,n=t.imageId,a=t.take,o=e-1,c=o*a;r(n,c,a)},t.prototype.previousPage=function(){var e=this.props,t=e.loadComments,r=e.imageId,n=e.skip,a=e.take,o=n-a;t(r,o,a)},t.prototype.componentDidMount=function(){var e=this.props,t=e.loadComments,r=e.imageId,n=e.skip,a=e.take;t(r,n,a)},t.prototype.render=function(){var e=this.props,t=e.comments,r=e.postReply,n=e.editComment,a=e.postComment,o=e.deleteComment,c=e.canEdit,s=e.getUser,l=(e.userId,e.imageId),i=e.page,m=e.totalPages;return React.createElement("div",null,React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-offset-1 col-lg-11"},React.createElement(CommentList,{comments:t,replyHandle:r.bind(null,l),editHandle:n.bind(null,l),deleteHandle:o.bind(null,l),canEdit:c,getUser:s}))),React.createElement("div",{className:"row text-left"},React.createElement(Pagination,{imageId:l,currentPage:i,totalPages:m,next:this.nextPage,prev:this.previousPage,getPage:this.getPage})),React.createElement("hr",null),React.createElement("div",{className:"row text-left"},React.createElement("div",{className:"col-lg-offset-1 col-lg-10"},React.createElement(CommentForm,{postHandle:a.bind(null,l)}))))},t}(React.Component),Comments=reactRedux.connect(mapStateToProps$3,mapDispatchToProps$3)(CommentsContainer),Modal=function(e){function t(t){e.call(this,t),this.deleteImage=this.deleteImage.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){var e=this.props,t=e.deselectImage;$(ReactDOM.findDOMNode(this)).modal("show"),$(ReactDOM.findDOMNode(this)).on("hide.bs.modal",function(e){t()})},t.prototype.deleteImage=function r(){var e=this.props,r=e.deleteImage,t=e.image,n=e.username,a=t.ImageID;r(a,n),$(ReactDOM.findDOMNode(this)).modal("hide")},t.prototype.deleteImageView=function(){var e=this.props,t=e.canEdit;return t?React.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.deleteImage},"Slet billede"):null},t.prototype.render=function(){var e=this.props,t=e.image,r=(t.ImageID,t.Filename),n=t.PreviewUrl,a=t.Extension,o=t.OriginalUrl,c=r+"."+a;return React.createElement("div",{className:"modal fade"},React.createElement("div",{className:"modal-dialog modal-lg"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header"},React.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},React.createElement("span",{"aria-hidden":"true"},"×")),React.createElement("h4",{className:"modal-title text-center"},c)),React.createElement("div",{className:"modal-body"},React.createElement("a",{href:o,target:"_blank"},React.createElement("img",{className:"img-responsive center-block",src:n}))),React.createElement("div",{className:"modal-footer"},React.createElement(Comments,null),React.createElement("hr",null),this.deleteImageView(),React.createElement("button",{type:"button",className:"btn btn-default","data-dismiss":"modal"},"Luk"),React.createElement("div",{className:"row"}," ")))))},t}(React.Component),mapStateToProps$2=function(e){return{images:e.imagesInfo.images,canEdit:function(e){return globals.currentUsername==e},getUser:function(t){return e.usersInfo.users.filter(function(e){return e.Username.toUpperCase()==t.toUpperCase()})[0]},selectedImageId:e.imagesInfo.selectedImageId,selectedImageIds:e.imagesInfo.selectedImageIds}},mapDispatchToProps$2=function(e){return{loadImages:function(t){e(fetchUserImages(t))},deleteImage:function(t,r){e(requestDeleteImage(t,r))},uploadImage:function(t,r){e(uploadImage(t,r))},setSelectedImage:function(t){e(setSelectedImg(t))},deselectImage:function(){e(removeModal())},addSelectedImageId:function(t){e(addSelectedImageId(t))},removeSelectedImageId:function(t){e(removeSelectedImageId(t))},deleteImages:function(t,r){e(deleteImages(t,r))},clearSelectedImageIds:function(){e(clearSelectedImageIds())}}},UserImagesContainer=function(e){function t(t){e.call(this,t),this.imageIsSelected=this.imageIsSelected.bind(this),this.deleteSelectedImages=this.deleteSelectedImages.bind(this),this.clearSelected=this.clearSelected.bind(this)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){var e=this.props.params,t=e.username,r=this.props,n=r.loadImages,a=r.router,o=r.route;a.setRouteLeaveHook(o,this.clearSelected),n(t),document.title=t+"'s billeder"},t.prototype.clearSelected=function(){var e=this.props,t=e.clearSelectedImageIds;return t(),!0},t.prototype.getImage=function(e){var t=this.props,r=t.images,n=r.filter(function(t){return t.ImageID==e})[0];return n},t.prototype.imageIsSelected=function(e){var t=this.props,r=t.selectedImageIds,n=underscore.find(r,function(t){return t==e});return!!n},t.prototype.deleteSelectedImages=function(){var e=this.props,t=e.selectedImageIds,r=e.deleteImages,n=this.props.params,a=n.username;r(a,t)},t.prototype.uploadView=function(){var e=this.props,t=e.canEdit,r=e.uploadImage,n=e.selectedImageIds,a=this.props.params,o=a.username,c=t(o),s=n.length>0;return c?React.createElement(ImageUpload,{uploadImage:r,username:o,deleteSelectedImages:this.deleteSelectedImages,hasImages:s}):null},t.prototype.modalView=function(){var e=this,t=this.props,r=t.selectedImageId,n=t.canEdit,a=t.deselectImage,o=t.deleteImage,c=this.props.params,s=c.username,l=r>0,i=function(){return e.getImage(r)};return l?React.createElement(Modal,{image:i(),canEdit:n(s),deselectImage:a,deleteImage:o,username:s}):null},t.prototype.render=function(){var e=this.props.params,t=e.username,r=this.props,n=r.images,a=r.getUser,o=r.setSelectedImage,c=r.canEdit,s=r.addSelectedImageId,l=r.removeSelectedImageId,i=a(t),m=i?i.FirstName+" "+i.LastName:"User";return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-lg-offset-2 col-lg-8"},React.createElement("h1",null,React.createElement("span",{className:"text-capitalize"},m.toLowerCase(),"'s")," ",React.createElement("small",null,"billede galleri")),React.createElement("hr",null),React.createElement(ImageList,{images:n,selectImage:o,canEdit:c(t),addSelectedImageId:s,removeSelectedImageId:l,imageIsSelected:this.imageIsSelected}),this.modalView(),this.uploadView()))},t}(React.Component),UserImagesRedux=reactRedux.connect(mapStateToProps$2,mapDispatchToProps$2)(UserImagesContainer),UserImages=reactRouter.withRouter(UserImagesRedux);store.dispatch(fetchCurrentUser(globals.currentUsername)),moment.locale("da"),ReactDOM.render(React.createElement(reactRedux.Provider,{store:store},React.createElement(reactRouter.Router,{history:reactRouter.browserHistory},React.createElement(reactRouter.Route,{path:"/",component:Main},React.createElement(reactRouter.IndexRoute,{component:Home}),React.createElement(reactRouter.Route,{path:"users",component:Users}),React.createElement(reactRouter.Route,{path:"about",component:About}),React.createElement(reactRouter.Route,{path:":username/gallery",component:UserImages})))),document.getElementById("content"));